;/*FB_PKG_DELIM*/

/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<8dadbcb071e362fba45e3ee30bbb8713>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("Lexical.prod",[],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _A,_D;function t(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t2 of e)r.append("v",_t2);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function e(t){for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _t3 of e)r.append("v",_t3);n.search=r.toString(),console.warn("Minified Lexical warning #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,r=n&&"documentMode"in document?document.documentMode:null,o=n&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i=n&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),s=!(!n||!("InputEvent"in window)||r)&&"getTargetRanges"in new window.InputEvent("input"),l=n&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=n&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,a=n&&/Android/.test(navigator.userAgent),u=n&&/^(?=.*Chrome).*/i.test(navigator.userAgent),f=n&&a&&u,d=n&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!u;function h(){var e=[];for(var _len3=arguments.length,t=new Array(_len3),_key3=0;_key3<_len3;_key3++){t[_key3]=arguments[_key3];}for(var _n2 of t)if(_n2&&"string"==typeof _n2)for(var _ref2 of _n2.matchAll(/\S+/g)){var _t4=_ref2[0];e.push(_t4);}return e;}var g=0,_=1,p=2,y=128,m=1,x=2,C=3,S=4,N=5,T=6,v=l||c||d?" ":"​",k="\n\n",E=i?" ":v,b={bold:1,capitalize:1024,code:16,highlight:y,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},O={directionless:1,unmergeable:2},M={center:2,end:6,justify:4,left:1,right:3,start:5},A=(_A={},_A[x]="center",_A[T]="end",_A[S]="justify",_A[m]="left",_A[C]="right",_A[N]="start",_A),w={normal:0,segmented:2,token:1},D=(_D={},_D[g]="normal",_D[p]="segmented",_D[_]="token",_D),P="$config";function I(t,e,n,r,o,i){var s=t.getFirstChild();for(;null!==s;){var _t5=s.__key;s.__parent===e&&($r(s)&&I(s,_t5,n,r,o,i),n.has(_t5)||i["delete"](_t5),o.push(_t5)),s=s.getNextSibling();}}var L=!1,F=0;function R(t){F=t.timeStamp;}function K(t,e,n){var r="BR"===t.nodeName,o=e.__lexicalLineBreak;return o&&(t===o||r&&t.previousSibling===o)||r&&void 0!==Io(t,n);}function B(t,e,n){var r=ki(pi(n));var o=null,i=null;null!==r&&r.anchorNode===t&&(o=r.anchorOffset,i=r.focusOffset);var s=t.nodeValue;null!==s&&Ho(e,s,o,i,!1);}function z(t,e,n){if(Wn(t)){var _e2=t.anchor.getNode();if(_e2.is(n)&&t.format!==_e2.getFormat())return!1;}return To(e)&&n.isAttached();}function $(t,e,n,r){for(var _o2=t;_o2&&!Bi(_o2);_o2=ui(_o2)){var _t6=Io(_o2,e);if(void 0!==_t6){var _e3=Do(_t6,n);if(_e3)return Jr(_e3)||!bi(_o2)?void 0:[_o2,_e3];}else if(_o2===r)return[r,Bo(n)];}}function W(t,e,n){L=!0;var r=performance.now()-F>100;try{Rr(t,function(){var o=or()||function(t){return t.getEditorState().read(function(){var t=or();return null!==t?t.clone():null;});}(t),s=new Map(),l=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;var u=!1,f="";for(var _n3=0;_n3<e.length;_n3++){var _d=e[_n3],_h=_d.type,_g=_d.target,_2=$(_g,t,c,l);if(!_2)continue;var _p=_2[0],_y=_2[1];if("characterData"===_h)r&&Dn(_y)&&To(_g)&&z(o,_g,_y)&&B(_g,_y,t);else if("childList"===_h){u=!0;var _e4=_d.addedNodes;for(var _n4=0;_n4<_e4.length;_n4++){var _r2=_e4[_n4],_o3=Po(_r2),_s2=_r2.parentNode;if(null!=_s2&&_r2!==a&&null===_o3&&!K(_r2,_s2,t)){if(i){var _t7=(bi(_r2)?_r2.innerText:null)||_r2.nodeValue;_t7&&(f+=_t7);}_s2.removeChild(_r2);}}var _n5=_d.removedNodes,_r3=_n5.length;if(_r3>0){var _e5=0;for(var _o4=0;_o4<_r3;_o4++){var _r4=_n5[_o4];(K(_r4,_g,t)||a===_r4)&&(_g.appendChild(_r4),_e5++);}_r3!==_e5&&s.set(_p,_y);}}}if(s.size>0)for(var _ref4 of s){var _e6=_ref4[0];var _n6=_ref4[1];_n6.reconcileObservedMutation(_e6,t);}var d=n.takeRecords();if(d.length>0){for(var _e7=0;_e7<d.length;_e7++){var _n7=d[_e7],_r5=_n7.addedNodes,_o5=_n7.target;for(var _e8=0;_e8<_r5.length;_e8++){var _n8=_r5[_e8],_i2=_n8.parentNode;null==_i2||"BR"!==_n8.nodeName||K(_n8,_o5,t)||_i2.removeChild(_n8);}}n.takeRecords();}null!==o&&(u&&zo(o),i&&si(t)&&o.insertRawText(f));});}finally{L=!1;}}function U(t){var e=t._observer;if(null!==e){W(t,e.takeRecords(),e);}}function J(t){!function(t){0===F&&pi(t).addEventListener("textInput",R,!0);}(t),t._observer=new MutationObserver(function(e,n){W(t,e,n);});}var Y=function Y(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||Q).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0);};function j(t,e,n){if(n===void 0){n="latest";}var r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue;}function H(t){var e=new Map(),n=new Set();for(var _r6="function"==typeof t?t:t.replace;_r6.prototype&&void 0!==_r6.prototype.getType;_r6=Object.getPrototypeOf(_r6)){var _Wi=Wi(_r6),_t8=_Wi.ownNodeConfig;if(_t8&&_t8.stateConfigs)for(var _r7 of _t8.stateConfigs){var _t9=void 0;"stateConfig"in _r7?(_t9=_r7.stateConfig,_r7.flat&&n.add(_t9.key)):_t9=_r7,e.set(_t9.key,_t9);}}return{flatKeys:n,sharedConfigMap:e};}var _V=function(){function V(t,e,n,r,o){if(n===void 0){n=void 0;}if(r===void 0){r=new Map();}if(o===void 0){o=void 0;}this.node=t,this.sharedNodeState=e,this.unknownState=n,this.knownState=r;var i=this.sharedNodeState.sharedConfigMap,s=void 0!==o?o:function(t,e,n){var r=n.size;if(e)for(var _o6 in e){var _e9=t.get(_o6);_e9&&n.has(_e9)||r++;}return r;}(i,n,r);this.size=s;}var _proto=V.prototype;_proto.getValue=function getValue(t){var e=this.knownState.get(t);if(void 0!==e)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);var n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){var _e0=this.unknownState[t.key];void 0!==_e0&&(n=t.parse(_e0)),this.updateFromKnown(t,n);}return n;};_proto.getInternalState=function getInternalState(){return[this.unknownState,this.knownState];};_proto.toJSON=function toJSON(){var t=babelHelpers["extends"]({},this.unknownState),e={};for(var _ref6 of this.knownState){var _e1=_ref6[0];var _n9=_ref6[1];_e1.isEqual(_n9,_e1.defaultValue)?delete t[_e1.key]:t[_e1.key]=_e1.unparse(_n9);}for(var _n0 of this.sharedNodeState.flatKeys)_n0 in t&&(e[_n0]=t[_n0],delete t[_n0]);return X(t)&&(e.$=t),e;};_proto.getWritable=function getWritable(t){if(this.node===t)return this;var e=this.sharedNodeState,n=this.unknownState,r=new Map(this.knownState);return new V(t,e,function(t,e,n){var r;if(n)for(var _ref8 of Object.entries(n)){var _o7=_ref8[0];var _i3=_ref8[1];{var _n1=t.get(_o7);_n1?e.has(_n1)||e.set(_n1,_n1.parse(_i3)):(r=r||{},r[_o7]=_i3);}}return r;}(e.sharedConfigMap,r,n),r,this.size);};_proto.updateFromKnown=function updateFromKnown(t,e){var n=t.key;this.sharedNodeState.sharedConfigMap.set(n,t);var r=this.knownState,o=this.unknownState;r.has(t)||o&&n in o||(o&&(delete o[n],this.unknownState=X(o)),this.size++),r.set(t,e);};_proto.updateFromUnknown=function updateFromUnknown(t,e){var n=this.sharedNodeState.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e);};_proto.updateFromJSON=function updateFromJSON(t){var e=this.knownState;for(var _t0 of e.keys())e.set(_t0,_t0.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(var _ref0 of Object.entries(t)){var _e10=_ref0[0];var _n10=_ref0[1];this.updateFromUnknown(_e10,_n10);}};return V;}();function G(t){var e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new _V(e,q(e));return e.__state=n,n;}function q(t){return t.__state?t.__state.sharedNodeState:fo(Pi(),t.getType()).sharedNodeState;}function X(t){if(t)for(var _e11 in t)return t;}function Q(t){return t;}function Z(t,e,n){for(var _ref10 of e.knownState){var _r8=_ref10[0];var _o8=_ref10[1];{if(t.has(_r8.key))continue;t.add(_r8.key);var _e12=n?n.getValue(_r8):_r8.defaultValue;if(_e12!==_o8&&!_r8.isEqual(_e12,_o8))return!0;}}return!1;}function tt(t,e,n){var r=e.unknownState,o=n?n.unknownState:void 0;if(r)for(var _ref12 of Object.entries(r)){var _e13=_ref12[0];var _n11=_ref12[1];if(t.has(_e13))continue;t.add(_e13);if(_n11!==(o?o[_e13]:void 0))return!0;}return!1;}function et(t,e){var n=t.__state;return n&&n.node===t?n.getWritable(e):n;}function nt(t,e){var n=t.__mode,r=t.__format,o=t.__style,i=e.__mode,s=e.__format,l=e.__style,c=t.__state,a=e.__state;return(null===n||n===i)&&(null===r||r===s)&&(null===o||o===l)&&(null===t.__state||c===a||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;var n=new Set();return!(t&&Z(n,t,e)||e&&Z(n,e,t)||t&&tt(n,t,e)||e&&tt(n,e,t));}(c,a));}function rt(t,e){var n=t.mergeWithSibling(e),r=kr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n;}function ot(t){var e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Dn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(nt(e,r)){r=rt(e,r);break;}break;}e.remove();}for(;null!==(n=r.getNextSibling())&&Dn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(nt(r,n)){r=rt(r,n);break;}break;}n.remove();}}else r.remove();}function it(t){return st(t.anchor),st(t.focus),t;}function st(t){for(;"element"===t.type;){var _e14=t.getNode(),_n12=t.offset;var _r9=void 0,_o9=void 0;if(_n12===_e14.getChildrenSize()?(_r9=_e14.getChildAtIndex(_n12-1),_o9=!0):(_r9=_e14.getChildAtIndex(_n12),_o9=!1),Dn(_r9)){t.set(_r9.__key,_o9?_r9.getTextContentSize():0,"text",!0);break;}if(!$r(_r9))break;t.set(_r9.__key,_o9?_r9.getChildrenSize():0,"element",!0);}}var lt,ct,at,ut,ft,dt,ht,gt,_t,pt,yt="",mt=null,xt="",Ct="",St=!1,Nt=!1;function Tt(t,e){var n=ht.get(t);if(null!==e){var _n13=zt(t);_n13.parentNode===e&&e.removeChild(_n13);}if(gt.has(t)||ct._keyToDOMMap["delete"](t),$r(n)){var _t1=Lt(n,ht);vt(_t1,0,_t1.length-1,null);}void 0!==n&&ri(pt,at,ut,n,"destroyed");}function vt(t,e,n,r){var o=e;for(;o<=n;++o){var _e15=t[o];void 0!==_e15&&Tt(_e15,r);}}function kt(t,e){t.setProperty("text-align",e);}var Et="40px";function bt(t,e){var n=lt.theme.indent;if("string"==typeof n){var _r0=t.classList.contains(n);e>0&&!_r0?t.classList.add(n):e<1&&_r0&&t.classList.remove(n);}var r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Et;t.style.setProperty("padding-inline-start",0===e?"":"calc("+e+" * "+r+")");}function Ot(t,e){var n=t.style;0===e?kt(n,""):1===e?kt(n,"left"):2===e?kt(n,"center"):3===e?kt(n,"right"):4===e?kt(n,"justify"):5===e?kt(n,"start"):6===e&&kt(n,"end");}function Mt(t,e){var n=function(t){var e=t.__dir;if(null!==e)return e;if(jr(t))return null;var n=t.getParentOrThrow();return jr(n)&&null===n.__dir?"auto":null;}(e);null!==n?t.dir=n:t.removeAttribute("dir");}function At(e,n){var r=gt.get(e);void 0===r&&t(60);var o=r.createDOM(lt,ct);if(function(t,e,n){var r=n._keyToDOMMap;(function(t,e,n){var r="__lexicalKey_"+e._key;t[r]=n;})(e,n,t),r.set(t,e);}(e,o,ct),Dn(r)?o.setAttribute("data-lexical-text","true"):Jr(r)&&o.setAttribute("data-lexical-decorator","true"),$r(r)){var _t10=r.__indent,_e16=r.__size;if(Mt(o,r),0!==_t10&&bt(o,_t10),0!==_e16){var _t11=_e16-1;wt(Lt(r,gt),r,0,_t11,r.getDOMSlot(o));}var _n14=r.__format;0!==_n14&&Ot(o,_n14),r.isInline()||Pt(null,r,o),ci(r)&&(yt+=k,Ct+=k);}else{var _t12=r.getTextContent();if(Jr(r)){var _t13=r.decorate(ct,lt);null!==_t13&&Rt(e,_t13),o.contentEditable="false";}yt+=_t12,Ct+=_t12;}return null!==n&&n.insertChild(o),ri(pt,at,ut,r,"created"),o;}function wt(t,e,n,r,o){var i=yt;yt="";var s=n;for(;s<=r;++s){At(t[s],o);var _e17=gt.get(t[s]);null!==_e17&&Dn(_e17)&&(null===mt&&(mt=_e17.getFormat()),""===xt&&(xt=_e17.getStyle()));}ci(e)&&(yt+=k);o.element.__lexicalTextContent=yt,yt=i+yt;}function Dt(t,e){if(t){var _n15=t.__last;if(_n15){var _t14=e.get(_n15);if(_t14)return gn(_t14)?"line-break":Jr(_t14)&&_t14.isInline()?"decorator":null;}return"empty";}return null;}function Pt(t,e,n){var r=Dt(t,ht),o=Dt(e,gt);r!==o&&e.getDOMSlot(n).setManagedLineBreak(o);}function It(e,n,r){var o;mt=null,xt="",function(e,n,r){var o=yt,i=e.__size,s=n.__size;yt="";var l=r.element;if(1===i&&1===s){var _t15=e.__first,_r1=n.__first;if(_t15===_r1)Ft(_t15,l);else{var _e18=zt(_t15),_n16=At(_r1,null);try{l.replaceChild(_n16,_e18);}catch(o){if("object"==typeof o&&null!=o){var _i4=o.toString()+" Parent: "+l.tagName+", new child: {tag: "+_n16.tagName+" key: "+_r1+"}, old child: {tag: "+_e18.tagName+", key: "+_t15+"}.";throw new Error(_i4);}throw o;}Tt(_t15,null);}var _o0=gt.get(_r1);Dn(_o0)&&(null===mt&&(mt=_o0.getFormat()),""===xt&&(xt=_o0.getStyle()));}else{var _o1=Lt(e,ht),_c=Lt(n,gt);if(_o1.length!==i&&t(227),_c.length!==s&&t(228),0===i)0!==s&&wt(_c,n,0,s-1,r);else if(0===s){if(0!==i){var _t16=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;vt(_o1,0,i-1,_t16?null:l),_t16&&(l.textContent="");}}else!function(t,e,n,r,o,i){var s=r-1,l=o-1;var c,a,u=i.getFirstChild(),f=0,d=0;for(;f<=s&&d<=l;){var _t17=e[f],_r10=n[d];if(_t17===_r10)u=Kt(Ft(_r10,i.element)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));var _o10=a.has(_t17),_s3=c.has(_r10);if(_o10){if(_s3){var _t18=ai(ct,_r10);_t18===u?u=Kt(Ft(_r10,i.element)):(i.withBefore(u).insertChild(_t18),Ft(_r10,i.element)),f++,d++;}else At(_r10,i.withBefore(u)),d++;}else u=Kt(zt(_t17)),Tt(_t17,i.element),f++;}var _o11=gt.get(_r10);null!==_o11&&Dn(_o11)&&(null===mt&&(mt=_o11.getFormat()),""===xt&&(xt=_o11.getStyle()));}var h=f>s,g=d>l;if(h&&!g){var _e19=n[l+1],_r11=void 0===_e19?null:ct.getElementByKey(_e19);wt(n,t,d,l,i.withBefore(_r11));}else g&&!h&&vt(e,f,s,i.element);}(n,_o1,_c,i,s,r);}ci(n)&&(yt+=k);l.__lexicalTextContent=yt,yt=o+yt;}(e,n,n.getDOMSlot(r)),o=n,null==mt||mt===o.__textFormat||Nt||o.setTextFormat(mt),function(t){""===xt||xt===t.__textStyle||Nt||t.setTextStyle(xt);}(n);}function Lt(e,n){var r=[];var o=e.__first;for(;null!==o;){var _e20=n.get(o);void 0===_e20&&t(101),r.push(o),o=_e20.__next;}return r;}function Ft(e,n){var r=ht.get(e);var o=gt.get(e);void 0!==r&&void 0!==o||t(61);var i=St||dt.has(e)||ft.has(e),s=ai(ct,e);if(r===o&&!i){if($r(r)){var _t19=s.__lexicalTextContent;void 0!==_t19&&(yt+=_t19,Ct+=_t19);}else{var _t20=r.getTextContent();Ct+=_t20,yt+=_t20;}return s;}if(r!==o&&i&&ri(pt,at,ut,o,"updated"),o.updateDOM(r,s,lt)){var _r12=At(e,null);return null===n&&t(62),n.replaceChild(_r12,s),Tt(e,null),_r12;}if($r(r)&&$r(o)){var _t21=o.__indent;(St||_t21!==r.__indent)&&bt(s,_t21);var _e21=o.__format;if((St||_e21!==r.__format)&&Ot(s,_e21),i&&(It(r,o,s),jr(o)||o.isInline()||Pt(r,o,s)),ci(o)&&(yt+=k,Ct+=k),(St||o.__dir!==r.__dir)&&(Mt(s,o),jr(o)&&!St))for(var _t22 of o.getChildren())if($r(_t22)){Mt(ai(ct,_t22.getKey()),_t22);}}else{var _t23=o.getTextContent();if(Jr(o)){var _t24=o.decorate(ct,lt);null!==_t24&&Rt(e,_t24);}yt+=_t23,Ct+=_t23;}if(!Nt&&jr(o)&&o.__cachedText!==Ct){var _t25=o.getWritable();_t25.__cachedText=Ct,o=_t25;}return s;}function Rt(t,e){var n=ct._pendingDecorators;var r=ct._decorators;if(null===n){if(r[t]===e)return;n=Fo(ct);}n[t]=e;}function Kt(t){var e=t.nextSibling;return null!==e&&e===ct._blockCursorElement&&(e=e.nextSibling),e;}function Bt(t,e,n,r,o,i){yt="",Ct="",St=2===r,ct=n,lt=n._config,at=n._nodes,ut=ct._listeners.mutation,ft=o,dt=i,ht=t._nodeMap,gt=e._nodeMap,Nt=e._readOnly,_t=new Map(n._keyToDOMMap);var s=new Map();return pt=s,Ft("root",null),ct=void 0,at=void 0,ft=void 0,dt=void 0,ht=void 0,gt=void 0,lt=void 0,_t=void 0,pt=void 0,s;}function zt(e){var n=_t.get(e);return void 0===n&&t(75,e),n;}function $t(t){return{type:t};}var Wt=$t("SELECTION_CHANGE_COMMAND"),Ut=$t("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Jt=$t("CLICK_COMMAND"),Yt=$t("DELETE_CHARACTER_COMMAND"),jt=$t("INSERT_LINE_BREAK_COMMAND"),Ht=$t("INSERT_PARAGRAPH_COMMAND"),Vt=$t("CONTROLLED_TEXT_INSERTION_COMMAND"),Gt=$t("PASTE_COMMAND"),qt=$t("REMOVE_TEXT_COMMAND"),Xt=$t("DELETE_WORD_COMMAND"),Qt=$t("DELETE_LINE_COMMAND"),Zt=$t("FORMAT_TEXT_COMMAND"),te=$t("UNDO_COMMAND"),ee=$t("REDO_COMMAND"),ne=$t("KEYDOWN_COMMAND"),re=$t("KEY_ARROW_RIGHT_COMMAND"),oe=$t("MOVE_TO_END"),ie=$t("KEY_ARROW_LEFT_COMMAND"),se=$t("MOVE_TO_START"),le=$t("KEY_ARROW_UP_COMMAND"),ce=$t("KEY_ARROW_DOWN_COMMAND"),ae=$t("KEY_ENTER_COMMAND"),ue=$t("KEY_SPACE_COMMAND"),fe=$t("KEY_BACKSPACE_COMMAND"),de=$t("KEY_ESCAPE_COMMAND"),he=$t("KEY_DELETE_COMMAND"),ge=$t("KEY_TAB_COMMAND"),_e=$t("INSERT_TAB_COMMAND"),pe=$t("INDENT_CONTENT_COMMAND"),ye=$t("OUTDENT_CONTENT_COMMAND"),me=$t("DROP_COMMAND"),xe=$t("FORMAT_ELEMENT_COMMAND"),Ce=$t("DRAGSTART_COMMAND"),Se=$t("DRAGOVER_COMMAND"),Ne=$t("DRAGEND_COMMAND"),Te=$t("COPY_COMMAND"),ve=$t("CUT_COMMAND"),ke=$t("SELECT_ALL_COMMAND"),Ee=$t("CLEAR_EDITOR_COMMAND"),be=$t("CLEAR_HISTORY_COMMAND"),Oe=$t("CAN_REDO_COMMAND"),Me=$t("CAN_UNDO_COMMAND"),Ae=$t("FOCUS_COMMAND"),we=$t("BLUR_COMMAND"),De=$t("KEY_MODIFIER_COMMAND"),Pe=Object.freeze({}),Ie=[["keydown",function(t,e){if(Le=t.timeStamp,Fe=t.key,e.isComposing())return;if(li(e,ne,t))return;if(null==t.key)return;if(Je&&ti(t))return Rr(e,function(){tn(e,Ye);}),Je=!1,void(Ye="");if(function(t){return Xo(t,"ArrowRight",{shiftKey:"any"});}(t))li(e,re,t);else if(function(t){return Xo(t,"ArrowRight",Qo);}(t))li(e,oe,t);else if(function(t){return Xo(t,"ArrowLeft",{shiftKey:"any"});}(t))li(e,ie,t);else if(function(t){return Xo(t,"ArrowLeft",Qo);}(t))li(e,se,t);else if(function(t){return Xo(t,"ArrowUp",{altKey:"any",shiftKey:"any"});}(t))li(e,le,t);else if(function(t){return Xo(t,"ArrowDown",{altKey:"any",shiftKey:"any"});}(t))li(e,ce,t);else if(function(t){return Xo(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0});}(t))We=!0,li(e,ae,t);else if(function(t){return" "===t.key;}(t))li(e,ue,t);else if(function(t){return o&&Xo(t,"o",{ctrlKey:!0});}(t))t.preventDefault(),We=!0,li(e,jt,!0);else if(function(t){return Xo(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"});}(t))We=!1,li(e,ae,t);else if(function(t){return Xo(t,"Backspace",{shiftKey:"any"})||o&&Xo(t,"h",{ctrlKey:!0});}(t))ti(t)?li(e,fe,t):(t.preventDefault(),li(e,Yt,!0));else if(function(t){return"Escape"===t.key;}(t))li(e,de,t);else if(function(t){return Xo(t,"Delete",{})||o&&Xo(t,"d",{ctrlKey:!0});}(t))!function(t){return"Delete"===t.key;}(t)?(t.preventDefault(),li(e,Yt,!1)):li(e,he,t);else if(function(t){return Xo(t,"Backspace",Zo);}(t))t.preventDefault(),li(e,Xt,!0);else if(function(t){return Xo(t,"Delete",Zo);}(t))t.preventDefault(),li(e,Xt,!1);else if(function(t){return o&&Xo(t,"Backspace",{metaKey:!0});}(t))t.preventDefault(),li(e,Qt,!0);else if(function(t){return o&&(Xo(t,"Delete",{metaKey:!0})||Xo(t,"k",{ctrlKey:!0}));}(t))t.preventDefault(),li(e,Qt,!1);else if(function(t){return Xo(t,"b",Qo);}(t))t.preventDefault(),li(e,Zt,"bold");else if(function(t){return Xo(t,"u",Qo);}(t))t.preventDefault(),li(e,Zt,"underline");else if(function(t){return Xo(t,"i",Qo);}(t))t.preventDefault(),li(e,Zt,"italic");else if(function(t){return Xo(t,"Tab",{shiftKey:"any"});}(t))li(e,ge,t);else if(function(t){return Xo(t,"z",Qo);}(t))t.preventDefault(),li(e,te,void 0);else if(function(t){if(o)return Xo(t,"z",{metaKey:!0,shiftKey:!0});return Xo(t,"y",{ctrlKey:!0})||Xo(t,"z",{ctrlKey:!0,shiftKey:!0});}(t))t.preventDefault(),li(e,ee,void 0);else{var _n17=e._editorState._selection;null===_n17||Wn(_n17)?ei(t)&&(t.preventDefault(),li(e,ke,t)):!function(t){return Xo(t,"c",Qo);}(t)?!function(t){return Xo(t,"x",Qo);}(t)?ei(t)&&(t.preventDefault(),li(e,ke,t)):(t.preventDefault(),li(e,ve,t)):(t.preventDefault(),li(e,Te,t));}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey;})(t)&&li(e,De,t);}],["pointerdown",function(t,e){var n=t.target,r=t.pointerType;Oi(n)&&"touch"!==r&&"pen"!==r&&0===t.button&&Rr(e,function(){_o(n)||($e=!0);});}],["compositionstart",function(t,e){Rr(e,function(){var n=or();if(Wn(n)&&!e.isComposing()){var _r13=n.anchor,_o12=n.anchor.getNode();Ao(_r13.key),(t.timeStamp<Le+30||"element"===_r13.type||!n.isCollapsed()||_o12.getFormat()!==n.format||Dn(_o12)&&_o12.getStyle()!==n.style)&&li(e,Vt,E);}});}],["compositionend",function(t,e){i?Ue=!0:c||!l&&!d?Rr(e,function(){tn(e,t.data);}):(Je=!0,Ye=t.data);}],["input",function(t,e){t.stopPropagation(),Rr(e,function(){if(bi(t.target)&&_o(t.target))return;var n=or(),r=t.data,o=Ze(t);if(null!=r&&Wn(n)&&Ve(n,o,r,t.timeStamp,!1)){Ue&&(tn(e,r),Ue=!1);var _o13=n.anchor.getNode(),_a=ki(pi(e));if(null===_a)return;var _u=n.isBackward(),_f=_u?n.anchor.offset:n.focus.offset,_h2=_u?n.focus.offset:n.anchor.offset;s&&!n.isCollapsed()&&Dn(_o13)&&null!==_a.anchorNode&&_o13.getTextContent().slice(0,_f)+r+_o13.getTextContent().slice(_f+_h2)===Yo(_a.anchorNode)||li(e,Vt,r);var _g2=r.length;i&&_g2>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=_g2),l||c||d||!e.isComposing()||(Le=0,Ao(null));}else{jo(!1,e,null!==r?r:void 0),Ue&&(tn(e,r||void 0),Ue=!1);}!function(){Nr();var t=kr();U(t);}();},{event:t}),Ke=null;}],["click",function(t,e){Rr(e,function(){var n=or(),r=ki(pi(e)),o=ir();if(r)if(Wn(n)){var _e22=n.anchor,_i5=_e22.getNode();if("element"===_e22.type&&0===_e22.offset&&n.isCollapsed()&&!jr(_i5)&&1===Ko().getChildrenSize()&&_i5.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){if(_i5!==n.focus.getNode()){var _t26=Ui(_i5,function(t){return $r(t)&&!t.isInline();});$r(_t26)&&_t26.select(0);}}}else if("touch"===t.pointerType||"pen"===t.pointerType){var _n18=r.anchorNode;if(bi(_n18)||To(_n18)){zo(rr(o,r,e,t));}}li(e,Jt,t);});}],["cut",Pe],["copy",Pe],["dragstart",Pe],["dragover",Pe],["dragend",Pe],["paste",Pe],["focus",Pe],["blur",Pe],["drop",Pe]];s&&Ie.push(["beforeinput",function(e,n){return function(e,n){var r=e.inputType,o=Ze(e);if("deleteCompositionText"===r||i&&si(n))return;if("insertCompositionText"===r)return;Rr(n,function(){var i=or();if("deleteContentBackward"===r){if(null===i){var _t27=ir();if(!Wn(_t27))return;zo(_t27.clone());}if(Wn(i)){var _r14=i.anchor.key===i.focus.key;if(s=e.timeStamp,"MediaLast"===Fe&&s<Le+30&&n.isComposing()&&_r14){if(Ao(null),Le=0,setTimeout(function(){Rr(n,function(){Ao(null);});},30),Wn(i)){var _e23=i.anchor.getNode();_e23.markDirty(),Dn(_e23)||t(142),Qe(i,_e23);}}else{Ao(null),e.preventDefault();var _t28=i.anchor.getNode(),_o14=_t28.getTextContent(),_s4=_t28.canInsertTextAfter(),_l=0===i.anchor.offset&&i.focus.offset===_o14.length;var _c2=f&&_r14&&!_l&&_s4;if(_c2&&i.isCollapsed()&&(_c2=!Jr(ii(i.anchor,!0))),!_c2){li(n,Yt,!0);var _t29=or();f&&Wn(_t29)&&_t29.isCollapsed()&&(je=_t29,setTimeout(function(){return je=null;}));}}return;}}var s;if(!Wn(i))return;var l=e.data;null!==Ke&&jo(!1,n,Ke),i.dirty&&null===Ke||!i.isCollapsed()||jr(i.anchor.getNode())||null===o||i.applyDOMRange(o),Ke=null;var a=i.anchor,u=i.focus,d=a.getNode(),h=u.getNode();if("insertText"!==r&&"insertTranspose"!==r)switch(e.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":li(n,Vt,e);break;case"insertFromComposition":Ao(null),li(n,Vt,e);break;case"insertLineBreak":Ao(null),li(n,jt,!1);break;case"insertParagraph":Ao(null),We&&!c?(We=!1,li(n,jt,!1)):li(n,Ht,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":li(n,Gt,e);break;case"deleteByComposition":(function(t,e){return t!==e||$r(t)||$r(e)||!So(t)||!So(e);})(d,h)&&li(n,qt,e);break;case"deleteByDrag":case"deleteByCut":li(n,qt,e);break;case"deleteContent":li(n,Yt,!1);break;case"deleteWordBackward":li(n,Xt,!0);break;case"deleteWordForward":li(n,Xt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":li(n,Qt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":li(n,Qt,!1);break;case"formatStrikeThrough":li(n,Zt,"strikethrough");break;case"formatBold":li(n,Zt,"bold");break;case"formatItalic":li(n,Zt,"italic");break;case"formatUnderline":li(n,Zt,"underline");break;case"historyUndo":li(n,te,void 0);break;case"historyRedo":li(n,ee,void 0);}else{if("\n"===l)e.preventDefault(),li(n,jt,!1);else if(l===k)e.preventDefault(),li(n,Ht,void 0);else if(null==l&&e.dataTransfer){var _t30=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(_t30);}else null!=l&&Ve(i,o,l,e.timeStamp,!0)?(e.preventDefault(),li(n,Vt,l)):Ke=l;Re=e.timeStamp;}});}(e,n);}]);var Le=0,Fe=null,Re=0,Ke=null;var Be=new WeakMap();var ze=!1,$e=!1,We=!1,Ue=!1,Je=!1,Ye="",je=null,He=[0,"",0,"root",0];function Ve(t,e,n,r,o){var i=t.anchor,l=t.focus,c=i.getNode(),a=kr(),u=ki(pi(a)),f=null!==u?u.anchorNode:null,d=i.key,h=a.getElementByKey(d),g=n.length;return d!==l.key||!Dn(c)||(!o&&(!s||Re<r+50)||c.isDirty()&&g<2||Wo(n))&&i.offset!==l.offset&&!c.isComposing()||No(c)||c.isDirty()&&g>1||(o||!s)&&null!==h&&!c.isComposing()&&f!==ko(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var n=t.anchor.offset,r=e.getParentOrThrow(),o=So(e);return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||o||function(t){var e=t.getPreviousSibling();return(Dn(e)||$r(e)&&e.isInline())&&!e.canInsertTextAfter();}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||o);}(t,c);}function Ge(t,e){return To(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length;}function qe(e,n,r){var o=e.anchorNode,i=e.anchorOffset,s=e.focusNode,l=e.focusOffset;ze&&(ze=!1,Ge(o,i)&&Ge(s,l)&&!je)||Rr(n,function(){if(!r)return void zo(null);if(!yo(n,o,s))return;var c=or();if(je&&Wn(c)&&c.isCollapsed()){var _t31=c.anchor,_e24=je.anchor;(_t31.key===_e24.key&&_t31.offset===_e24.offset+1||1===_t31.offset&&_e24.getNode().is(_t31.getNode().getPreviousSibling()))&&(c=je.clone(),zo(c));}if(je=null,Wn(c)){var _r15=c.anchor,_o15=_r15.getNode();if(c.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(c.dirty=!0);var _i6=pi(n).event,_s5=_i6?_i6.timeStamp:performance.now(),_He=He,_l2=_He[0],_a2=_He[1],_u2=_He[2],_f2=_He[3],_d2=_He[4],_h3=Ko(),_g3=!1===n.isComposing()&&""===_h3.getTextContent();if(_s5<_d2+200&&_r15.offset===_u2&&_r15.key===_f2)Xe(c,_l2,_a2);else if("text"===_r15.type)Dn(_o15)||t(141),Qe(c,_o15);else if("element"===_r15.type&&!_g3){$r(_o15)||t(259);var _e25=_r15.getNode();_e25.isEmpty()?function(t,e){var n=e.getTextFormat(),r=e.getTextStyle();Xe(t,n,r);}(c,_e25):Xe(c,0,"");}}else{var _t32=_r15.key,_e26=c.focus.key,_n19=c.getNodes(),_o16=_n19.length,_s6=c.isBackward(),_a3=_s6?l:i,_u3=_s6?i:l,_f3=_s6?_e26:_t32,_d3=_s6?_t32:_e26;var _h4=2047,_g4=!1;for(var _t33=0;_t33<_o16;_t33++){var _e27=_n19[_t33],_r16=_e27.getTextContentSize();if(Dn(_e27)&&0!==_r16&&!(0===_t33&&_e27.__key===_f3&&_a3===_r16||_t33===_o16-1&&_e27.__key===_d3&&0===_u3)&&(_g4=!0,_h4&=_e27.getFormat(),0===_h4))break;}c.format=_g4?_h4:0;}}li(n,Wt,void 0);});}function Xe(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0);}function Qe(t,e){Xe(t,e.getFormat(),e.getStyle());}function Ze(t){if(!t.getTargetRanges)return null;var e=t.getTargetRanges();return 0===e.length?null:e[0];}function tn(t,e){var n=t._compositionKey;if(Ao(null),null!==n&&null!=e){if(""===e){var _e28=Do(n),_r17=ko(t.getElementByKey(n));return void(null!==_r17&&null!==_r17.nodeValue&&Dn(_e28)&&Ho(_e28,_r17.nodeValue,null,null,!0));}if("\n"===e[e.length-1]){var _e29=or();if(Wn(_e29)){var _n20=_e29.focus;return _e29.anchor.set(_n20.key,_n20.offset,_n20.type),void li(t,ae,null);}}}jo(!0,t,e);}function en(t){var e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e;}var nn=new Map();function rn(t){var e=Ei(t.target);if(null===e)return;var n=xo(e.anchorNode);if(null===n)return;$e&&($e=!1,Rr(n,function(){var r=ir(),o=e.anchorNode;if(bi(o)||To(o)){zo(rr(r,e,n,t));}}));var r=Uo(n),o=r[r.length-1],i=o._key,s=nn.get(i),l=s||o;l!==n&&qe(e,l,!1),qe(e,n,!0),n!==o?nn.set(i,n):s&&nn["delete"](i);}function on(t){t._lexicalHandled=!0;}function sn(t){return!0===t._lexicalHandled;}var ln=function ln(){};function cn(e){var n=e.ownerDocument,r=Be.get(n);if(void 0===r)return void ln();var o=r-1;o>=0||t(164),Be.set(n,o),0===o&&n.removeEventListener("selectionchange",rn);var i=Co(e);mo(i)?(!function(t){if(null!==t._parentEditor){var _e30=Uo(t),_n21=_e30[_e30.length-1]._key;nn.get(_n21)===t&&nn["delete"](_n21);}else nn["delete"](t._key);}(i),e.__lexicalEditor=null):i&&t(198);var s=en(e);for(var _t34=0;_t34<s.length;_t34++)s[_t34]();e.__lexicalEventHandles=[];}function an(t,e,n){Nr();var r=t.__key,o=t.getParent();if(null===o)return;var i=function(t){var e=or();if(!Wn(e)||!$r(t))return e;var n=e.anchor,r=e.focus,o=n.getNode(),i=r.getNode();gi(o,t)&&n.set(t.__key,0,"element");gi(i,t)&&r.set(t.__key,0,"element");return e;}(t);var s=!1;if(Wn(i)&&e){var _e31=i.anchor,_n22=i.focus;_e31.key===r&&(cr(_e31,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0),_n22.key===r&&(cr(_n22,t,o,t.getPreviousSibling(),t.getNextSibling()),s=!0);}else Jn(i)&&e&&t.isSelected()&&t.selectPrevious();if(Wn(i)&&e&&!s){var _e32=t.getIndexWithinParent();Oo(t),sr(i,o,_e32,-1);}else Oo(t);n||mi(o)||o.canBeEmpty()||!o.isEmpty()||an(o,e),e&&i&&jr(o)&&o.isEmpty()&&o.selectEnd();}var _un5=function(){function un(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),bo(this,t);}un.getType=function getType(){var _Wi2=Wi(this),e=_Wi2.ownNodeType;return void 0===e&&t(64,this.name),e;};un.clone=function clone(e){t(65,this.name);};var _proto2=un.prototype;_proto2.$config=function $config(){return{};};_proto2.config=function config(t,e){var _ref13;var n=e["extends"]||Object.getPrototypeOf(this.constructor);return Object.assign(e,{"extends":n,type:t}),_ref13={},_ref13[t]=e,_ref13;};_proto2.afterCloneFrom=function afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this));};_proto2.getType=function getType(){return this.__type;};_proto2.isInline=function isInline(){t(137,this.constructor.name);};_proto2.isAttached=function isAttached(){var t=this.__key;for(;null!==t;){if("root"===t)return!0;var _e33=Do(t);if(null===_e33)break;t=_e33.__parent;}return!1;};_proto2.isSelected=function isSelected(t){var _this12=this;var e=t||or();if(null==e)return!1;var n=e.getNodes().some(function(t){return t.__key===_this12.__key;});if(Dn(this))return n;if(Wn(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;var _t35=this.getParent();if(Jr(this)&&this.isInline()&&_t35){var _n23=e.isBackward()?e.focus:e.anchor;if(_t35.is(_n23.getNode())&&_n23.offset===_t35.getChildrenSize()&&this.is(_t35.getLastChild()))return!1;}}return n;};_proto2.getKey=function getKey(){return this.__key;};_proto2.getIndexWithinParent=function getIndexWithinParent(){var t=this.getParent();if(null===t)return-1;var e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling();}return-1;};_proto2.getParent=function getParent(){var t=this.getLatest().__parent;return null===t?null:Do(t);};_proto2.getParentOrThrow=function getParentOrThrow(){var e=this.getParent();return null===e&&t(66,this.__key),e;};_proto2.getTopLevelElement=function getTopLevelElement(){var e=this;for(;null!==e;){var _n24=e.getParent();if(mi(_n24))return $r(e)||e===this&&Jr(e)||t(194),e;e=_n24;}return null;};_proto2.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var e=this.getTopLevelElement();return null===e&&t(67,this.__key),e;};_proto2.getParents=function getParents(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t;};_proto2.getParentKeys=function getParentKeys(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t;};_proto2.getPreviousSibling=function getPreviousSibling(){var t=this.getLatest().__prev;return null===t?null:Do(t);};_proto2.getPreviousSiblings=function getPreviousSiblings(){var t=[],e=this.getParent();if(null===e)return t;var n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t;};_proto2.getNextSibling=function getNextSibling(){var t=this.getLatest().__next;return null===t?null:Do(t);};_proto2.getNextSiblings=function getNextSiblings(){var t=[];var e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto2.getCommonAncestor=function getCommonAncestor(t){var e=$r(this)?this:this.getParent(),n=$r(t)?t:t.getParent(),r=e&&n?Ss(e,n):null;return r?r.commonAncestor:null;};_proto2.is=function is(t){return null!=t&&this.__key===t.__key;};_proto2.isBefore=function isBefore(e){var n=Ss(this,e);return null!==n&&("descendant"===n.type||("branch"===n.type?-1===ms(n):("same"!==n.type&&"ancestor"!==n.type&&t(279),!1)));};_proto2.isParentOf=function isParentOf(t){var e=Ss(this,t);return null!==e&&"ancestor"===e.type;};_proto2.getNodesBetween=function getNodesBetween(e){var n=this.isBefore(e),r=[],o=new Set();var i=this;for(;null!==i;){var _s7=i.__key;if(o.has(_s7)||(o.add(_s7),r.push(i)),i===e)break;var _l3=$r(i)?n?i.getFirstChild():i.getLastChild():null;if(null!==_l3){i=_l3;continue;}var _c3=n?i.getNextSibling():i.getPreviousSibling();if(null!==_c3){i=_c3;continue;}var _a4=i.getParentOrThrow();if(o.has(_a4.__key)||r.push(_a4),_a4===e)break;var _u4=null,_f4=_a4;do{if(null===_f4&&t(68),_u4=n?_f4.getNextSibling():_f4.getPreviousSibling(),_f4=_f4.getParent(),null===_f4)break;null!==_u4||o.has(_f4.__key)||r.push(_f4);}while(null===_u4);i=_u4;}return n||r.reverse(),r;};_proto2.isDirty=function isDirty(){var t=kr()._dirtyLeaves;return null!==t&&t.has(this.__key);};_proto2.getLatest=function getLatest(){var e=Do(this.__key);return null===e&&t(113),e;};_proto2.getWritable=function getWritable(){Nr();var t=vr(),e=kr(),n=t._nodeMap,r=this.__key,o=this.getLatest(),i=e._cloneNotNeeded,s=or();if(null!==s&&s.setCachedNodes(null),i.has(r))return Mo(o),o;var l=Ri(o);return i.add(r),Mo(l),n.set(r,l),l;};_proto2.getTextContent=function getTextContent(){return"";};_proto2.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto2.createDOM=function createDOM(e,n){t(70);};_proto2.updateDOM=function updateDOM(e,n,r){t(71);};_proto2.exportDOM=function exportDOM(t){return{element:this.createDOM(t._config,t)};};_proto2.exportJSON=function exportJSON(){var t=this.__state?this.__state.toJSON():void 0;return babelHelpers["extends"]({type:this.__type,version:1},t);};un.importJSON=function importJSON(e){t(18,this.name);};_proto2.updateFromJSON=function updateFromJSON(t){return function(t,e){var n=t.getWritable(),r=e.$;var o=r;for(var _t36 of q(n).flatKeys)_t36 in e&&(void 0!==o&&o!==r||(o=babelHelpers["extends"]({},r)),o[_t36]=e[_t36]);return(n.__state||o)&&G(t).updateFromJSON(o),n;}(this,t);};un.transform=function transform(){return null;};_proto2.remove=function remove(t){an(this,!0,t);};_proto2.replace=function replace(e,n){Nr();var r=or();null!==r&&(r=r.clone()),Si(this,e);var o=this.getLatest(),i=this.__key,s=e.__key,l=e.getWritable(),c=this.getParentOrThrow().getWritable(),a=c.__size;Oo(l);var u=o.getPreviousSibling(),f=o.getNextSibling(),d=o.__prev,h=o.__next,g=o.__parent;if(an(o,!1,!0),null===u)c.__first=s;else{u.getWritable().__next=s;}if(l.__prev=d,null===f)c.__last=s;else{f.getWritable().__prev=s;}if(l.__next=h,l.__parent=g,c.__size=a,n&&($r(this)&&$r(l)||t(139),this.getChildren().forEach(function(t){l.append(t);})),Wn(r)){zo(r);var _t37=r.anchor,_e34=r.focus;_t37.key===i&&zn(_t37,l),_e34.key===i&&zn(_e34,l);}return wo()===i&&Ao(s),l;};_proto2.insertAfter=function insertAfter(t,e){if(e===void 0){e=!0;}Nr(),Si(this,t);var n=this.getWritable(),r=t.getWritable(),o=r.getParent(),i=or();var s=!1,l=!1;if(null!==o){var _e35=t.getIndexWithinParent();if(Oo(r),Wn(i)){var _t38=o.__key,_n25=i.anchor,_r18=i.focus;s="element"===_n25.type&&_n25.key===_t38&&_n25.offset===_e35+1,l="element"===_r18.type&&_r18.key===_t38&&_r18.offset===_e35+1;}}var c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u;}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&Wn(i)){var _t39=this.getIndexWithinParent();sr(i,a,_t39+1);var _e36=a.__key;s&&i.anchor.set(_e36,_t39+2,"element"),l&&i.focus.set(_e36,_t39+2,"element");}return t;};_proto2.insertBefore=function insertBefore(t,e){if(e===void 0){e=!0;}Nr(),Si(this,t);var n=this.getWritable(),r=t.getWritable(),o=r.__key;Oo(r);var i=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===i)s.__first=o;else{i.getWritable().__next=o;}s.__size++,n.__prev=o,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var a=or();if(e&&Wn(a)){sr(a,this.getParentOrThrow(),c);}return t;};_proto2.isParentRequired=function isParentRequired(){return!1;};_proto2.createParentElementNode=function createParentElementNode(){return oo();};_proto2.selectStart=function selectStart(){return this.selectPrevious();};_proto2.selectEnd=function selectEnd(){return this.selectNext(0,0);};_proto2.selectPrevious=function selectPrevious(t,e){Nr();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if($r(n))return n.select();if(!Dn(n)){var _t40=n.getIndexWithinParent()+1;return r.select(_t40,_t40);}return n.select(t,e);};_proto2.selectNext=function selectNext(t,e){Nr();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if($r(n))return n.select(0,0);if(!Dn(n)){var _t41=n.getIndexWithinParent();return r.select(_t41,_t41);}return n.select(t,e);};_proto2.markDirty=function markDirty(){this.getWritable();};_proto2.reconcileObservedMutation=function reconcileObservedMutation(t,e){this.markDirty();};return un;}();var _fn=function(_un){function fn(t){return _un.call(this,t)||this;}babelHelpers.inheritsLoose(fn,_un);fn.getType=function getType(){return"linebreak";};fn.clone=function clone(t){return new fn(t.__key);};var _proto3=fn.prototype;_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.createDOM=function createDOM(){return document.createElement("br");};_proto3.updateDOM=function updateDOM(){return!1;};_proto3.isInline=function isInline(){return!0;};fn.importDOM=function importDOM(){return{br:function br(t){return function(t){var e=t.parentElement;if(null!==e&&wi(e)){var _n26=e.firstChild;if(_n26===t||_n26.nextSibling===t&&_n(_n26)){var _n27=e.lastChild;if(_n27===t||_n27.previousSibling===t&&_n(_n27))return!0;}}return!1;}(t)||function(t){var e=t.parentElement;if(null!==e&&wi(e)){var _n28=e.firstChild;if(_n28===t||_n28.nextSibling===t&&_n(_n28))return!1;var _r19=e.lastChild;if(_r19===t||_r19.previousSibling===t&&_n(_r19))return!0;}return!1;}(t)?null:{conversion:dn,priority:0};}};};fn.importJSON=function importJSON(t){return hn().updateFromJSON(t);};return fn;}(_un5);function dn(t){return{node:hn()};}function hn(){return Ci(new _fn());}function gn(t){return t instanceof _fn;}function _n(t){return To(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"");}function pn(t,e){return 16&e?"code":e&y?"mark":32&e?"sub":64&e?"sup":null;}function yn(t,e){return 1&e?"strong":2&e?"em":"span";}function mn(t,e,n,r,o){var i=r.classList;var s=ni(o,"base");void 0!==s&&i.add.apply(i,s),s=ni(o,"underlineStrikethrough");var l=!1;var c=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,c||i.add.apply(i,s)):c&&i.remove.apply(i,s));for(var _t42 in b){var _r20=b[_t42];if(s=ni(o,_t42),void 0!==s)if(n&_r20){if(l&&("underline"===_t42||"strikethrough"===_t42)){e&_r20&&i.remove.apply(i,s);continue;}(0===(e&_r20)||c&&"underline"===_t42||"strikethrough"===_t42)&&i.add.apply(i,s);}else e&_r20&&i.remove.apply(i,s);}}function xn(t,e,n){var r=e.firstChild,o=n.isComposing(),s=t+(o?v:"");if(null==r)e.textContent=s;else{var _t43=r.nodeValue;if(_t43!==s)if(o||i){var _ref14=function(t,e){var n=t.length,r=e.length;var o=0,i=0;for(;o<n&&o<r&&t[o]===e[o];)o++;for(;i+o<n&&i+o<r&&t[n-i-1]===e[r-i-1];)i++;return[o,n-o-i,e.slice(o,r-i)];}(_t43,s),_e37=_ref14[0],_n29=_ref14[1],_o17=_ref14[2];0!==_n29&&r.deleteData(_e37,_n29),r.insertData(_e37,_o17);}else r.nodeValue=s;}}function Cn(t,e,n,r,o,i){xn(o,t,e);var s=i.theme.text;void 0!==s&&mn(0,0,r,t,s);}function Sn(t,e){var n=document.createElement(e);return n.appendChild(t),n;}var _Nn2=function(_un2){function Nn(t,e){var _this;if(t===void 0){t="";}_this=_un2.call(this,e)||this,_this.__text=t,_this.__format=0,_this.__style="",_this.__mode=0,_this.__detail=0;return _this;}babelHelpers.inheritsLoose(Nn,_un2);Nn.getType=function getType(){return"text";};Nn.clone=function clone(t){return new Nn(t.__text,t.__key);};var _proto4=Nn.prototype;_proto4.afterCloneFrom=function afterCloneFrom(t){_un2.prototype.afterCloneFrom.call(this,t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail;};_proto4.getFormat=function getFormat(){return this.getLatest().__format;};_proto4.getDetail=function getDetail(){return this.getLatest().__detail;};_proto4.getMode=function getMode(){var t=this.getLatest();return D[t.__mode];};_proto4.getStyle=function getStyle(){return this.getLatest().__style;};_proto4.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto4.isComposing=function isComposing(){return this.__key===wo();};_proto4.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto4.isDirectionless=function isDirectionless(){return!!(1&this.getLatest().__detail);};_proto4.isUnmergeable=function isUnmergeable(){return!!(2&this.getLatest().__detail);};_proto4.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.getFormat()&e);};_proto4.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto4.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto4.getFormatFlags=function getFormatFlags(t,e){return Eo(this.getLatest().__format,t,e);};_proto4.canHaveFormat=function canHaveFormat(){return!0;};_proto4.isInline=function isInline(){return!0;};_proto4.createDOM=function createDOM(t,e){var n=this.__format,r=pn(0,n),o=yn(0,n),i=null===r?o:r,s=document.createElement(i);var l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(o),s.appendChild(l));Cn(l,this,0,n,this.__text,t);var c=this.__style;return""!==c&&(s.style.cssText=c),s;};_proto4.updateDOM=function updateDOM(e,n,r){var o=this.__text,i=e.__format,s=this.__format,l=pn(0,i),c=pn(0,s),a=yn(0,i),u=yn(0,s);if((null===l?a:l)!==(null===c?u:c))return!0;if(l===c&&a!==u){var _e38=n.firstChild;null==_e38&&t(48);var _i7=document.createElement(u);return Cn(_i7,this,0,s,o,r),n.replaceChild(_i7,_e38),!1;}var f=n;null!==c&&null!==l&&(f=n.firstChild,null==f&&t(49)),xn(o,f,this);var d=r.theme.text;void 0!==d&&i!==s&&mn(0,i,s,f,d);var h=e.__style,g=this.__style;return h!==g&&(n.style.cssText=g),!1;};Nn.importDOM=function importDOM(){return{"#text":function text(){return{conversion:bn,priority:0};},b:function b(){return{conversion:vn,priority:0};},code:function code(){return{conversion:An,priority:0};},em:function em(){return{conversion:An,priority:0};},i:function i(){return{conversion:An,priority:0};},mark:function mark(){return{conversion:An,priority:0};},s:function s(){return{conversion:An,priority:0};},span:function span(){return{conversion:Tn,priority:0};},strong:function strong(){return{conversion:An,priority:0};},sub:function sub(){return{conversion:An,priority:0};},sup:function sup(){return{conversion:An,priority:0};},u:function u(){return{conversion:An,priority:0};}};};Nn.importJSON=function importJSON(t){return wn().updateFromJSON(t);};_proto4.updateFromJSON=function updateFromJSON(t){return _un2.prototype.updateFromJSON.call(this,t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style);};_proto4.exportDOM=function exportDOM(e){var _un2$prototype$export=_un2.prototype.exportDOM.call(this,e),n=_un2$prototype$export.element;return bi(n)||t(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=Sn(n,"b")),this.hasFormat("italic")&&(n=Sn(n,"i")),this.hasFormat("strikethrough")&&(n=Sn(n,"s")),this.hasFormat("underline")&&(n=Sn(n,"u")),{element:n};};_proto4.exportJSON=function exportJSON(){return babelHelpers["extends"]({detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent()},_un2.prototype.exportJSON.call(this));};_proto4.selectionTransform=function selectionTransform(t,e){};_proto4.setFormat=function setFormat(t){var e=this.getWritable();return e.__format="string"==typeof t?b[t]:t,e;};_proto4.setDetail=function setDetail(t){var e=this.getWritable();return e.__detail="string"==typeof t?O[t]:t,e;};_proto4.setStyle=function setStyle(t){var e=this.getWritable();return e.__style=t,e;};_proto4.toggleFormat=function toggleFormat(t){var e=Eo(this.getFormat(),t,null);return this.setFormat(e);};_proto4.toggleDirectionless=function toggleDirectionless(){var t=this.getWritable();return t.__detail^=1,t;};_proto4.toggleUnmergeable=function toggleUnmergeable(){var t=this.getWritable();return t.__detail^=2,t;};_proto4.setMode=function setMode(t){var e=w[t];if(this.__mode===e)return this;var n=this.getWritable();return n.__mode=e,n;};_proto4.setTextContent=function setTextContent(t){if(this.__text===t)return this;var e=this.getWritable();return e.__text=t,e;};_proto4.select=function select(t,e){Nr();var n=t,r=e;var o=or(),i=this.getTextContent(),s=this.__key;if("string"==typeof i){var _t44=i.length;void 0===n&&(n=_t44),void 0===r&&(r=_t44);}else n=0,r=0;if(!Wn(o))return tr(s,n,s,r,"text","text");{var _t45=wo();_t45!==o.anchor.key&&_t45!==o.focus.key||Ao(s),o.setTextNodeRange(this,n,this,r);}return o;};_proto4.selectStart=function selectStart(){return this.select(0,0);};_proto4.selectEnd=function selectEnd(){var t=this.getTextContentSize();return this.select(t,t);};_proto4.spliceText=function spliceText(t,e,n,r){var o=this.getWritable(),i=o.__text,s=n.length;var l=t;l<0&&(l=s+l,l<0&&(l=0));var c=or();if(r&&Wn(c)){var _e39=t+s;c.setTextNodeRange(o,_e39,o,_e39);}var a=i.slice(0,l)+n+i.slice(l+e);return o.__text=a,o;};_proto4.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto4.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto4.splitText=function splitText(){Nr();var e=this.getLatest(),n=e.getTextContent();if(""===n)return[];var r=e.__key,o=wo(),i=n.length;for(var _len4=arguments.length,t=new Array(_len4),_key4=0;_key4<_len4;_key4++){t[_key4]=arguments[_key4];}t.sort(function(t,e){return t-e;}),t.push(i);var s=[],l=t.length;for(var _e40=0,_r21=0;_e40<i&&_r21<=l;_r21++){var _o18=t[_r21];_o18>_e40&&(s.push(n.slice(_e40,_o18)),_e40=_o18);}var c=s.length;if(1===c)return[e];var a=s[0],u=e.getParent();var f;var d=e.getFormat(),h=e.getStyle(),g=e.__detail;var _=!1,p=null,y=null;var m=or();if(Wn(m)){var _ref15=m.isBackward()?[m.focus,m.anchor]:[m.anchor,m.focus],_t46=_ref15[0],_e41=_ref15[1];"text"===_t46.type&&_t46.key===r&&(p=_t46),"text"===_e41.type&&_e41.key===r&&(y=_e41);}e.isSegmented()?(f=wn(a),f.__format=d,f.__style=h,f.__detail=g,f.__state=et(e,f),_=!0):f=e.setTextContent(a);var x=[f];for(var _t47=1;_t47<c;_t47++){var _n30=wn(s[_t47]);_n30.__format=d,_n30.__style=h,_n30.__detail=g,_n30.__state=et(e,_n30);var _i8=_n30.__key;o===r&&Ao(_i8),x.push(_n30);}var C=p?p.offset:null,S=y?y.offset:null;var N=0;for(var _t48 of x){if(!p&&!y)break;var _e42=N+_t48.getTextContentSize();if(null!==p&&null!==C&&C<=_e42&&C>=N&&(p.set(_t48.getKey(),C-N,"text"),C<_e42&&(p=null)),null!==y&&null!==S&&S<=_e42&&S>=N){y.set(_t48.getKey(),S-N,"text");break;}N=_e42;}if(null!==u){!function(t){var e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&Mo(e);null!==n&&Mo(n);}(this);var _t49=u.getWritable(),_e43=this.getIndexWithinParent();_?(_t49.splice(_e43,0,x),this.remove()):_t49.splice(_e43,1,x),Wn(m)&&sr(m,u,_e43,c-1);}return x;};_proto4.mergeWithSibling=function mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||t(50);var r=this.__key,o=e.__key,i=this.__text,s=i.length;wo()===o&&Ao(r);var l=or();if(Wn(l)){var _t50=l.anchor,_i9=l.focus;null!==_t50&&_t50.key===o&&ar(_t50,n,r,e,s),null!==_i9&&_i9.key===o&&ar(_i9,n,r,e,s);}var c=e.__text,a=n?c+i:i+c;this.setTextContent(a);var u=this.getWritable();return e.remove(),u;};_proto4.isTextEntity=function isTextEntity(){return!1;};return Nn;}(_un5);function Tn(t){return{forChild:Pn(t.style),node:null};}function vn(t){var e=t,n="normal"===e.style.fontWeight;return{forChild:Pn(e.style,n?void 0:"bold"),node:null};}var kn=new WeakMap();function En(t){if(!bi(t))return!1;if("PRE"===t.nodeName)return!0;var e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre");}function bn(e){var n=e;null===e.parentElement&&t(129);var r=n.textContent||"";if(null!==function(t){var e,n=t.parentNode;var r=[t];for(;null!==n&&void 0===(e=kn.get(n))&&!En(n);)r.push(n),n=n.parentNode;var o=void 0===e?n:e;for(var _t51=0;_t51<r.length;_t51++)kn.set(r[_t51],o);return o;}(n)){var _t52=r.split(/(\r?\n|\t)/),_e44=[],_n31=_t52.length;for(var _r22=0;_r22<_n31;_r22++){var _n32=_t52[_r22];"\n"===_n32||"\r\n"===_n32?_e44.push(hn()):"\t"===_n32?_e44.push(Ln()):""!==_n32&&_e44.push(wn(_n32));}return{node:_e44};}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===r)return{node:null};if(" "===r[0]){var _t53=n,_e45=!0;for(;null!==_t53&&null!==(_t53=On(_t53,!1));){var _n33=_t53.textContent||"";if(_n33.length>0){/[ \t\n]$/.test(_n33)&&(r=r.slice(1)),_e45=!1;break;}}_e45&&(r=r.slice(1));}if(" "===r[r.length-1]){var _t54=n,_e46=!0;for(;null!==_t54&&null!==(_t54=On(_t54,!0));){if((_t54.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){_e46=!1;break;}}_e46&&(r=r.slice(0,r.length-1));}return""===r?{node:null}:{node:wn(r)};}function On(t,e){var n=t;for(;;){var _t55=void 0;for(;null===(_t55=e?n.nextSibling:n.previousSibling);){var _t56=n.parentElement;if(null===_t56)return null;n=_t56;}if(n=_t55,bi(n)){var _t57=n.style.display;if(""===_t57&&!Ai(n)||""!==_t57&&!_t57.startsWith("inline"))return null;}var _r23=n;for(;null!==(_r23=e?n.firstChild:n.lastChild);)n=_r23;if(To(n))return n;if("BR"===n.nodeName)return null;}}var Mn={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function An(t){var e=Mn[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:Pn(t.style,e),node:null};}function wn(t){if(t===void 0){t="";}return Ci(new _Nn2(t));}function Dn(t){return t instanceof _Nn2;}function Pn(t,e){var n=t.fontWeight,r=t.textDecoration.split(" "),o="700"===n||"bold"===n,i=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return function(t){return Dn(t)?(o&&!t.hasFormat("bold")&&t.toggleFormat("bold"),i&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t;};}var _In=function(_Nn){function In(t){var _this2;_this2=_Nn.call(this,"\t",t)||this,_this2.__detail=2;return _this2;}babelHelpers.inheritsLoose(In,_Nn);In.getType=function getType(){return"tab";};In.clone=function clone(t){return new In(t.__key);};In.importDOM=function importDOM(){return null;};var _proto5=In.prototype;_proto5.createDOM=function createDOM(t){var e=_Nn.prototype.createDOM.call(this,t),n=ni(t.theme,"tab");if(void 0!==n){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,n);}return e;};In.importJSON=function importJSON(t){return Ln().updateFromJSON(t);};_proto5.setTextContent=function setTextContent(t){return"\t"!==t&&""!==t&&e(126),_Nn.prototype.setTextContent.call(this,"\t");};_proto5.spliceText=function spliceText(e,n,r,o){return""===r&&0===n||"\t"===r&&1===n||t(286),this;};_proto5.setDetail=function setDetail(e){return 2!==e&&t(127),this;};_proto5.setMode=function setMode(e){return"normal"!==e&&t(128),this;};_proto5.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto5.canInsertTextAfter=function canInsertTextAfter(){return!1;};return In;}(_Nn2);function Ln(){return Ci(new _In());}function Fn(t){return t instanceof _In;}var _Rn=function(){function Rn(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n;}var _proto6=Rn.prototype;_proto6.is=function is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type;};_proto6.isBefore=function isBefore(t){if(this.key===t.key)return this.offset<t.offset;return ys(ws(Ns(this,"next")),ws(Ns(t,"next")))<0;};_proto6.getNode=function getNode(){var e=Do(this.key);return null===e&&t(20),e;};_proto6.set=function set(t,e,n,r){var o=this._selection,i=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,Sr()||(wo()===i&&Ao(t),null!==o&&(o.setCachedNodes(null),o.dirty=!0)));};return Rn;}();function Kn(t,e,n){return new _Rn(t,e,n);}function Bn(t,e){var n=e.__key,r=t.offset,o="element";if(Dn(e)){o="text";var _t58=e.getTextContentSize();r>_t58&&(r=_t58);}else if(!$r(e)){var _t59=e.getNextSibling();if(Dn(_t59))n=_t59.__key,r=0,o="text";else{var _t60=e.getParent();_t60&&(n=_t60.__key,r=e.getIndexWithinParent()+1);}}t.set(n,r,o);}function zn(t,e){if($r(e)){var _n34=e.getLastDescendant();$r(_n34)||Dn(_n34)?Bn(t,_n34):Bn(t,e);}else Bn(t,e);}var _$n=function(){function $n(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1;}var _proto7=$n.prototype;_proto7.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto7.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto7.is=function is(t){if(!Jn(t))return!1;var e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(function(t){return n.has(t);});};_proto7.isCollapsed=function isCollapsed(){return!1;};_proto7.isBackward=function isBackward(){return!1;};_proto7.getStartEndPoints=function getStartEndPoints(){return null;};_proto7.add=function add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null;};_proto7["delete"]=function _delete(t){this.dirty=!0,this._nodes["delete"](t),this._cachedNodes=null;};_proto7.clear=function clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null;};_proto7.has=function has(t){return this._nodes.has(t);};_proto7.clone=function clone(){return new $n(new Set(this._nodes));};_proto7.extract=function extract(){return this.getNodes();};_proto7.insertRawText=function insertRawText(t){};_proto7.insertText=function insertText(){};_proto7.insertNodes=function insertNodes(t){var e=this.getNodes(),n=e.length,r=e[n-1];var o;if(Dn(r))o=r.select();else{var _t61=r.getIndexWithinParent()+1;o=r.getParentOrThrow().select(_t61,_t61);}o.insertNodes(t);for(var _t62=0;_t62<n;_t62++)e[_t62].remove();};_proto7.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=this._nodes,n=[];for(var _t63 of e){var _e47=Do(_t63);null!==_e47&&n.push(_e47);}return Sr()||(this._cachedNodes=n),n;};_proto7.getTextContent=function getTextContent(){var t=this.getNodes();var e="";for(var _n35=0;_n35<t.length;_n35++)e+=t[_n35].getTextContent();return e;};_proto7.deleteNodes=function deleteNodes(){var t=this.getNodes();if((or()||ir())===this&&t[0]){var _e48=os(t[0],"next");vs(_s(_e48,_e48));}for(var _e49 of t)_e49.remove();};return $n;}();function Wn(t){return t instanceof _Un;}var _Un=function(){function Un(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1;}var _proto8=Un.prototype;_proto8.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto8.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto8.is=function is(t){return!!Wn(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style;};_proto8.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto8.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=function(t){var e=[],_t$getTextSlices=t.getTextSlices(),n=_t$getTextSlices[0],r=_t$getTextSlices[1];n&&e.push(n.caret.origin);var o=new Set(),i=new Set();for(var _n36 of t)if(ts(_n36)){var _t64=_n36.origin;0===e.length?o.add(_t64):(i.add(_t64),e.push(_t64));}else{var _t65=_n36.origin;$r(_t65)&&i.has(_t65)||e.push(_t65);}r&&e.push(r.caret.origin);if(Zi(t.focus)&&$r(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(var _n37=cs(t.focus.origin,"previous");ts(_n37)&&o.has(_n37.origin)&&!_n37.origin.isEmpty()&&_n37.origin.is(e[e.length-1]);_n37=us(_n37))o["delete"](_n37.origin),e.pop();for(;e.length>1;){var _t66=e[e.length-1];if(!$r(_t66)||i.has(_t66)||_t66.isEmpty()||o.has(_t66))break;e.pop();}if(0===e.length&&t.isCollapsed()){var _n38=ws(t.anchor),_r24=ws(t.anchor.getFlipped()),_o19=function _o19(t){return Qi(t)?t.origin:t.getNodeAtCaret();},_i0=_o19(_n38)||_o19(_r24)||(t.anchor.getNodeAtCaret()?_n38.origin:_r24.origin);e.push(_i0);}return e;}(Is(Es(this),"next"));return Sr()||(this._cachedNodes=e),e;};_proto8.setTextNodeRange=function setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text");};_proto8.getTextContent=function getTextContent(){var t=this.getNodes();if(0===t.length)return"";var e=t[0],n=t[t.length-1],r=this.anchor,o=this.focus,i=r.isBefore(o),_jn=jn(this),s=_jn[0],l=_jn[1];var c="",a=!0;for(var _u5=0;_u5<t.length;_u5++){var _f5=t[_u5];if($r(_f5)&&!_f5.isInline())a||(c+="\n"),a=!_f5.isEmpty();else if(a=!1,Dn(_f5)){var _t67=_f5.getTextContent();_f5===e?_f5===n?"element"===r.type&&"element"===o.type&&o.offset!==r.offset||(_t67=s<l?_t67.slice(s,l):_t67.slice(l,s)):_t67=i?_t67.slice(s):_t67.slice(l):_f5===n&&(_t67=i?_t67.slice(0,l):_t67.slice(0,s)),c+=_t67;}else!Jr(_f5)&&!gn(_f5)||_f5===n&&this.isCollapsed()||(c+=_f5.getTextContent());}return c;};_proto8.applyDOMRange=function applyDOMRange(t){var e=kr(),n=e.getEditorState()._selection,r=Zn(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;var o=r[0],i=r[1];this.anchor.set(o.key,o.offset,o.type,!0),this.focus.set(i.key,i.offset,i.type,!0),it(this);};_proto8.clone=function clone(){var t=this.anchor,e=this.focus;return new Un(Kn(t.key,t.offset,t.type),Kn(e.key,e.offset,e.type),this.format,this.style);};_proto8.toggleFormat=function toggleFormat(t){this.format=Eo(this.format,t,null),this.dirty=!0;};_proto8.setFormat=function setFormat(t){this.format=t,this.dirty=!0;};_proto8.setStyle=function setStyle(t){this.style=t,this.dirty=!0;};_proto8.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.format&e);};_proto8.insertRawText=function insertRawText(t){var e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(var _t68=0;_t68<r;_t68++){var _r25=e[_t68];"\n"===_r25||"\r\n"===_r25?n.push(hn()):"\t"===_r25?n.push(Ln()):n.push(wn(_r25));}this.insertNodes(n);};_proto8.insertText=function insertText(e){var n=this.anchor,r=this.focus,o=this.format,i=this.style;var s=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,l=n),"element"===s.type&&function(t,e,n,r){var o=t.getNode(),i=o.getChildAtIndex(t.offset),s=wn();if(s.setFormat(n),s.setStyle(r),io(i))i.splice(0,0,[s]);else{var _t69=jr(o)?oo().append(s):s;null===i?o.append(_t69):i.insertBefore(_t69);}t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text");}(s,l,o,i),"element"===l.type&&Ts(l,ws(Ns(l,"next")));var c=s.offset;var a=l.offset;var u=this.getNodes(),f=u.length;var d=u[0];Dn(d)||t(26);var h=d.getTextContent().length,g=d.getParentOrThrow();var _=u[f-1];if(1===f&&"element"===l.type&&(a=h,l.set(s.key,a,"text")),this.isCollapsed()&&c===h&&(No(d)||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&null===d.getNextSibling())){var _t70=d.getNextSibling();if(Dn(_t70)&&_t70.canInsertTextBefore()&&!No(_t70)||(_t70=wn(),_t70.setFormat(o),_t70.setStyle(i),g.canInsertTextAfter()?d.insertAfter(_t70):g.insertAfter(_t70)),_t70.select(0,0),d=_t70,""!==e)return void this.insertText(e);}else if(this.isCollapsed()&&0===c&&(No(d)||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&null===d.getPreviousSibling())){var _t71=d.getPreviousSibling();if(Dn(_t71)&&!No(_t71)||(_t71=wn(),_t71.setFormat(o),g.canInsertTextBefore()?d.insertBefore(_t71):g.insertBefore(_t71)),_t71.select(),d=_t71,""!==e)return void this.insertText(e);}else if(d.isSegmented()&&c!==h){var _t72=wn(d.getTextContent());_t72.setFormat(o),d.replace(_t72),d=_t72;}else if(!this.isCollapsed()&&""!==e){var _t73=_.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||$r(_t73)&&(!_t73.canInsertTextBefore()||!_t73.canInsertTextAfter()))return this.insertText(""),Qn(this.anchor,this.focus,null),void this.insertText(e);}if(1===f){if(So(d)){var _t74=wn(e);return _t74.select(),void d.replace(_t74);}var _t75=d.getFormat(),_n39=d.getStyle();if(c!==a||_t75===o&&_n39===i){if(Fn(d)){var _t76=wn(e);return _t76.setFormat(o),_t76.setStyle(i),_t76.select(),void d.replace(_t76);}}else{if(""!==d.getTextContent()){var _t77=wn(e);if(_t77.setFormat(o),_t77.setStyle(i),_t77.select(),0===c)d.insertBefore(_t77,!1);else{var _d$splitText=d.splitText(c),_e50=_d$splitText[0];_e50.insertAfter(_t77,!1);}return void(_t77.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));}d.setFormat(o),d.setStyle(i);}var _r26=a-c;d=d.spliceText(c,_r26,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=_t75,this.style=_n39));}else{var _t78=new Set([].concat(d.getParentKeys(),_.getParentKeys())),_n40=$r(d)?d:d.getParentOrThrow();var _r27=$r(_)?_:_.getParentOrThrow(),_o20=_;if(!_n40.is(_r27)&&_r27.isInline())do{_o20=_r27,_r27=_r27.getParentOrThrow();}while(_r27.isInline());if("text"===l.type&&(0!==a||""===_.getTextContent())||"element"===l.type&&_.getIndexWithinParent()<a){if(Dn(_)&&!So(_)&&a!==_.getTextContentSize()){if(_.isSegmented()){var _t79=wn(_.getTextContent());_.replace(_t79),_=_t79;}jr(l.getNode())||"text"!==l.type||(_=_.spliceText(0,a,"")),_t78.add(_.__key);}else{var _t80=_.getParentOrThrow();_t80.canBeEmpty()||1!==_t80.getChildrenSize()?_.remove():_t80.remove();}}else _t78.add(_.__key);var _i1=_r27.getChildren(),_s8=new Set(u),_g5=_n40.is(_r27),_p2=_n40.isInline()&&null===d.getNextSibling()?_n40:d;for(var _t81=_i1.length-1;_t81>=0;_t81--){var _e51=_i1[_t81];if(_e51.is(d)||$r(_e51)&&_e51.isParentOf(d))break;_e51.isAttached()&&(!_s8.has(_e51)||_e51.is(_o20)?_g5||_p2.insertAfter(_e51,!1):_e51.remove());}if(!_g5){var _e52=_r27,_n41=null;for(;null!==_e52;){var _r28=_e52.getChildren(),_o21=_r28.length;(0===_o21||_r28[_o21-1].is(_n41))&&(_t78["delete"](_e52.__key),_n41=_e52),_e52=_e52.getParent();}}if(So(d)){if(c===h)d.select();else{var _t82=wn(e);_t82.select(),d.replace(_t82);}}else d=d.spliceText(c,h-c,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(var _e53=1;_e53<f;_e53++){var _n42=u[_e53],_r29=_n42.__key;_t78.has(_r29)||_n42.remove();}}};_proto8.removeText=function removeText(){var t=or()===this;ks(this,As(Es(this))),t&&or()!==this&&zo(this);};_proto8.formatText=function formatText(t,e){var _d$splitText2,_p$splitText;if(e===void 0){e=null;}if(this.isCollapsed())return this.toggleFormat(t),void Ao(null);var n=this.getNodes(),r=[];for(var _t83 of n)Dn(_t83)&&r.push(_t83);var o=function o(e){n.forEach(function(n){if($r(n)){var _r30=n.getFormatFlags(t,e);n.setTextFormat(_r30);}});},i=r.length;if(0===i)return this.toggleFormat(t),Ao(null),void o(e);var s=this.anchor,l=this.focus,c=this.isBackward(),a=c?l:s,u=c?s:l;var f=0,d=r[0],h="element"===a.type?0:a.offset;if("text"===a.type&&h===d.getTextContentSize()&&(f=1,d=r[1],h=0),null==d)return;var g=d.getFormatFlags(t,e);o(g);var _=i-1;var p=r[_];var y="text"===u.type?u.offset:p.getTextContentSize();if(d.is(p)){if(h===y)return;if(No(d)||0===h&&y===d.getTextContentSize())d.setFormat(g);else{var _t84=d.splitText(h,y),_e54=0===h?_t84[0]:_t84[1];_e54.setFormat(g),"text"===a.type&&a.set(_e54.__key,0,"text"),"text"===u.type&&u.set(_e54.__key,y-h,"text");}return void(this.format=g);}0===h||No(d)||(_d$splitText2=d.splitText(h),d=_d$splitText2[1],h=0),d.setFormat(g);var m=p.getFormatFlags(t,g);y>0&&(y===p.getTextContentSize()||No(p)||(_p$splitText=p.splitText(y),p=_p$splitText[0],_p$splitText),p.setFormat(m));for(var _e55=f+1;_e55<_;_e55++){var _n43=r[_e55],_o22=_n43.getFormatFlags(t,m);_n43.setFormat(_o22);}"text"===a.type&&a.set(d.__key,h,"text"),"text"===u.type&&u.set(p.__key,y,"text"),this.format=g|m;};_proto8.insertNodes=function insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();var _n44=or();return Wn(_n44)||t(134),_n44.insertNodes(e);}var n=(this.isBackward()?this.focus:this.anchor).getNode(),r=Ui(n,Di),o=e[e.length-1];if($r(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{var _t85=dr(this);r.splice(_t85,0,e),o.selectEnd();}return;}if(!e.some(function(t){return($r(t)||Jr(t))&&!t.isInline();})){$r(r)||t(211,n.constructor.name,n.getType());var _i10=dr(this);return r.splice(_i10,0,e),void o.selectEnd();}var i=function(t){var e=oo();var n=null;for(var _r31=0;_r31<t.length;_r31++){var _o23=t[_r31],_i11=gn(_o23);if(_i11||Jr(_o23)&&_o23.isInline()||$r(_o23)&&_o23.isInline()||Dn(_o23)||_o23.isParentRequired()){if(null===n&&(n=_o23.createParentElementNode(),e.append(n),_i11))continue;null!==n&&n.append(_o23);}else e.append(_o23),n=null;}return e;}(e),s=i.getLastDescendant(),l=i.getChildren(),c=!$r(r)||!r.isEmpty()?this.insertParagraph():null,a=l[l.length-1];var u=l[0];var f;$r(f=u)&&Di(f)&&!f.isEmpty()&&$r(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&($r(r)||t(211,n.constructor.name,n.getType()),r.append.apply(r,u.getChildren()),u=l[1]),u&&(null===r&&t(212,n.constructor.name,n.getType()),function(e,n){var r=n.getParentOrThrow().getLastChild();var o=n;var i=[n];for(;o!==r;)o.getNextSibling()||t(140),o=o.getNextSibling(),i.push(o);var s=e;for(var _t86 of i)s=s.insertAfter(_t86);}(r,u));var d=Ui(s,Di);c&&$r(d)&&(c.canMergeWhenEmpty()||Di(a))&&(d.append.apply(d,c.getChildren()),c.remove()),$r(r)&&r.isEmpty()&&r.remove(),s.selectEnd();var h=$r(r)?r.getLastChild():null;gn(h)&&d!==r&&h.remove();};_proto8.insertParagraph=function insertParagraph(){if("root"===this.anchor.key){var _t87=oo();return Ko().splice(this.anchor.offset,0,[_t87]),_t87.select(),_t87;}var e=dr(this),n=Ui(this.anchor.getNode(),Di);$r(n)||t(213);var r=n.getChildAtIndex(e),o=r?[r].concat(r.getNextSiblings()):[],i=n.insertNewAfter(this,!1);return i?(i.append.apply(i,o),i.selectStart(),i):null;};_proto8.insertLineBreak=function insertLineBreak(t){var e=hn();if(this.insertNodes([e]),t){var _t88=e.getParentOrThrow(),_n45=e.getIndexWithinParent();_t88.select(_n45,_n45);}};_proto8.extract=function extract(){var _n$splitText;var t=[].concat(this.getNodes()),e=t.length;var n=t[0],r=t[e-1];var _jn2=jn(this),o=_jn2[0],i=_jn2[1],s=this.isBackward(),_ref16=s?[this.focus,this.anchor]:[this.anchor,this.focus],l=_ref16[0],c=_ref16[1],_ref17=s?[i,o]:[o,i],a=_ref17[0],u=_ref17[1];if(0===e)return[];if(1===e){if(Dn(n)&&!this.isCollapsed()){var _t89=n.splitText(a,u),_e56=0===a?_t89[0]:_t89[1];return _e56?(l.set(_e56.getKey(),0,"text"),c.set(_e56.getKey(),_e56.getTextContentSize(),"text"),[_e56]):[];}return[n];}if(Dn(n)&&(a===n.getTextContentSize()?t.shift():0!==a&&(_n$splitText=n.splitText(a),n=_n$splitText[1],t[0]=n,l.set(n.getKey(),0,"text"))),Dn(r)){var _r$splitText;var _e57=r.getTextContent().length;0===u?t.pop():u!==_e57&&(_r$splitText=r.splitText(u),r=_r$splitText[0],t[t.length-1]=r,c.set(r.getKey(),r.getTextContentSize(),"text"));}return t;};_proto8.modify=function modify(t,e,n){if(gr(this,t,e,n))return;var r="move"===t,o=kr(),i=ki(pi(o));if(!i)return;var s=o._blockCursorElement,l=o._rootElement,c=this.focus.getNode();if(null===l||null===s||!$r(c)||c.isInline()||c.canBeEmpty()||vi(s,o,l),this.dirty){var _t90=ai(o,this.anchor.key),_e58=ai(o,this.focus.key);"text"===this.anchor.type&&(_t90=ko(_t90)),"text"===this.focus.type&&(_e58=ko(_e58)),_t90&&_e58&&ur(i,_t90,this.anchor.offset,_e58,this.focus.offset);}if(function(t,e,n,r){t.modify(e,n,r);}(i,t,e?"backward":"forward",n),i.rangeCount>0){var _t91=i.getRangeAt(0),_n46=this.anchor.getNode(),_o24=jr(_n46)?_n46:yi(_n46);if(this.applyDOMRange(_t91),this.dirty=!0,!r){var _n47=this.getNodes(),_r32=[];var _s9=!1;for(var _t92=0;_t92<_n47.length;_t92++){var _e59=_n47[_t92];gi(_e59,_o24)?_r32.push(_e59):_s9=!0;}if(_s9&&_r32.length>0)if(e){var _t93=_r32[0];$r(_t93)?_t93.selectStart():_t93.getParentOrThrow().selectStart();}else{var _t94=_r32[_r32.length-1];$r(_t94)?_t94.selectEnd():_t94.getParentOrThrow().selectEnd();}i.anchorNode===_t91.startContainer&&i.anchorOffset===_t91.startOffset||function(t){var e=t.focus,n=t.anchor,r=n.key,o=n.offset,i=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,o,i,!0);}(this);}}"lineboundary"===n&&gr(this,t,e,n,"decorators");};_proto8.forwardDeletion=function forwardDeletion(t,e,n){if(!n&&("element"===t.type&&$r(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){var _t95=e.getParent(),_n48=e.getNextSibling()||(null===_t95?null:_t95.getNextSibling());if($r(_n48)&&_n48.isShadowRoot())return!0;}return!1;};_proto8.deleteCharacter=function deleteCharacter(t){var e=this.isCollapsed();if(this.isCollapsed()){var _e60=this.anchor;var _n49=_e60.getNode();if(this.forwardDeletion(_e60,_n49,t))return;var _r33=hs(Ns(_e60,t?"previous":"next"));if(_r33.getTextSlices().every(function(t){return null===t||0===t.distance;})){var _t96={type:"initial"};for(var _e61 of _r33.iterNodeCarets("shadowRoot"))if(ts(_e61)){if(_e61.origin.isInline());else{if(_e61.origin.isShadowRoot()){if("merge-block"===_t96.type)break;if($r(_r33.anchor.origin)&&_r33.anchor.origin.isEmpty()){var _t97=ws(_e61);ks(this,_s(_t97,_t97)),_r33.anchor.origin.remove();}return;}"merge-next-block"!==_t96.type&&"merge-block"!==_t96.type||(_t96={block:_t96.block,caret:_e61,type:"merge-block"});}}else{if("merge-block"===_t96.type)break;if(Zi(_e61)){if($r(_e61.origin)){if(_e61.origin.isInline()){if(!_e61.origin.isParentOf(_r33.anchor.origin))break;}else _t96={block:_e61.origin,type:"merge-next-block"};continue;}if(Jr(_e61.origin)){if(_e61.origin.isIsolated());else if("merge-next-block"===_t96.type&&(_e61.origin.isKeyboardSelectable()||!_e61.origin.isInline())&&$r(_r33.anchor.origin)&&_r33.anchor.origin.isEmpty()){_r33.anchor.origin.remove();var _t98=nr();_t98.add(_e61.origin.getKey()),zo(_t98);}else _e61.origin.remove();return;}break;}}if("merge-block"===_t96.type){var _t99=_t96,_e62=_t99.caret,_n50=_t99.block;return ks(this,_s(!_e62.origin.isEmpty()&&_n50.isEmpty()?bs(os(_n50,_e62.direction)):_r33.anchor,_e62)),this.removeText();}}var _o25=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===_e60.offset&&Hn(this,_e60.getNode()))return;}else{var _r34="text"===_o25.type?_o25.getNode():null;if(_n49="text"===_e60.type?_e60.getNode():null,null!==_r34&&_r34.isSegmented()){var _e63=_o25.offset,_i12=_r34.getTextContentSize();if(_r34.is(_n49)||t&&_e63!==_i12||!t&&0!==_e63)return void Gn(_r34,t,_e63);}else if(null!==_n49&&_n49.isSegmented()){var _o26=_e60.offset,_i13=_n49.getTextContentSize();if(_n49.is(_r34)||t&&0!==_o26||!t&&_o26!==_i13)return void Gn(_n49,t,_o26);}!function(t,e){var n=t.anchor,r=t.focus,o=n.getNode(),i=r.getNode();if(o===i&&"text"===n.type&&"text"===r.type){var _t100=n.offset,_i14=r.offset,_s0=_t100<_i14,_l4=_s0?_t100:_i14,_c4=_s0?_i14:_t100,_a5=_c4-1;if(_l4!==_a5){(function(t){return!(Wo(t)||Vn(t));})(o.getTextContent().slice(_l4,_c4))&&(e?r.set(r.key,_a5,r.type):n.set(n.key,_a5,n.type));}}}(this,t);}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var _t101=this.anchor.getNode();_t101.isEmpty()&&jr(_t101.getParent())&&null===_t101.getPreviousSibling()&&Hn(this,_t101);}};_proto8.deleteLine=function deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText();};_proto8.deleteWord=function deleteWord(t){if(this.isCollapsed()){var _e64=this.anchor,_n51=_e64.getNode();if(this.forwardDeletion(_e64,_n51,t))return;this.modify("extend",t,"word");}this.removeText();};_proto8.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto8.getStartEndPoints=function getStartEndPoints(){return[this.anchor,this.focus];};return Un;}();function Jn(t){return t instanceof _$n;}function Yn(t){var e=t.offset;if("text"===t.type)return e;var n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0;}function jn(t){var e=t.getStartEndPoints();if(null===e)return[0,0];var n=e[0],r=e[1];return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Yn(n),Yn(r)];}function Hn(t,e){for(var _n52=e;_n52;_n52=_n52.getParent()){if($r(_n52)){if(_n52.collapseAtStart(t))return!0;if(mi(_n52))break;}if(_n52.getPreviousSibling())break;}return!1;}var Vn=function(){try{var _t102=new RegExp("\\p{Emoji}","u"),_e65=_t102.test.bind(_t102);if(_e65("❤️")&&_e65("#️⃣")&&_e65("👍"))return _e65;}catch(t){}return function(){return!1;};}();function Gn(t,e,n){var r=t,o=r.getTextContent().split(/(?=\s)/g),i=o.length;var s=0,l=0;for(var _t103=0;_t103<i;_t103++){var _r35=_t103===i-1;if(l=s,s+=o[_t103].length,e&&s===n||s>n||_r35){o.splice(_t103,1),_r35&&(l=void 0);break;}}var c=o.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l));}function qn(e,n,r,o){var i,s=n;if(bi(e)){var _l5=!1;var _c5=e.childNodes,_a6=_c5.length,_u6=o._blockCursorElement;s===_a6&&(_l5=!0,s=_a6-1);var _f6=_c5[s],_d4=!1;if(_f6===_u6)_f6=_c5[s+1],_d4=!0;else if(null!==_u6){var _t104=_u6.parentNode;if(e===_t104){n>Array.prototype.indexOf.call(_t104.children,_u6)&&s--;}}if(i=$o(_f6),Dn(i))s=ss(i,_l5?"next":"previous");else{var _c6=$o(e);if(null===_c6)return null;if($r(_c6)){var _u7$resolveChildIndex;var _a7=o.getElementByKey(_c6.getKey());null===_a7&&t(214);var _u7=_c6.getDOMSlot(_a7);_u7$resolveChildIndex=_u7.resolveChildIndex(_c6,_a7,e,n),_c6=_u7$resolveChildIndex[0],s=_u7$resolveChildIndex[1],$r(_c6)||t(215),_l5&&s>=_c6.getChildrenSize()&&(s=Math.max(0,_c6.getChildrenSize()-1));var _f7=_c6.getChildAtIndex(s);if($r(_f7)&&function(t,e,n){var r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode();}(_f7,0,r)){var _t105=_l5?_f7.getLastDescendant():_f7.getFirstDescendant();null===_t105?_c6=_f7:(_f7=_t105,_c6=$r(_f7)?_f7:_f7.getParentOrThrow()),s=0;}Dn(_f7)?(i=_f7,_c6=null,s=ss(_f7,_l5?"next":"previous")):_f7!==_c6&&_l5&&!_d4&&($r(_c6)||t(216),s=Math.min(_c6.getChildrenSize(),s+1));}else{var _t106=_c6.getIndexWithinParent();s=0===n&&Jr(_c6)&&$o(e)===_c6?_t106:_t106+1,_c6=_c6.getParentOrThrow();}if($r(_c6))return Kn(_c6.__key,s,"element");}}else i=$o(e);return Dn(i)?Kn(i.__key,ss(i,s,"clamp"),"text"):null;}function Xn(t,e,n){var r=t.offset,o=t.getNode();if(0===r){var _r36=o.getPreviousSibling(),_i15=o.getParent();if(e){if((n||!e)&&null===_r36&&$r(_i15)&&_i15.isInline()){var _e66=_i15.getPreviousSibling();Dn(_e66)&&t.set(_e66.__key,_e66.getTextContent().length,"text");}}else $r(_r36)&&!n&&_r36.isInline()?t.set(_r36.__key,_r36.getChildrenSize(),"element"):Dn(_r36)&&t.set(_r36.__key,_r36.getTextContent().length,"text");}else if(r===o.getTextContent().length){var _r37=o.getNextSibling(),_i16=o.getParent();if(e&&$r(_r37)&&_r37.isInline())t.set(_r37.__key,0,"element");else if((n||e)&&null===_r37&&$r(_i16)&&_i16.isInline()&&!_i16.canInsertTextAfter()){var _e67=_i16.getNextSibling();Dn(_e67)&&t.set(_e67.__key,0,"text");}}}function Qn(t,e,n){if("text"===t.type&&"text"===e.type){var _r38=t.isBefore(e),_o27=t.is(e);Xn(t,_r38,_o27),Xn(e,!_r38,_o27),_o27&&e.set(t.key,t.offset,t.type);var _i17=kr();if(_i17.isComposing()&&_i17._compositionKey!==t.key&&Wn(n)){var _r39=n.anchor,_o28=n.focus;t.set(_r39.key,_r39.offset,_r39.type,!0),e.set(_o28.key,_o28.offset,_o28.type,!0);}}}function Zn(t,e,n,r,o,i){if(null===t||null===n||!yo(o,t,n))return null;var s=qn(t,e,Wn(i)?i.anchor:null,o);if(null===s)return null;var l=qn(n,r,Wn(i)?i.focus:null,o);if(null===l)return null;if("element"===s.type&&"element"===l.type){var _e68=$o(t),_r40=$o(n);if(Jr(_e68)&&Jr(_r40))return null;}return Qn(s,l,i),[s,l];}function tr(t,e,n,r,o,i){var s=vr(),l=new _Un(Kn(t,e,o),Kn(n,r,i),0,"");return l.dirty=!0,s._selection=l,l;}function er(){var t=Kn("root",0,"element"),e=Kn("root",0,"element");return new _Un(t,e,0,"");}function nr(){return new _$n(new Set());}function rr(t,e,n,r){var o=n._window;if(null===o)return null;var i=r||o.event,s=i?i.type:void 0,l="selectionchange"===s,c=!L&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&i&&3===i.detail||"drop"===s||void 0===s);var a,u,f,d;if(Wn(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&Wn(t)&&!yo(n,a,u))return t.clone();var h=Zn(a,f,u,d,n,t);if(null===h)return null;var g=h[0],_=h[1];return new _Un(g,_,Wn(t)?t.format:0,Wn(t)?t.style:"");}function or(){return vr()._selection;}function ir(){return kr()._editorState._selection;}function sr(t,e,n,r){if(r===void 0){r=1;}var o=t.anchor,i=t.focus,s=o.getNode(),l=i.getNode();if(!e.is(s)&&!e.is(l))return;var c=e.__key;if(t.isCollapsed()){var _e69=o.offset;if(n<=_e69&&r>0||n<_e69&&r<0){var _n53=Math.max(0,_e69+r);o.set(c,_n53,"element"),i.set(c,_n53,"element"),lr(t);}}else{var _s1=t.isBackward(),_l6=_s1?i:o,_a8=_l6.getNode(),_u8=_s1?o:i,_f8=_u8.getNode();if(e.is(_a8)){var _t107=_l6.offset;(n<=_t107&&r>0||n<_t107&&r<0)&&_l6.set(c,Math.max(0,_t107+r),"element");}if(e.is(_f8)){var _t108=_u8.offset;(n<=_t108&&r>0||n<_t108&&r<0)&&_u8.set(c,Math.max(0,_t108+r),"element");}}lr(t);}function lr(t){var e=t.anchor,n=e.offset,r=t.focus,o=r.offset,i=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!$r(i))return;var _t109=i.getChildrenSize(),_o29=n>=_t109,_s10=_o29?i.getChildAtIndex(_t109-1):i.getChildAtIndex(n);if(Dn(_s10)){var _t110=0;_o29&&(_t110=_s10.getTextContentSize()),e.set(_s10.__key,_t110,"text"),r.set(_s10.__key,_t110,"text");}return;}if($r(i)){var _t111=i.getChildrenSize(),_r41=n>=_t111,_o30=_r41?i.getChildAtIndex(_t111-1):i.getChildAtIndex(n);if(Dn(_o30)){var _t112=0;_r41&&(_t112=_o30.getTextContentSize()),e.set(_o30.__key,_t112,"text");}}if($r(s)){var _t113=s.getChildrenSize(),_e70=o>=_t113,_n54=_e70?s.getChildAtIndex(_t113-1):s.getChildAtIndex(o);if(Dn(_n54)){var _t114=0;_e70&&(_t114=_n54.getTextContentSize()),r.set(_n54.__key,_t114,"text");}}}function cr(t,e,n,r,o){var i=null,s=0,l=null;null!==r?(i=r.__key,Dn(r)?(s=r.getTextContentSize(),l="text"):$r(r)&&(s=r.getChildrenSize(),l="element")):null!==o&&(i=o.__key,Dn(o)?l="text":$r(o)&&(l="element")),null!==i&&null!==l?t.set(i,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"));}function ar(t,e,n,r,o){"text"===t.type?t.set(n,t.offset+(e?0:o),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element");}function ur(t,e,n,r,o){try{t.setBaseAndExtent(e,n,r,o);}catch(t){}}function fr(t,e,n,r,o,i,s){var l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(o.has(Qr)&&f!==i||null!==f&&po(f))return;if(!Wn(e))return void(null!==t&&yo(n,l,c)&&r.removeAllRanges());var d=e.anchor,h=e.focus,g=d.key,_=h.key,p=ai(n,g),y=ai(n,_),m=d.offset,x=h.offset,C=e.format,S=e.style,N=e.isCollapsed();var T=p,v=y,k=!1;if("text"===d.type){T=ko(p);var _t115=d.getNode();k=_t115.getFormat()!==C||_t115.getStyle()!==S;}else Wn(t)&&"text"===t.anchor.type&&(k=!0);var E,b,O,M,A;if(("text"===h.type&&(v=ko(y)),null!==T&&null!==v)&&(N&&(null===t||k||Wn(t)&&(t.format!==C||t.style!==S))&&(E=C,b=S,O=m,M=g,A=performance.now(),He=[E,b,O,M,A]),a!==m||u!==x||l!==T||c!==v||"Range"===r.type&&N||(null!==f&&i.contains(f)||i.focus({preventScroll:!0}),"element"===d.type))){if(ur(r,T,m,v,x),!o.has(Zr)&&e.isCollapsed()&&null!==i&&i===document.activeElement){var _t116=Wn(e)&&"element"===e.anchor.type?T.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==_t116){var _e71;if(_t116 instanceof Text){var _n55=document.createRange();_n55.selectNode(_t116),_e71=_n55.getBoundingClientRect();}else _e71=_t116.getBoundingClientRect();!function(t,e,n){var r=fi(n),o=_i(r);if(null===r||null===o)return;var i=e.top,s=e.bottom,l=0,c=0,a=n;for(;null!==a;){var _e72=a===r.body;if(_e72)l=0,c=pi(t).innerHeight;else{var _t117=a.getBoundingClientRect();l=_t117.top,c=_t117.bottom;}var _n56=0;if(i<l?_n56=-(l-i):s>c&&(_n56=s-c),0!==_n56)if(_e72)o.scrollBy(0,_n56);else{var _t118=a.scrollTop;a.scrollTop+=_n56;var _e73=a.scrollTop-_t118;i-=_e73,s-=_e73;}if(_e72)break;a=ui(a);}}(n,_e71,i);}}ze=!0;}}function dr(e){var n=e;e.isCollapsed()||n.removeText();var r=or();Wn(r)&&(n=r),Wn(n)||t(161);var o=n.anchor;var i=o.getNode(),s=o.offset;for(;!Di(i);){var _hr;var _t119=i;if(_hr=hr(i,s),i=_hr[0],s=_hr[1],_t119.is(i))break;}return s;}function hr(t,e){var n=t.getParent();if(!n){var _t120=oo();return Ko().append(_t120),_t120.select(),[Ko(),0];}if(Dn(t)){var _r42=t.splitText(e);if(0===_r42.length)return[n,t.getIndexWithinParent()];var _o31=0===e?0:1;return[n,_r42[0].getIndexWithinParent()+_o31];}if(!$r(t)||0===e)return[n,t.getIndexWithinParent()];var r=t.getChildAtIndex(e);if(r){var _n57=new _Un(Kn(t.__key,e,"element"),Kn(t.__key,e,"element"),0,""),_o32=t.insertNewAfter(_n57);_o32&&_o32.append.apply(_o32,[r].concat(r.getNextSiblings()));}return[n,t.getIndexWithinParent()+1];}function gr(t,e,n,r,o){if(o===void 0){o="decorators-and-blocks";}if("move"===e&&"character"===r&&!t.isCollapsed()){var _ref18=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus],_e74=_ref18[0],_r43=_ref18[1];return _r43.set(_e74.key,_e74.offset,_e74.type),!0;}var i=Ns(t.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===e;var c=i,a="decorators-and-blocks"===o;if(!Ds(c)){for(var _t121 of c){a=!1;var _e75=_t121.origin;if(!Jr(_e75)||_e75.isIsolated()||(c=_t121,!s||!_e75.isInline()))break;}if(a)for(var _t122 of hs(i).iterNodeCarets("extend"===e?"shadowRoot":"root")){if(ts(_t122))_t122.origin.isInline()||(c=_t122);else{if($r(_t122.origin))continue;Jr(_t122.origin)&&!_t122.origin.isInline()&&(c=_t122);}break;}}if(c===i)return!1;if(l&&!s&&Jr(c.origin)&&c.origin.isKeyboardSelectable()){var _t123=nr();return _t123.add(c.origin.getKey()),zo(_t123),!0;}return c=ws(c),l&&Ts(t.anchor,c),Ts(t.focus,c),a||!s;}var _r=null,pr=null,yr=!1,mr=!1,xr=0;var Cr={characterData:!0,childList:!0,subtree:!0};function Sr(){return yr||null!==_r&&_r._readOnly;}function Nr(){yr&&t(13);}function Tr(){xr>99&&t(14);}function vr(){return null===_r&&t(195,Er()),_r;}function kr(){return null===pr&&t(196,Er()),pr;}function Er(){var t=0;var e=new Set(),n=_lo.version;if("undefined"!=typeof window)for(var _r44 of document.querySelectorAll("[contenteditable]")){var _o33=Co(_r44);if(mo(_o33))t++;else if(_o33){var _t124=String(_o33.constructor.version||"<0.17.1");_t124===n&&(_t124+=" (separately built, likely a bundler configuration issue)"),e.add(_t124);}}var r=" Detected on the page: "+t+" compatible editor(s) with version "+n;return e.size&&(r+=" and incompatible editors with versions "+Array.from(e).join(", ")),r;}function br(){return pr;}function Or(t,e,n){var r=e.__type,o=fo(t,r);var i=n.get(r);void 0===i&&(i=Array.from(o.transforms),n.set(r,i));var s=i.length;for(var _t125=0;_t125<s&&(i[_t125](e),e.isAttached());_t125++);}function Mr(t,e){return void 0!==t&&t.__key!==e&&t.isAttached();}function Ar(t,e){if(!e)return;var n=t._updateTags;var r=e;Array.isArray(e)||(r=[e]);for(var _t126 of r)n.add(_t126);}function wr(e,n){var r=e.type,o=n.get(r);void 0===o&&t(17,r);var i=o.klass;e.type!==i.getType()&&t(18,i.name);var s=i.importJSON(e),l=e.children;if($r(s)&&Array.isArray(l))for(var _t127=0;_t127<l.length;_t127++){var _e76=wr(l[_t127],n);s.append(_e76);}return s;}function Dr(t,e,n){var r=_r,o=yr,i=pr;_r=e,yr=!0,pr=t;try{return n();}finally{_r=r,yr=o,pr=i;}}function Pr(t,e){var n=t._pendingEditorState,r=t._rootElement,o=t._headless||null===r;if(null===n)return;var i=t._editorState,s=i._selection,l=n._selection,c=0!==t._dirtyType,a=_r,u=yr,f=pr,d=t._updating,g=t._observer;var _=null;if(t._pendingEditorState=null,t._editorState=n,!o&&c&&null!==g){pr=t,_r=n,yr=!1,t._updating=!0;try{var _e77=t._dirtyType,_r45=t._dirtyElements,_o34=t._dirtyLeaves;g.disconnect(),_=Bt(i,n,t,_e77,_r45,_o34);}catch(e){if(e instanceof Error&&t._onError(e),mr)throw e;return so(t,null,r,n),J(t),t._dirtyType=2,mr=!0,Pr(t,i),void(mr=!1);}finally{g.observe(r,Cr),t._updating=d,_r=a,yr=u,pr=f;}}n._readOnly||(n._readOnly=!0);var p=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,C=t._deferred;c&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements=new Map(),t._normalizedNodes=new Set(),t._updateTags=new Set()),function(t,e){var n=t._decorators;var r=t._pendingDecorators||n;var o=e._nodeMap;var i;for(i in r)o.has(i)||(r===n&&(r=Fo(t)),delete r[i]);}(t,n);var S=o?null:ki(pi(t));if(t._editable&&null!==S&&(c||null===l||l.dirty)&&null!==r&&!x.has(to)){pr=t,_r=n;try{if(null!==g&&g.disconnect(),c||null===l||l.dirty){var _e78=t._blockCursorElement;null!==_e78&&vi(_e78,t,r),fr(s,l,t,S,x,r);}!function(t,e,n){var r=t._blockCursorElement;if(Wn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){var _o35=n.anchor,_i18=_o35.getNode(),_s11=_o35.offset;var _l7=!1,_c7=null;if(_s11===_i18.getChildrenSize()){Ti(_i18.getChildAtIndex(_s11-1))&&(_l7=!0);}else{var _e79=_i18.getChildAtIndex(_s11);if(null!==_e79&&Ti(_e79)){var _n58=_e79.getPreviousSibling();(null===_n58||Ti(_n58))&&(_l7=!0,_c7=t.getElementByKey(_e79.__key));}}if(_l7){var _n59=t.getElementByKey(_i18.__key);return null===r&&(t._blockCursorElement=r=function(t){var e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=e.blockCursor;if(void 0!==r){var _n$classList;if("string"==typeof r){var _t128=h(r);r=e.blockCursor=_t128;}void 0!==r&&(_n$classList=n.classList).add.apply(_n$classList,r);}return n;}(t._config)),e.style.caretColor="transparent",void(null===_c7?_n59.appendChild(r):_n59.insertBefore(r,_c7));}}null!==r&&vi(r,t,e);}(t,r,l);}finally{null!==g&&g.observe(r,Cr),pr=f,_r=a;}}null!==_&&function(t,e,n,r,o){var i=Array.from(t._listeners.mutation),s=i.length;for(var _t129=0;_t129<s;_t129++){var _i$_t=i[_t129],_s12=_i$_t[0],_l8=_i$_t[1];for(var _t130 of _l8){var _i19=e.get(_t130);void 0!==_i19&&_s12(_i19,{dirtyLeaves:r,prevEditorState:o,updateTags:n});}}}(t,_,x,p,i),Wn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(Wt,void 0);var N=t._pendingDecorators;null!==N&&(t._decorators=N,t._pendingDecorators=null,Ir("decorator",t,!0,N)),function(t,e,n){var r=Ro(e),o=Ro(n);r!==o&&Ir("textcontent",t,!0,o);}(t,e||i,n),Ir("update",t,!0,{dirtyElements:y,dirtyLeaves:p,editorState:n,mutatedNodes:_,normalizedNodes:m,prevEditorState:e||i,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){var _n60=t._updating;t._updating=!0;try{for(var _t131=0;_t131<e.length;_t131++)e[_t131]();}finally{t._updating=_n60;}}}(t,C),function(t){var e=t._updates;if(0!==e.length){var _n61=e.shift();if(_n61){var _e80=_n61[0],_r46=_n61[1];Fr(t,_e80,_r46);}}}(t);}function Ir(t,e,n){var o=e._updating;e._updating=n;try{var _n62=Array.from(e._listeners[t]);for(var _len5=arguments.length,r=new Array(_len5>3?_len5-3:0),_key5=3;_key5<_len5;_key5++){r[_key5-3]=arguments[_key5];}for(var _t132=0;_t132<_n62.length;_t132++)_n62[_t132].apply(null,r);}finally{e._updating=o;}}function Lr(e,n){var r=e._updates;var o=n||!1;for(;0!==r.length;){var _n63=r.shift();if(_n63){var _r47=_n63[0],_i20=_n63[1],_s13=e._pendingEditorState;var _l9=void 0;void 0!==_i20&&(_l9=_i20.onUpdate,_i20.skipTransforms&&(o=!0),_i20.discrete&&(null===_s13&&t(191),_s13._flushSync=!0),_l9&&e._deferred.push(_l9),Ar(e,_i20.tag)),null==_s13?Fr(e,_r47,_i20):_r47();}}return o;}function Fr(e,n,r){var o=e._updateTags;var i,s=!1,l=!1;void 0!==r&&(i=r.onUpdate,Ar(e,r.tag),s=r.skipTransforms||!1,l=r.discrete||!1),i&&e._deferred.push(i);var c=e._editorState;var a=e._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=e._pendingEditorState=Hr(a||c),u=!0),a._flushSync=l;var f=_r,d=yr,h=pr,g=e._updating;_r=a,yr=!1,e._updating=!0,pr=e;var _=e._headless||null===e.getRootElement();ao(null);try{u&&(_?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t,e){var n=t.getEditorState()._selection,r=ki(pi(t));return Wn(n)||null==n?rr(n,r,t,e):n.clone();}(e,r&&r.event||null));var _o36=e._compositionKey;n(),s=Lr(e,s),function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(Wn(r)){var _t133=r.anchor,_e81=r.focus;var _o37;if("text"===_t133.type&&(_o37=_t133.getNode(),_o37.selectionTransform(n,r)),"text"===_e81.type){var _t134=_e81.getNode();_o37!==_t134&&_t134.selectionTransform(n,r);}}}(a,e),0!==e._dirtyType&&(s?function(t,e){var n=e._dirtyLeaves,r=t._nodeMap;for(var _t135 of n){var _e82=r.get(_t135);Dn(_e82)&&_e82.isAttached()&&_e82.isSimpleText()&&!_e82.isUnmergeable()&&ot(_e82);}}(a,e):function(t,e){var n=e._dirtyLeaves,r=e._dirtyElements,o=t._nodeMap,i=wo(),s=new Map();var l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set();for(var _t136 of l){var _r48=o.get(_t136);Dn(_r48)&&_r48.isAttached()&&_r48.isSimpleText()&&!_r48.isUnmergeable()&&ot(_r48),void 0!==_r48&&Mr(_r48,i)&&Or(e,_r48,s),n.add(_t136);}if(l=e._dirtyLeaves,c=l.size,c>0){xr++;continue;}}e._dirtyLeaves=new Set(),e._dirtyElements=new Map(),a["delete"]("root")&&a.set("root",!0);for(var _t137 of a){var _n64=_t137[0],_l0=_t137[1];if(r.set(_n64,_l0),!_l0)continue;var _c8=o.get(_n64);void 0!==_c8&&Mr(_c8,i)&&Or(e,_c8,s);}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,xr++;}e._dirtyLeaves=n,e._dirtyElements=r;}(a,e),Lr(e),function(t,e,n,r){var o=t._nodeMap,i=e._nodeMap,s=[];for(var _ref20 of r){var _t138=_ref20[0];{var _e83=i.get(_t138);void 0!==_e83&&(_e83.isAttached()||($r(_e83)&&I(_e83,_t138,o,i,s,r),o.has(_t138)||r["delete"](_t138),s.push(_t138)));}}for(var _t139 of s)i["delete"](_t139);for(var _t140 of n){var _e84=i.get(_t140);void 0===_e84||_e84.isAttached()||(o.has(_t140)||n["delete"](_t140),i["delete"](_t140));}}(c,a,e._dirtyLeaves,e._dirtyElements));_o36!==e._compositionKey&&(a._flushSync=!0);var _i21=a._selection;if(Wn(_i21)){var _e85=a._nodeMap,_n65=_i21.anchor.key,_r49=_i21.focus.key;void 0!==_e85.get(_n65)&&void 0!==_e85.get(_r49)||t(19);}else Jn(_i21)&&0===_i21._nodes.size&&(a._selection=null);}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=c,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set(),e._dirtyElements.clear(),void Pr(e);}finally{_r=f,yr=d,pr=h,e._updating=g,xr=0;}var p=0!==e._dirtyType||e._deferred.length>0||function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0;}else if(null!==n)return!0;return!1;}(a,e);p?a._flushSync?(a._flushSync=!1,Pr(e)):u&&go(function(){Pr(e);}):(a._flushSync=!1,u&&(o.clear(),e._deferred=[],e._pendingEditorState=null));}function Rr(t,e,n){pr===t&&void 0===n?e():Fr(t,e,n);}var _Kr=function(){function Kr(t,e,n){this.element=t,this.before=e||null,this.after=n||null;}var _proto9=Kr.prototype;_proto9.withBefore=function withBefore(t){return new Kr(this.element,t,this.after);};_proto9.withAfter=function withAfter(t){return new Kr(this.element,this.before,t);};_proto9.withElement=function withElement(t){return this.element===t?this:new Kr(t,this.before,this.after);};_proto9.insertChild=function insertChild(e){var n=this.before||this.getManagedLineBreak();return null!==n&&n.parentElement!==this.element&&t(222),this.element.insertBefore(e,n),this;};_proto9.removeChild=function removeChild(e){return e.parentElement!==this.element&&t(223),this.element.removeChild(e),this;};_proto9.replaceChild=function replaceChild(e,n){return n.parentElement!==this.element&&t(224),this.element.replaceChild(e,n),this;};_proto9.getFirstChild=function getFirstChild(){var t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t;};_proto9.getManagedLineBreak=function getManagedLineBreak(){return this.element.__lexicalLineBreak||null;};_proto9.setManagedLineBreak=function setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{var _e86="decorator"===t&&(c||l);this.insertManagedLineBreak(_e86);}};_proto9.removeManagedLineBreak=function removeManagedLineBreak(){var t=this.getManagedLineBreak();if(t){var _e87=this.element,_n66="IMG"===t.nodeName?t.nextSibling:null;_n66&&_e87.removeChild(_n66),_e87.removeChild(t),_e87.__lexicalLineBreak=void 0;}};_proto9.insertManagedLineBreak=function insertManagedLineBreak(t){var e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak();}var n=this.element,r=this.before,o=document.createElement("br");if(n.insertBefore(o,r),t){var _t141=document.createElement("img");_t141.setAttribute("data-lexical-linebreak","true"),_t141.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",_t141.alt="",n.insertBefore(_t141,o),n.__lexicalLineBreak=_t141;}else n.__lexicalLineBreak=o;};_proto9.getFirstChildOffset=function getFirstChildOffset(){var t=0;for(var _e88=this.after;null!==_e88;_e88=_e88.previousSibling)t++;return t;};_proto9.resolveChildIndex=function resolveChildIndex(t,e,n,r){if(n===this.element){var _e89=this.getFirstChildOffset();return[t,Math.min(_e89+t.getChildrenSize(),Math.max(_e89,r))];}var o=Br(e,n);o.push(r);var i=Br(e,this.element);var s=t.getIndexWithinParent();for(var _t142=0;_t142<i.length;_t142++){var _e90=o[_t142],_n67=i[_t142];if(void 0===_e90||_e90<_n67)break;if(_e90>_n67){s+=1;break;}}return[t.getParentOrThrow(),s];};return Kr;}();function Br(e,n){var r=[];var o=n;for(;o!==e&&null!==o;o=o.parentNode){var _t143=0;for(var _e91=o.previousSibling;null!==_e91;_e91=_e91.previousSibling)_t143++;r.push(_t143);}return o!==e&&t(225),r.reverse();}var _zr4=function(_un3){function zr(t){var _this3;_this3=_un3.call(this,t)||this,_this3.__first=null,_this3.__last=null,_this3.__size=0,_this3.__format=0,_this3.__style="",_this3.__indent=0,_this3.__dir=null,_this3.__textFormat=0,_this3.__textStyle="";return _this3;}babelHelpers.inheritsLoose(zr,_un3);var _proto0=zr.prototype;_proto0.afterCloneFrom=function afterCloneFrom(t){_un3.prototype.afterCloneFrom.call(this,t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle;};_proto0.getFormat=function getFormat(){return this.getLatest().__format;};_proto0.getFormatType=function getFormatType(){var t=this.getFormat();return A[t]||"";};_proto0.getStyle=function getStyle(){return this.getLatest().__style;};_proto0.getIndent=function getIndent(){return this.getLatest().__indent;};_proto0.getChildren=function getChildren(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto0.getChildrenKeys=function getChildrenKeys(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t;};_proto0.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto0.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto0.isDirty=function isDirty(){var t=kr()._dirtyElements;return null!==t&&t.has(this.__key);};_proto0.isLastChild=function isLastChild(){var t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t);};_proto0.getAllTextNodes=function getAllTextNodes(){var t=[];var e=this.getFirstChild();for(;null!==e;){if(Dn(e)&&t.push(e),$r(e)){var _n68=e.getAllTextNodes();t.push.apply(t,_n68);}e=e.getNextSibling();}return t;};_proto0.getFirstDescendant=function getFirstDescendant(){var t=this.getFirstChild();for(;$r(t);){var _e92=t.getFirstChild();if(null===_e92)break;t=_e92;}return t;};_proto0.getLastDescendant=function getLastDescendant(){var t=this.getLastChild();for(;$r(t);){var _e93=t.getLastChild();if(null===_e93)break;t=_e93;}return t;};_proto0.getDescendantByIndex=function getDescendantByIndex(t){var e=this.getChildren(),n=e.length;if(t>=n){var _t144=e[n-1];return $r(_t144)&&_t144.getLastDescendant()||_t144||null;}var r=e[t];return $r(r)&&r.getFirstDescendant()||r||null;};_proto0.getFirstChild=function getFirstChild(){var t=this.getLatest().__first;return null===t?null:Do(t);};_proto0.getFirstChildOrThrow=function getFirstChildOrThrow(){var e=this.getFirstChild();return null===e&&t(45,this.__key),e;};_proto0.getLastChild=function getLastChild(){var t=this.getLatest().__last;return null===t?null:Do(t);};_proto0.getLastChildOrThrow=function getLastChildOrThrow(){var e=this.getLastChild();return null===e&&t(96,this.__key),e;};_proto0.getChildAtIndex=function getChildAtIndex(t){var e=this.getChildrenSize();var n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++;}return null;}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--;}return null;};_proto0.getTextContent=function getTextContent(){var t="";var e=this.getChildren(),n=e.length;for(var _r50=0;_r50<n;_r50++){var _o38=e[_r50];t+=_o38.getTextContent(),$r(_o38)&&_r50!==n-1&&!_o38.isInline()&&(t+=k);}return t;};_proto0.getTextContentSize=function getTextContentSize(){var t=0;var e=this.getChildren(),n=e.length;for(var _r51=0;_r51<n;_r51++){var _o39=e[_r51];t+=_o39.getTextContentSize(),$r(_o39)&&_r51!==n-1&&!_o39.isInline()&&(t+=2);}return t;};_proto0.getDirection=function getDirection(){return this.getLatest().__dir;};_proto0.getTextFormat=function getTextFormat(){return this.getLatest().__textFormat;};_proto0.hasFormat=function hasFormat(t){if(""!==t){var _e94=M[t];return 0!==(this.getFormat()&_e94);}return!1;};_proto0.hasTextFormat=function hasTextFormat(t){var e=b[t];return 0!==(this.getTextFormat()&e);};_proto0.getFormatFlags=function getFormatFlags(t,e){return Eo(this.getLatest().__textFormat,t,e);};_proto0.getTextStyle=function getTextStyle(){return this.getLatest().__textStyle;};_proto0.select=function select(t,e){Nr();var n=or();var r=t,o=e;var i=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){var _t145=this.getFirstChild();if(Dn(_t145)||$r(_t145))return _t145.select(0,0);}else if(!(void 0!==t&&t!==i||void 0!==e&&e!==i)){var _t146=this.getLastChild();if(Dn(_t146)||$r(_t146))return _t146.select();}void 0===r&&(r=i),void 0===o&&(o=i);var s=this.__key;return Wn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,o,"element"),n.dirty=!0,n):tr(s,r,s,o,"element","element");};_proto0.selectStart=function selectStart(){var t=this.getFirstDescendant();return t?t.selectStart():this.select();};_proto0.selectEnd=function selectEnd(){var t=this.getLastDescendant();return t?t.selectEnd():this.select();};_proto0.clear=function clear(){var t=this.getWritable();return this.getChildren().forEach(function(t){return t.remove();}),t;};_proto0.append=function append(){for(var _len6=arguments.length,t=new Array(_len6),_key6=0;_key6<_len6;_key6++){t[_key6]=arguments[_key6];}return this.splice(this.getChildrenSize(),0,t);};_proto0.setDirection=function setDirection(t){var e=this.getWritable();return e.__dir=t,e;};_proto0.setFormat=function setFormat(t){return this.getWritable().__format=""!==t?M[t]:0,this;};_proto0.setStyle=function setStyle(t){return this.getWritable().__style=t||"",this;};_proto0.setTextFormat=function setTextFormat(t){var e=this.getWritable();return e.__textFormat=t,e;};_proto0.setTextStyle=function setTextStyle(t){var e=this.getWritable();return e.__textStyle=t,e;};_proto0.setIndent=function setIndent(t){return this.getWritable().__indent=t,this;};_proto0.splice=function splice(e,n,r){var o=r.length,i=this.getChildrenSize(),s=this.getWritable();e+n<=i||t(226,String(e),String(n),String(i));var l=s.__key,c=[],a=[],u=this.getChildAtIndex(e+n);var f=null,d=i-n+o;if(0!==e)if(e===i)f=this.getLastChild();else{var _t147=this.getChildAtIndex(e);null!==_t147&&(f=_t147.getPreviousSibling());}if(n>0){var _e95=null===f?this.getFirstChild():f.getNextSibling();for(var _r52=0;_r52<n;_r52++){null===_e95&&t(100);var _n69=_e95.getNextSibling(),_r53=_e95.__key;Oo(_e95.getWritable()),a.push(_r53),_e95=_n69;}}var h=f;for(var _e96=0;_e96<o;_e96++){var _n70=r[_e96];null!==h&&_n70.is(h)&&(f=h=h.getPreviousSibling());var _o40=_n70.getWritable();_o40.__parent===l&&d--,Oo(_o40);var _i22=_n70.__key;if(null===h)s.__first=_i22,_o40.__prev=null;else{var _t148=h.getWritable();_t148.__next=_i22,_o40.__prev=_t148.__key;}_n70.__key===l&&t(76),_o40.__parent=l,c.push(_i22),h=_n70;}if(e+n===i){if(null!==h){h.getWritable().__next=null,s.__last=h.__key;}}else if(null!==u){var _t149=u.getWritable();if(null!==h){var _e97=h.getWritable();_t149.__prev=h.__key,_e97.__next=u.__key;}else _t149.__prev=null;}if(s.__size=d,a.length){var _t150=or();if(Wn(_t150)){var _e98=new Set(a),_n71=new Set(c),_r54=_t150.anchor,_o41=_t150.focus;Wr(_r54,_e98,_n71)&&cr(_r54,_r54.getNode(),this,f,u),Wr(_o41,_e98,_n71)&&cr(_o41,_o41.getNode(),this,f,u),0!==d||this.canBeEmpty()||mi(this)||this.remove();}}return s;};_proto0.getDOMSlot=function getDOMSlot(t){return new _Kr(t);};_proto0.exportDOM=function exportDOM(t){var _un3$prototype$export=_un3.prototype.exportDOM.call(this,t),e=_un3$prototype$export.element;if(bi(e)){var _t151=this.getIndent();_t151>0&&(e.style.paddingInlineStart=40*_t151+"px");var _n72=this.getDirection();_n72&&(e.dir=_n72);}return{element:e};};_proto0.exportJSON=function exportJSON(){var t=babelHelpers["extends"]({children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent()},_un3.prototype.exportJSON.call(this)),e=this.getTextFormat(),n=this.getTextStyle();return 0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n),t;};_proto0.updateFromJSON=function updateFromJSON(t){return _un3.prototype.updateFromJSON.call(this,t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"");};_proto0.insertNewAfter=function insertNewAfter(t,e){return null;};_proto0.canIndent=function canIndent(){return!0;};_proto0.collapseAtStart=function collapseAtStart(t){return!1;};_proto0.excludeFromCopy=function excludeFromCopy(t){return!1;};_proto0.canReplaceWith=function canReplaceWith(t){return!0;};_proto0.canInsertAfter=function canInsertAfter(t){return!0;};_proto0.canBeEmpty=function canBeEmpty(){return!0;};_proto0.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto0.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto0.isInline=function isInline(){return!1;};_proto0.isShadowRoot=function isShadowRoot(){return!1;};_proto0.canMergeWith=function canMergeWith(t){return!1;};_proto0.extractWithChild=function extractWithChild(t,e,n){return!1;};_proto0.canMergeWhenEmpty=function canMergeWhenEmpty(){return!1;};_proto0.reconcileObservedMutation=function reconcileObservedMutation(t,e){var n=this.getDOMSlot(t);var r=n.getFirstChild();for(var _t152=this.getFirstChild();_t152;_t152=_t152.getNextSibling()){var _o42=e.getElementByKey(_t152.getKey());null!==_o42&&(null==r?(n.insertChild(_o42),r=_o42):r!==_o42&&n.replaceChild(_o42,r),r=r.nextSibling);}};return zr;}(_un5);function $r(t){return t instanceof _zr4;}function Wr(t,e,n){var r=t.getNode();for(;r;){var _t153=r.__key;if(e.has(_t153)&&!n.has(_t153))return!0;r=r.getParent();}return!1;}var _Ur=function(_un4){function Ur(){return _un4.apply(this,arguments)||this;}babelHelpers.inheritsLoose(Ur,_un4);var _proto1=Ur.prototype;_proto1.decorate=function decorate(t,e){return null;};_proto1.isIsolated=function isIsolated(){return!1;};_proto1.isInline=function isInline(){return!0;};_proto1.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Ur;}(_un5);function Jr(t){return t instanceof _Ur;}var _Yr=function(_zr){function Yr(){var _this4;_this4=_zr.call(this,"root")||this,_this4.__cachedText=null;return _this4;}babelHelpers.inheritsLoose(Yr,_zr);Yr.getType=function getType(){return"root";};Yr.clone=function clone(){return new Yr();};var _proto10=Yr.prototype;_proto10.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){t(51);};_proto10.getTextContent=function getTextContent(){var t=this.__cachedText;return!Sr()&&0!==kr()._dirtyType||null===t?_zr.prototype.getTextContent.call(this):t;};_proto10.remove=function remove(){t(52);};_proto10.replace=function replace(e){t(53);};_proto10.insertBefore=function insertBefore(e){t(54);};_proto10.insertAfter=function insertAfter(e){t(55);};_proto10.updateDOM=function updateDOM(t,e){return!1;};_proto10.splice=function splice(e,n,r){for(var _e99 of r)$r(_e99)||Jr(_e99)||t(282);return _zr.prototype.splice.call(this,e,n,r);};Yr.importJSON=function importJSON(t){return Ko().updateFromJSON(t);};_proto10.collapseAtStart=function collapseAtStart(){return!0;};return Yr;}(_zr4);function jr(t){return t instanceof _Yr;}function Hr(t){return new _qr(new Map(t._nodeMap));}function Vr(){return new _qr(new Map([["root",new _Yr()]]));}function Gr(e){var n=e.exportJSON(),r=e.constructor;if(n.type!==r.getType()&&t(130,r.name),$r(e)){var _o43=n.children;Array.isArray(_o43)||t(59,r.name);var _i23=e.getChildren();for(var _t154=0;_t154<_i23.length;_t154++){var _e100=Gr(_i23[_t154]);_o43.push(_e100);}}return n;}var _qr=function(){function qr(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1;}var _proto11=qr.prototype;_proto11.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto11.read=function read(t,e){return Dr(e&&e.editor||null,this,t);};_proto11.clone=function clone(t){var e=new qr(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e;};_proto11.toJSON=function toJSON(){return Dr(null,this,function(){return{root:Gr(Ko())};});};return qr;}();var Xr="history-merge",Qr="collaboration",Zr="skip-scroll-into-view",to="skip-dom-selection";var _eo=function(_zr2){function eo(){return _zr2.apply(this,arguments)||this;}babelHelpers.inheritsLoose(eo,_zr2);eo.getType=function getType(){return"artificial";};var _proto12=eo.prototype;_proto12.createDOM=function createDOM(t){return document.createElement("div");};return eo;}(_zr4);var _no=function(_zr3){function no(){return _zr3.apply(this,arguments)||this;}babelHelpers.inheritsLoose(no,_zr3);no.getType=function getType(){return"paragraph";};no.clone=function clone(t){return new no(t.__key);};var _proto13=no.prototype;_proto13.createDOM=function createDOM(t){var e=document.createElement("p"),n=ni(t.theme,"paragraph");if(void 0!==n){var _e$classList2;(_e$classList2=e.classList).add.apply(_e$classList2,n);}return e;};_proto13.updateDOM=function updateDOM(t,e,n){return!1;};no.importDOM=function importDOM(){return{p:function p(t){return{conversion:ro,priority:0};}};};_proto13.exportDOM=function exportDOM(t){var _zr3$prototype$export=_zr3.prototype.exportDOM.call(this,t),e=_zr3$prototype$export.element;if(bi(e)){this.isEmpty()&&e.append(document.createElement("br"));var _t155=this.getFormatType();_t155&&(e.style.textAlign=_t155);}return{element:e};};no.importJSON=function importJSON(t){return oo().updateFromJSON(t);};_proto13.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_zr3.prototype.exportJSON.call(this),{textFormat:this.getTextFormat(),textStyle:this.getTextStyle()});};_proto13.insertNewAfter=function insertNewAfter(t,e){var n=oo();n.setTextFormat(t.format),n.setTextStyle(t.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n;};_proto13.collapseAtStart=function collapseAtStart(){var t=this.getChildren();if(0===t.length||Dn(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return no;}(_zr4);function ro(t){var e=oo();return t.style&&(e.setFormat(t.style.textAlign),Ki(t,e)),{node:e};}function oo(){return Ci(new _no());}function io(t){return t instanceof _no;}function so(t,e,n,r){var o=t._keyToDOMMap;o.clear(),t._editorState=Vr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),t._normalizedNodes=new Set(),t._updateTags=new Set(),t._updates=[],t._blockCursorElement=null;var i=t._observer;null!==i&&(i.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",o.set("root",n));}var _lo=function(){function lo(t,e,n,r,o,i,s,l){this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map(),this._updates=[],this._updating=!1,this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()},this._commands=new Map(),this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set(),this._dirtyLeaves=new Set(),this._dirtyElements=new Map(),this._normalizedNodes=new Set(),this._updateTags=new Set(),this._observer=null,this._key=Jo(),this._onError=o,this._htmlConversions=i,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null;}var _proto14=lo.prototype;_proto14.isComposing=function isComposing(){return null!=this._compositionKey;};_proto14.registerUpdateListener=function registerUpdateListener(t){var e=this._listeners.update;return e.add(t),function(){e["delete"](t);};};_proto14.registerEditableListener=function registerEditableListener(t){var e=this._listeners.editable;return e.add(t),function(){e["delete"](t);};};_proto14.registerDecoratorListener=function registerDecoratorListener(t){var e=this._listeners.decorator;return e.add(t),function(){e["delete"](t);};};_proto14.registerTextContentListener=function registerTextContentListener(t){var e=this._listeners.textcontent;return e.add(t),function(){e["delete"](t);};};_proto14.registerRootListener=function registerRootListener(t){var _this13=this;var e=this._listeners.root;return t(this._rootElement,null),e.add(t),function(){t(null,_this13._rootElement),e["delete"](t);};};_proto14.registerCommand=function registerCommand(e,n,r){void 0===r&&t(35);var o=this._commands;o.has(e)||o.set(e,[new Set(),new Set(),new Set(),new Set(),new Set()]);var i=o.get(e);void 0===i&&t(36,String(e));var s=i[r];return s.add(n),function(){s["delete"](n),i.every(function(t){return 0===t.size;})&&o["delete"](e);};};_proto14.registerMutationListener=function registerMutationListener(t,e,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,o=this._listeners.mutation;var i=o.get(e);void 0===i&&(i=new Set(),o.set(e,i)),i.add(r);var s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(e,r),function(){i["delete"](r),0===i.size&&o["delete"](e);};};_proto14.getRegisteredNode=function getRegisteredNode(e){var n=this._nodes.get(e.getType());return void 0===n&&t(37,e.name),n;};_proto14.resolveRegisteredNodeAfterReplacements=function resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t;};_proto14.initializeMutationListener=function initializeMutationListener(t,e){var n=this._editorState,r=Fi(n).get(e.getType());if(!r)return;var o=new Map();for(var _t156 of r.keys())o.set(_t156,"created");o.size>0&&t(o,{dirtyLeaves:new Set(),prevEditorState:n,updateTags:new Set(["registerMutationListener"])});};_proto14.registerNodeTransformToKlass=function registerNodeTransformToKlass(t,e){var n=this.getRegisteredNode(t);return n.transforms.add(e),n;};_proto14.registerNodeTransform=function registerNodeTransform(t,e){var n=this.registerNodeTransformToKlass(t,e),r=[n],o=n.replaceWithKlass;if(null!=o){var _t157=this.registerNodeTransformToKlass(o,e);r.push(_t157);}return function(t,e){var n=Fi(t.getEditorState()),r=[];for(var _t158 of e){var _e101=n.get(_t158);_e101&&r.push(_e101);}if(0===r.length)return;t.update(function(){for(var _t159 of r)for(var _e102 of _t159.keys()){var _t160=Do(_e102);_t160&&_t160.markDirty();}},null===t._pendingEditorState?{tag:Xr}:void 0);}(this,r.map(function(t){return t.klass.getType();})),function(){r.forEach(function(t){return t.transforms["delete"](e);});};};_proto14.hasNode=function hasNode(t){return this._nodes.has(t.getType());};_proto14.hasNodes=function hasNodes(t){return t.every(this.hasNode.bind(this));};_proto14.dispatchCommand=function dispatchCommand(t,e){return li(this,t,e);};_proto14.getDecorators=function getDecorators(){return this._decorators;};_proto14.getRootElement=function getRootElement(){return this._rootElement;};_proto14.getKey=function getKey(){return this._key;};_proto14.setRootElement=function setRootElement(t){var e=this._rootElement;if(t!==e){var _e$classList3;var _n73=ni(this._config.theme,"root"),_r55=this._pendingEditorState||this._editorState;if(this._rootElement=t,so(this,e,t,_r55),null!==e&&(this._config.disableEvents||cn(e),null!=_n73&&(_e$classList3=e.classList).remove.apply(_e$classList3,_n73)),null!==t){var _t$classList;var _e103=_i(t),_r56=t.style;_r56.userSelect="text",_r56.whiteSpace="pre-wrap",_r56.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=_e103,this._dirtyType=2,J(this),this._updateTags.add(Xr),Pr(this),this._config.disableEvents||function(t,e){var n=t.ownerDocument,r=Be.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",rn),Be.set(n,(r||0)+1),t.__lexicalEditor=e;var o=en(t);var _loop=function _loop(){var _Ie$_n=Ie[_n74],r=_Ie$_n[0],i=_Ie$_n[1],s="function"==typeof i?function(t){sn(t)||(on(t),(e.isEditable()||"click"===r)&&i(t,e));}:function(t){if(sn(t))return;on(t);var n=e.isEditable();switch(r){case"cut":return n&&li(e,ve,t);case"copy":return li(e,Te,t);case"paste":return n&&li(e,Gt,t);case"dragstart":return n&&li(e,Ce,t);case"dragover":return n&&li(e,Se,t);case"dragend":return n&&li(e,Ne,t);case"focus":return n&&li(e,Ae,t);case"blur":return n&&li(e,we,t);case"drop":return n&&li(e,me,t);}};t.addEventListener(r,s),o.push(function(){t.removeEventListener(r,s);});};for(var _n74=0;_n74<Ie.length;_n74++){_loop();}}(t,this),null!=_n73&&(_t$classList=t.classList).add.apply(_t$classList,_n73);}else this._window=null,this._updateTags.add(Xr),Pr(this);Ir("root",this,!1,t,e);}};_proto14.getElementByKey=function getElementByKey(t){return this._keyToDOMMap.get(t)||null;};_proto14.getEditorState=function getEditorState(){return this._editorState;};_proto14.setEditorState=function setEditorState(e,n){e.isEmpty()&&t(38);var r=e;r._readOnly&&(r=Hr(e),r._selection=e._selection?e._selection.clone():null),U(this);var o=this._pendingEditorState,i=this._updateTags,s=void 0!==n?n.tag:null;null===o||o.isEmpty()||(null!=s&&i.add(s),Pr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&i.add(s),this._updating||Pr(this);};_proto14.parseEditorState=function parseEditorState(t,e){return function(t,e,n){var r=Vr(),o=_r,i=yr,s=pr,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map(),e._dirtyLeaves=new Set(),e._cloneNotNeeded=new Set(),e._dirtyType=0,_r=r,yr=!1,pr=e,ao(null);try{var _o44=e._nodes;wr(t.root,_o44),n&&n(),r._readOnly=!0;}catch(t){t instanceof Error&&e._onError(t);}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,_r=o,yr=i,pr=s;}return r;}("string"==typeof t?JSON.parse(t):t,this,e);};_proto14.read=function read(t){return Pr(this),this.getEditorState().read(t,{editor:this});};_proto14.update=function update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):Fr(t,e,n);}(this,t,e);};_proto14.focus=function focus(t,e){if(e===void 0){e={};}var n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Rr(this,function(){var r=or(),o=Ko();null!==r?r.dirty||zo(r.clone()):0!==o.getChildrenSize()&&("rootStart"===e.defaultSelection?o.selectStart():o.selectEnd()),di("focus"),hi(function(){n.removeAttribute("autocapitalize"),t&&t();});}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"));};_proto14.blur=function blur(){var t=this._rootElement;null!==t&&t.blur();var e=ki(this._window);null!==e&&e.removeAllRanges();};_proto14.isEditable=function isEditable(){return this._editable;};_proto14.setEditable=function setEditable(t){this._editable!==t&&(this._editable=t,Ir("editable",this,!0,t));};_proto14.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return lo;}();_lo.version="0.35.0+prod.cjs";var co=null;function ao(t){co=t;}var uo=1;function fo(e,n){var r=ho(e,n);return void 0===r&&t(30,n),r;}function ho(t,e){return t._nodes.get(e);}var go="function"==typeof queueMicrotask?queueMicrotask:function(t){Promise.resolve().then(t);};function _o(t){return Jr(Lo(t));}function po(t){var e=document.activeElement;if(!bi(e))return!1;var n=e.nodeName;return Jr(Lo(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==Co(e));}function yo(t,e,n){var r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!po(e)&&xo(e)===t;}catch(t){return!1;}}function mo(t){return t instanceof _lo;}function xo(t){var e=t;for(;null!=e;){var _t161=Co(e);if(mo(_t161))return _t161;e=ui(e);}return null;}function Co(t){return t?t.__lexicalEditor:null;}function So(t){return Fn(t)||t.isToken();}function No(t){return So(t)||t.isSegmented();}function To(t){return Oi(t)&&3===t.nodeType;}function vo(t){return Oi(t)&&9===t.nodeType;}function ko(t){var e=t;for(;null!=e;){if(To(e))return e;e=e.firstChild;}return null;}function Eo(t,e,n){var r=b[e];if(null!==n&&(t&r)===(n&r))return t;var o=t^r;return"subscript"===e?o&=~b.superscript:"superscript"===e?o&=~b.subscript:"lowercase"===e?(o&=~b.uppercase,o&=~b.capitalize):"uppercase"===e?(o&=~b.lowercase,o&=~b.capitalize):"capitalize"===e&&(o&=~b.lowercase,o&=~b.uppercase),o;}function bo(t,e){var n=function(){var t=co;return co=null,t;}();if(null!=(e=e||n&&n.__key))return void(t.__key=e);Nr(),Tr();var r=kr(),o=vr(),i=""+uo++;o._nodeMap.set(i,t),$r(t)?r._dirtyElements.set(i,!0):r._dirtyLeaves.add(i),r._cloneNotNeeded.add(i),r._dirtyType=1,t.__key=i;}function Oo(t){var e=t.getParent();if(null!==e){var _n75=t.getWritable(),_r57=e.getWritable(),_o45=t.getPreviousSibling(),_i24=t.getNextSibling(),_s14=null!==_i24?_i24.__key:null,_l1=null!==_o45?_o45.__key:null,_c9=null!==_o45?_o45.getWritable():null,_a9=null!==_i24?_i24.getWritable():null;null===_o45&&(_r57.__first=_s14),null===_i24&&(_r57.__last=_l1),null!==_c9&&(_c9.__next=_s14),null!==_a9&&(_a9.__prev=_l1),_n75.__prev=null,_n75.__next=null,_n75.__parent=null,_r57.__size--;}}function Mo(t){Tr();var e=t.getLatest(),n=e.__parent,r=vr(),o=kr(),i=r._nodeMap,s=o._dirtyElements;null!==n&&function(t,e,n){var r=t;for(;null!==r;){if(n.has(r))return;var _t162=e.get(r);if(void 0===_t162)break;n.set(r,!1),r=_t162.__parent;}}(n,i,s);var l=e.__key;o._dirtyType=1,$r(t)?s.set(l,!0):o._dirtyLeaves.add(l);}function Ao(t){Nr();var e=kr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){var _t163=Do(n);null!==_t163&&_t163.getWritable();}if(null!==t){var _e104=Do(t);null!==_e104&&_e104.getWritable();}}}function wo(){if(Sr())return null;return kr()._compositionKey;}function Do(t,e){var n=(e||vr())._nodeMap.get(t);return void 0===n?null:n;}function Po(t,e){var n=Io(t,kr());return void 0!==n?Do(n,e):null;}function Io(t,e){return t["__lexicalKey_"+e._key];}function Lo(t,e){var n=t;for(;null!=n;){var _t164=Po(n,e);if(null!==_t164)return _t164;n=ui(n);}return null;}function Fo(t){var e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n;}function Ro(t){return t.read(function(){return Ko().getTextContent();});}function Ko(){return Bo(vr());}function Bo(t){return t._nodeMap.get("root");}function zo(t){Nr();var e=vr();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t;}function $o(t){var e=kr(),n=function(t,e){var n=t;for(;null!=n;){var _t165=Io(n,e);if(void 0!==_t165)return _t165;n=ui(n);}return null;}(t,e);if(null===n){return t===e.getRootElement()?Do("root"):null;}return Do(n);}function Wo(t){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t);}function Uo(t){var e=[];var n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e;}function Jo(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);}function Yo(t){return To(t)?t.nodeValue:null;}function jo(t,e,n){var r=ki(pi(e));if(null===r)return;var o=r.anchorNode;var i=r.anchorOffset,s=r.focusOffset;if(null!==o){var _e105=Yo(o);var _r58=Lo(o);if(null!==_e105&&Dn(_r58)){if(_e105===v&&n){var _t166=n.length;_e105=n,i=_t166,s=_t166;}null!==_e105&&Ho(_r58,_e105,i,s,t);}}}function Ho(t,e,n,r,o){var i=t;if(i.isAttached()&&(o||!i.isDirty())){var _s15=i.isComposing();var _a0=e;(_s15||o)&&e[e.length-1]===v&&(_a0=e.slice(0,-1));var _u9=i.getTextContent();if(o||_a0!==_u9){if(""===_a0){if(Ao(null),l||c||d)i.remove();else{var _t167=kr();setTimeout(function(){_t167.update(function(){i.isAttached()&&i.remove();});},20);}return;}var _e106=i.getParent(),_o46=ir(),_u0=i.getTextContentSize(),_f9=wo(),_h5=i.getKey();if(i.isToken()||null!==_f9&&_h5===_f9&&!_s15||Wn(_o46)&&(null!==_e106&&!_e106.canInsertTextBefore()&&0===_o46.anchor.offset||_o46.anchor.key===t.__key&&0===_o46.anchor.offset&&!i.canInsertTextBefore()&&!_s15||_o46.focus.key===t.__key&&_o46.focus.offset===_u0&&!i.canInsertTextAfter()&&!_s15))return void i.markDirty();var _g6=or();if(!Wn(_g6)||null===n||null===r)return void Vo(i,_a0,_g6);if(_g6.setTextNodeRange(i,n,i,r),i.isSegmented()){var _t168=wn(i.getTextContent());i.replace(_t168),i=_t168;}Vo(i,_a0,_g6);}}}function Vo(t,e,n){if(t.setTextContent(e),Wn(n)){var _e107=t.getKey();for(var _r59 of["anchor","focus"]){var _o47=n[_r59];"text"===_o47.type&&_o47.key===_e107&&(_o47.offset=ss(t,_o47.offset,"clamp"));}}}function Go(t,e,n){var r=e[n]||!1;return"any"===r||r===t[n];}function qo(t,e){return Go(t,e,"altKey")&&Go(t,e,"ctrlKey")&&Go(t,e,"shiftKey")&&Go(t,e,"metaKey");}function Xo(t,e,n){return qo(t,n)&&t.key.toLowerCase()===e.toLowerCase();}var Qo={ctrlKey:!o,metaKey:o},Zo={altKey:o,ctrlKey:!o};function ti(t){return"Backspace"===t.key;}function ei(t){return Xo(t,"a",Qo);}function ni(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});var n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;var o=t[e];if("string"==typeof o){var _t169=h(o);return n[e]=_t169,_t169;}return o;}function ri(e,n,r,o,i){if(0===r.size)return;var s=o.__type,l=o.__key,c=n.get(s);void 0===c&&t(33,s);var a=c.klass;var u=e.get(a);void 0===u&&(u=new Map(),e.set(a,u));var f=u.get(l),d="destroyed"===f&&"created"===i;(void 0===f||d)&&u.set(l,d?"updated":i);}function oi(t,e,n){var r=t.getParent();var o=n,i=t;return null!==r&&(e&&0===n?(o=i.getIndexWithinParent(),i=r):e||n!==i.getChildrenSize()||(o=i.getIndexWithinParent()+1,i=r)),i.getChildAtIndex(e?o-1:o);}function ii(t,e){var n=t.offset;if("element"===t.type){return oi(t.getNode(),e,n);}{var _r60=t.getNode();if(e&&0===n||!e&&n===_r60.getTextContentSize()){var _t170=e?_r60.getPreviousSibling():_r60.getNextSibling();return null===_t170?oi(_r60.getParentOrThrow(),e,_r60.getIndexWithinParent()+(e?0:1)):_t170;}}return null;}function si(t){var e=pi(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n;}function li(t,e,n){return function(t,e,n){var r=Uo(t);for(var _o48=4;_o48>=0;_o48--){var _loop2=function _loop2(){var s=r[_i25],l=s._commands.get(e);if(void 0!==l){var _e108=l[_o48];if(void 0!==_e108){var _r61=Array.from(_e108),_o49=_r61.length;var _i26=!1;if(Rr(s,function(){for(var _e109=0;_e109<_o49;_e109++)if(_r61[_e109](n,t))return void(_i26=!0);}),_i26)return{v:_i26};}}},_ret;for(var _i25=0;_i25<r.length;_i25++){_ret=_loop2();if(_ret)return _ret.v;}}return!1;}(t,e,n);}function ci(t){return!jr(t)&&!t.isLastChild()&&!t.isInline();}function ai(e,n){var r=e._keyToDOMMap.get(n);return void 0===r&&t(75,n),r;}function ui(t){var e=t.assignedSlot||t.parentElement;return Mi(e)?e.host:e;}function fi(t){return vo(t)?t:bi(t)?t.ownerDocument:null;}function di(t){Nr();kr()._updateTags.add(t);}function hi(t){Nr();kr()._deferred.push(t);}function gi(t,e){var n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent();}return!1;}function _i(t){var e=fi(t);return e?e.defaultView:null;}function pi(e){var n=e._window;return null===n&&t(78),n;}function yi(t){var e=t.getParentOrThrow();for(;null!==e;){if(mi(e))return e;e=e.getParentOrThrow();}return e;}function mi(t){return jr(t)||$r(t)&&t.isShadowRoot();}function xi(t){var e=t.constructor.clone(t);return bo(e,null),e.afterCloneFrom(t),e;}function Ci(e){var n=kr(),r=e.getType(),o=ho(n,r);void 0===o&&t(200,e.constructor.name,r);var i=o.replace,s=o.replaceWithKlass;if(null!==i){var _n76=i(e),_o50=_n76.constructor;return null!==s?_n76 instanceof s||t(201,s.name,s.getType(),_o50.name,_o50.getType(),e.constructor.name,r):_n76 instanceof e.constructor&&_o50!==e.constructor||t(202,_o50.name,_o50.getType(),e.constructor.name,r),_n76.__key===e.__key&&t(203,e.constructor.name,r,_o50.name,_o50.getType()),_n76;}return e;}function Si(e,n){!jr(e.getParent())||$r(n)||Jr(n)||t(99);}function Ni(e){var n=Do(e);return null===n&&t(63,e),n;}function Ti(t){return(Jr(t)||$r(t)&&!t.canBeEmpty())&&!t.isInline();}function vi(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;var r=t.parentElement;null!==r&&r.removeChild(t);}function ki(t){return n?(t||window).getSelection():null;}function Ei(t){var e=_i(t);return e?e.getSelection():null;}function bi(t){return Oi(t)&&1===t.nodeType;}function Oi(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType;}function Mi(t){return Oi(t)&&11===t.nodeType;}function Ai(t){var e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e);}function wi(t){var e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e);}function Di(t){if(Jr(t)&&!t.isInline())return!0;if(!$r(t)||mi(t))return!1;var e=t.getFirstChild(),n=null===e||gn(e)||Dn(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n;}function Pi(){return kr();}var Ii=new WeakMap(),Li=new Map();function Fi(e){if(!e._readOnly&&e.isEmpty())return Li;e._readOnly||t(192);var n=Ii.get(e);return n||(n=function(t){var e=new Map();for(var _ref22 of t._nodeMap){var _n77=_ref22[0];var _r62=_ref22[1];{var _t171=_r62.__type;var _o51=e.get(_t171);_o51||(_o51=new Map(),e.set(_t171,_o51)),_o51.set(_n77,_r62);}}return e;}(e),Ii.set(e,n)),n;}function Ri(t){var e=t.constructor.clone(t);return e.afterCloneFrom(t),e;}function Ki(t,e){var n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r);}function Bi(t){return!0===t.__lexicalUnmanaged;}function zi(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e);}(t,e)&&t[e]!==_un5[e];}function $i(t){if(!(t===_un5||t.prototype instanceof _un5)){var _e110="<unknown>",_n78="<unknown>";try{_e110=t.getType();}catch(t){}try{_lo.version&&(_n78=JSON.parse(_lo.version));}catch(t){}!function(t){throw new Error(t);}(t.name+" (type "+_e110+") does not subclass LexicalNode from the lexical package used by this editor (version "+_n78+"). All lexical and @lexical/* packages used by an editor must have identical versions. If you suspect the version does match, then the problem may be caused by multiple copies of the same lexical module (e.g. both esm and cjs, or included directly in multiple entrypoints).");}return t===_Ur||t===_zr4||t===_un5;}function Wi(t){var e=P in t.prototype?t.prototype[P]():void 0,n=$i(t),r=!n&&zi(t,"getType")?t.getType():void 0;var o,i=r;if(e)if(r)o=e[r];else for(var _ref24 of Object.entries(e)){var _t172=_ref24[0];var _n79=_ref24[1];i=_t172,o=_n79;}if(!n&&i&&(zi(t,"getType")||(t.getType=function(){return i;}),zi(t,"clone")||(t.clone=function(e){return ao(e),new t();}),zi(t,"importJSON")||(t.importJSON=o&&o.$importJSON||function(e){return new t().updateFromJSON(e);}),!zi(t,"importDOM")&&o)){var _o52=o,_e111=_o52.importDOM;_e111&&(t.importDOM=function(){return _e111;});}return{ownNodeConfig:o,ownNodeType:i};}var Ui=function Ui(t,e){var n=t;for(;null!=n&&!jr(n);){if(e(n))return n;n=n.getParent();}return null;},Ji={next:"previous",previous:"next"};var _Yi4=function(){function Yi(t){this.origin=t;}var _proto15=Yi.prototype;_proto15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return ps({hasNext:Zi,initial:this.getAdjacentCaret(),map:function map(t){return t;},step:function step(t){return t.getAdjacentCaret();}});};_proto15.getAdjacentCaret=function getAdjacentCaret(){return os(this.getNodeAtCaret(),this.direction);};_proto15.getSiblingCaret=function getSiblingCaret(){return os(this.origin,this.direction);};_proto15.remove=function remove(){var t=this.getNodeAtCaret();return t&&t.remove(),this;};_proto15.replaceOrInsert=function replaceOrInsert(t,e){var n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this;};_proto15.splice=function splice(e,n,r){if(r===void 0){r="next";}var o=r===this.direction?n:Array.from(n).reverse();var i=this;var s=this.getParentAtCaret(),l=new Map();for(var _t173=i.getAdjacentCaret();null!==_t173&&l.size<e;_t173=_t173.getAdjacentCaret()){var _e112=_t173.origin.getWritable();l.set(_e112.getKey(),_e112);}for(var _e113 of o){if(l.size>0){var _n80=i.getNodeAtCaret();if(_n80){if(l["delete"](_n80.getKey()),l["delete"](_e113.getKey()),_n80.is(_e113)||i.origin.is(_e113));else{var _t174=_e113.getParent();_t174&&_t174.is(s)&&_e113.remove(),_n80.replace(_e113);}}else null===_n80&&t(263,Array.from(l).join(" "));}else i.insert(_e113);i=os(_e113,this.direction);}for(var _t175 of l.values())_t175.remove();return this;};return Yi;}();var _ji3=function(_Yi){function ji(){var _this5;for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}return(_this5=_Yi.call.apply(_Yi,[this].concat(args))||this,_this5.type="child",babelHelpers.assertThisInitialized(_this5))||babelHelpers.assertThisInitialized(_this5);}babelHelpers.inheritsLoose(ji,_Yi);var _proto16=ji.prototype;_proto16.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:cs(t,this.direction);};_proto16.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto16.getFlipped=function getFlipped(){var t=Vi(this.direction);return os(this.getNodeAtCaret(),t)||cs(this.origin,t);};_proto16.getParentAtCaret=function getParentAtCaret(){return this.origin;};_proto16.getChildCaret=function getChildCaret(){return this;};_proto16.isSameNodeCaret=function isSameNodeCaret(t){return t instanceof ji&&this.direction===t.direction&&this.origin.is(t.origin);};_proto16.isSamePointCaret=function isSamePointCaret(t){return this.isSameNodeCaret(t);};return ji;}(_Yi4);var Hi={root:jr,shadowRoot:mi};function Vi(t){return Ji[t];}function Gi(t,e){if(e===void 0){e="root";}return Hi[e](t)?null:t;}var _qi3=function(_Yi2){function qi(){var _this6;for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return(_this6=_Yi2.call.apply(_Yi2,[this].concat(args))||this,_this6.type="sibling",babelHelpers.assertThisInitialized(_this6))||babelHelpers.assertThisInitialized(_this6);}babelHelpers.inheritsLoose(qi,_Yi2);var _proto17=qi.prototype;_proto17.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:os(t,this.direction);};_proto17.getSiblingCaret=function getSiblingCaret(){return this;};_proto17.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto17.getChildCaret=function getChildCaret(){return $r(this.origin)?cs(this.origin,this.direction):null;};_proto17.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto17.getFlipped=function getFlipped(){var t=Vi(this.direction);return os(this.getNodeAtCaret(),t)||cs(this.origin.getParentOrThrow(),t);};_proto17.isSamePointCaret=function isSamePointCaret(t){return t instanceof qi&&this.direction===t.direction&&this.origin.is(t.origin);};_proto17.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof qi||t instanceof _Xi3)&&this.direction===t.direction&&this.origin.is(t.origin);};return qi;}(_Yi4);var _Xi3=function(_Yi3){function Xi(t,e){var _this7;_this7=_Yi3.call(this,t)||this,_this7.type="text",_this7.offset=e;return _this7;}babelHelpers.inheritsLoose(Xi,_Yi3);var _proto18=Xi.prototype;_proto18.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:is(t,this.direction,this.offset);};_proto18.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto18.getChildCaret=function getChildCaret(){return null;};_proto18.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return os(Gi(this.getParentAtCaret(),t),this.direction);};_proto18.getFlipped=function getFlipped(){return is(this.origin,Vi(this.direction),this.offset);};_proto18.isSamePointCaret=function isSamePointCaret(t){return t instanceof Xi&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset;};_proto18.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof _qi3||t instanceof Xi)&&this.direction===t.direction&&this.origin.is(t.origin);};_proto18.getSiblingCaret=function getSiblingCaret(){return os(this.origin,this.direction);};return Xi;}(_Yi4);function Qi(t){return t instanceof _Xi3;}function Zi(t){return t instanceof _qi3;}function ts(t){return t instanceof _ji3;}var es={next:function(_Xi){function _class(){var _this8;for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=arguments[_key9];}return(_this8=_Xi.call.apply(_Xi,[this].concat(args))||this,_this8.direction="next",babelHelpers.assertThisInitialized(_this8))||babelHelpers.assertThisInitialized(_this8);}babelHelpers.inheritsLoose(_class,_Xi);var _proto19=_class.prototype;_proto19.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto19.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class;}(_Xi3),previous:function(_Xi2){function _class3(){var _this9;for(var _len0=arguments.length,args=new Array(_len0),_key0=0;_key0<_len0;_key0++){args[_key0]=arguments[_key0];}return(_this9=_Xi2.call.apply(_Xi2,[this].concat(args))||this,_this9.direction="previous",babelHelpers.assertThisInitialized(_this9))||babelHelpers.assertThisInitialized(_this9);}babelHelpers.inheritsLoose(_class3,_Xi2);var _proto20=_class3.prototype;_proto20.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto20.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class3;}(_Xi3)},ns={next:function(_qi){function _class5(){var _this0;for(var _len1=arguments.length,args=new Array(_len1),_key1=0;_key1<_len1;_key1++){args[_key1]=arguments[_key1];}return(_this0=_qi.call.apply(_qi,[this].concat(args))||this,_this0.direction="next",babelHelpers.assertThisInitialized(_this0))||babelHelpers.assertThisInitialized(_this0);}babelHelpers.inheritsLoose(_class5,_qi);var _proto21=_class5.prototype;_proto21.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto21.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class5;}(_qi3),previous:function(_qi2){function _class7(){var _this1;for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return(_this1=_qi2.call.apply(_qi2,[this].concat(args))||this,_this1.direction="previous",babelHelpers.assertThisInitialized(_this1))||babelHelpers.assertThisInitialized(_this1);}babelHelpers.inheritsLoose(_class7,_qi2);var _proto22=_class7.prototype;_proto22.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto22.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class7;}(_qi3)},rs={next:function(_ji){function _class9(){var _this10;for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11];}return(_this10=_ji.call.apply(_ji,[this].concat(args))||this,_this10.direction="next",babelHelpers.assertThisInitialized(_this10))||babelHelpers.assertThisInitialized(_this10);}babelHelpers.inheritsLoose(_class9,_ji);var _proto23=_class9.prototype;_proto23.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getFirstChild();};_proto23.insert=function insert(t){return this.origin.splice(0,0,[t]),this;};return _class9;}(_ji3),previous:function(_ji2){function _class1(){var _this11;for(var _len12=arguments.length,args=new Array(_len12),_key12=0;_key12<_len12;_key12++){args[_key12]=arguments[_key12];}return(_this11=_ji2.call.apply(_ji2,[this].concat(args))||this,_this11.direction="previous",babelHelpers.assertThisInitialized(_this11))||babelHelpers.assertThisInitialized(_this11);}babelHelpers.inheritsLoose(_class1,_ji2);var _proto24=_class1.prototype;_proto24.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getLastChild();};_proto24.insert=function insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this;};return _class1;}(_ji3)};function os(t,e){return t?new ns[e](t):null;}function is(t,e,n){return t?new es[e](t,ss(t,n)):null;}function ss(t,n,r){if(r===void 0){r="error";}var o=t.getTextContentSize();var i="next"===n?o:"previous"===n?0:n;return(i<0||i>o)&&("clamp"!==r&&e(284,String(n),String(o),t.getKey()),i=i<0?0:o),i;}function ls(t,e){return new _ds(t,e);}function cs(t,e){return $r(t)?new rs[e](t):null;}function as(t){return t&&t.getChildCaret()||t;}function us(t){return t&&as(t.getAdjacentCaret());}var _fs=function(){function fs(t,e,n){this.type="node-caret-range";this.anchor=t,this.focus=e,this.direction=n;}var _proto25=fs.prototype;_proto25.getLatest=function getLatest(){var t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new fs(t,e,this.direction);};_proto25.isCollapsed=function isCollapsed(){return this.anchor.isSamePointCaret(this.focus);};_proto25.getTextSlices=function getTextSlices(){var _this14=this;var t=function t(_t176){var e=_this14[_t176].getLatest();return Qi(e)?function(t,e){var n=t.direction,r=t.origin,o=ss(r,"focus"===e?Vi(n):n);return ls(t,o-t.offset);}(e,_t176):null;},e=t("anchor"),n=t("focus");if(e&&n){var _t177=e.caret,_r63=n.caret;if(_t177.isSameNodeCaret(_r63))return[ls(_t177,_r63.offset-_t177.offset),null];}return[e,n];};_proto25.iterNodeCarets=function iterNodeCarets(t){if(t===void 0){t="root";}var e=Qi(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Qi(n),o=function o(e){return e.isSameNodeCaret(n)?null:us(e)||e.getParentCaret(t);};return ps({hasNext:function hasNext(t){return null!==t&&!(r&&n.isSameNodeCaret(t));},initial:e.isSameNodeCaret(n)?null:o(e),map:function map(t){return t;},step:o});};_proto25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this.iterNodeCarets("root");};return fs;}();var _ds=function(){function ds(t,e){this.type="slice";this.caret=t,this.distance=e;}var _proto26=ds.prototype;_proto26.getSliceIndices=function getSliceIndices(){var t=this.distance,e=this.caret.offset,n=e+t;return n<e?[n,e]:[e,n];};_proto26.getTextContent=function getTextContent(){var _this$getSliceIndices=this.getSliceIndices(),t=_this$getSliceIndices[0],e=_this$getSliceIndices[1];return this.caret.origin.getTextContent().slice(t,e);};_proto26.getTextContentSize=function getTextContentSize(){return Math.abs(this.distance);};_proto26.removeTextSlice=function removeTextSlice(){var _this$caret=this.caret,t=_this$caret.origin,e=_this$caret.direction,_this$getSliceIndices2=this.getSliceIndices(),n=_this$getSliceIndices2[0],r=_this$getSliceIndices2[1],o=t.getTextContent();return is(t.setTextContent(o.slice(0,n)+o.slice(r)),e,n);};return ds;}();function hs(t){return _s(t,os(Ko(),t.direction));}function gs(t){return _s(t,t);}function _s(e,n){return e.direction!==n.direction&&t(265),new _fs(e,n,e.direction);}function ps(t){var _ref25;var e=t.initial,n=t.hasNext,r=t.step,o=t.map;var i=e;return _ref25={},_ref25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this;},_ref25.next=function next(){if(!n(i))return{done:!0,value:void 0};var t={done:!1,value:o(i)};return i=r(i),t;},_ref25;}function ys(e,n){var r=Ss(e.origin,n.origin);switch(null===r&&t(275,e.origin.getKey(),n.origin.getKey()),r.type){case"same":{var _t178="text"===e.type,_r64="text"===n.type;return _t178&&_r64?function(t,e){return Math.sign(t-e);}(e.offset,n.offset):e.type===n.type?0:_t178?-1:_r64?1:"child"===e.type?-1:1;}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===n.type?1:-1;case"branch":return ms(r);}}function ms(t){var e=t.a,n=t.b,r=e.__key,o=n.__key;var i=e,s=n;for(;i&&s;i=i.getNextSibling(),s=s.getNextSibling()){if(i.__key===o)return-1;if(s.__key===r)return 1;}return null===i?1:-1;}function xs(t,e){return e.is(t);}function Cs(t){return $r(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()];}function Ss(e,n){if(e.is(n))return{commonAncestor:e,type:"same"};var r=new Map();for(var _Cs=Cs(e),_t179=_Cs[0],_n81=_Cs[1];_t179;_n81=_t179,_t179=_t179.getParent())r.set(_t179,_n81);for(var _Cs2=Cs(n),_o53=_Cs2[0],_i27=_Cs2[1];_o53;_i27=_o53,_o53=_o53.getParent()){var _s16=r.get(_o53);if(void 0!==_s16)return null===_s16?(xs(e,_o53)||t(276),{commonAncestor:_o53,type:"ancestor"}):null===_i27?(xs(n,_o53)||t(277),{commonAncestor:_o53,type:"descendant"}):(($r(_s16)||xs(e,_s16))&&($r(_i27)||xs(n,_i27))&&_o53.is(_s16.getParent())&&_o53.is(_i27.getParent())||t(278),{a:_s16,b:_i27,commonAncestor:_o53,type:"branch"});}return null;}function Ns(e,n){var r=e.type,o=e.key,i=e.offset,s=Ni(e.key);return"text"===r?(Dn(s)||t(266,s.getType(),o),is(s,n,i)):($r(s)||t(267,s.getType(),o),Ls(s,e.offset,n));}function Ts(e,n){var r=n.origin,o=n.direction,i="next"===o;Qi(n)?e.set(r.getKey(),n.offset,"text"):Zi(n)?Dn(r)?e.set(r.getKey(),ss(r,o),"text"):e.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(i?1:0),"element"):(ts(n)&&$r(r)||t(268),e.set(r.getKey(),i?0:r.getChildrenSize(),"element"));}function vs(t){var e=or(),n=Wn(e)?e:er();return ks(n,t),zo(n),n;}function ks(t,e){Ts(t.anchor,e.anchor),Ts(t.focus,e.focus);}function Es(t){var e=t.anchor,n=t.focus,r=Ns(e,"next"),o=Ns(n,"next"),i=ys(r,o)<=0?"next":"previous";return _s(Ps(r,i),Ps(o,i));}function bs(t){var e=t.direction,n=t.origin,r=os(n,Vi(e)).getNodeAtCaret();return r?os(r,e):cs(n.getParentOrThrow(),e);}function Os(t,e){if(e===void 0){e="root";}var n=[t];for(var _r65=ts(t)?t.getParentCaret(e):t.getSiblingCaret();null!==_r65;_r65=_r65.getParentCaret(e))n.push(bs(_r65));return n;}function Ms(t){return!!t&&t.origin.isAttached();}function As(e,n){if(n===void 0){n="removeEmptySlices";}if(e.isCollapsed())return e;var r="root",o="next";var i=n;var s=Is(e,o),l=Os(s.anchor,r),c=Os(s.focus.getFlipped(),r),a=new Set(),u=[];for(var _t180 of s.iterNodeCarets(r))if(ts(_t180))a.add(_t180.origin.getKey());else if(Zi(_t180)){var _e114=_t180.origin;$r(_e114)&&!a.has(_e114.getKey())||u.push(_e114);}for(var _t181 of u)_t181.remove();for(var _t182 of s.getTextSlices()){if(!_t182)continue;var _e115=_t182.caret.origin,_n82=_e115.getTextContentSize(),_r66=bs(os(_e115,o)),_s17=_e115.getMode();if(Math.abs(_t182.distance)===_n82&&"removeEmptySlices"===i||"token"===_s17&&0!==_t182.distance)_r66.remove();else if(0!==_t182.distance){i="removeEmptySlices";var _e116=_t182.removeTextSlice();var _n83=_t182.caret.origin;if("segmented"===_s17){var _t183=_e116.origin,_n84=wn(_t183.getTextContent()).setStyle(_t183.getStyle()).setFormat(_t183.getFormat());_r66.replaceOrInsert(_n84),_e116=is(_n84,o,_e116.offset);}_n83.is(l[0].origin)&&(l[0]=_e116),_n83.is(c[0].origin)&&(c[0]=_e116.getFlipped());}}var f,d;for(var _t184 of l)if(Ms(_t184)){f=ws(_t184);break;}for(var _t185 of c)if(Ms(_t185)){d=ws(_t185);break;}var h=function(t,e,n){if(!t||!e)return null;var r=t.getParentAtCaret(),o=e.getParentAtCaret();if(!r||!o)return null;var i=r.getParents().reverse();i.push(r);var s=o.getParents().reverse();s.push(o);var l=Math.min(i.length,s.length);var c;for(c=0;c<l&&i[c]===s[c];c++);var a=function a(t,e){var n;for(var _r67=c;_r67<t.length;_r67++){var _o54=t[_r67];if(mi(_o54))return;!n&&e(_o54)&&(n=_o54);}return n;},u=a(i,Di),f=u&&a(s,function(t){return n.has(t.getKey())&&Di(t);});return u&&f?[u,f]:null;}(f,d,a);if(h){var _t186=h[0],_e117=h[1];cs(_t186,"previous").splice(0,_e117.getChildren()),_e117.remove();}var g=[f,d].concat(l,c).find(Ms);if(g){return gs(Ps(ws(g),e.direction));}t(269,JSON.stringify(l.map(function(t){return t.origin.__key;})));}function ws(t){var e=function(t){var e=t;for(;ts(e);){var _t187=us(e);if(!ts(_t187))break;e=_t187;}return e;}(t.getLatest()),n=e.direction;if(Dn(e.origin))return Qi(e)?e:is(e.origin,n,n);var r=e.getAdjacentCaret();return Zi(r)&&Dn(r.origin)?is(r.origin,n,Vi(n)):e;}function Ds(t){return Qi(t)&&t.offset!==ss(t.origin,t.direction);}function Ps(t,e){return t.direction===e?t:t.getFlipped();}function Is(t,e){return t.direction===e?t:_s(Ps(t.focus,e),Ps(t.anchor,e));}function Ls(t,e,n){var r=cs(t,"next");for(var _t188=0;_t188<e;_t188++){var _t189=r.getAdjacentCaret();if(null===_t189)break;r=_t189;}return Ps(r,n);}function Fs(e){var n=e.origin,r=e.offset,o=e.direction;if(r===ss(n,o))return e.getSiblingCaret();if(r===ss(n,Vi(o)))return bs(e.getSiblingCaret());var _n$splitText2=n.splitText(r),i=_n$splitText2[0];return Dn(i)||t(281),Ps(os(i,"next"),o);}function Rs(t,e){return!0;}exports.$addUpdateTag=di,exports.$applyNodeReplacement=Ci,exports.$caretFromPoint=Ns,exports.$caretRangeFromSelection=Es,exports.$cloneWithProperties=Ri,exports.$comparePointCaretNext=ys,exports.$copyNode=xi,exports.$create=function(t){var e=Pi();return Nr(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t)).klass)();},exports.$createLineBreakNode=hn,exports.$createNodeSelection=nr,exports.$createParagraphNode=oo,exports.$createPoint=Kn,exports.$createRangeSelection=er,exports.$createRangeSelectionFromDom=function(t,e){return rr(null,t,e,null);},exports.$createTabNode=Ln,exports.$createTextNode=wn,exports.$extendCaretToRange=hs,exports.$findMatchingParent=Ui,exports.$getAdjacentChildCaret=us,exports.$getAdjacentNode=ii,exports.$getAdjacentSiblingOrParentSiblingCaret=function(t,e){if(e===void 0){e="root";}var n=0,r=t,o=us(r);for(;null===o;){if(n--,o=r.getParentCaret(e),!o)return null;r=o,o=us(r);}return o&&[o,n];},exports.$getCaretInDirection=Ps,exports.$getCaretRange=_s,exports.$getCaretRangeInDirection=Is,exports.$getCharacterOffsets=jn,exports.$getChildCaret=cs,exports.$getChildCaretAtIndex=Ls,exports.$getChildCaretOrSelf=as,exports.$getCollapsedCaretRange=gs,exports.$getCommonAncestor=Ss,exports.$getCommonAncestorResultBranchOrder=ms,exports.$getEditor=Pi,exports.$getNearestNodeFromDOMNode=Lo,exports.$getNearestRootOrShadowRoot=yi,exports.$getNodeByKey=Do,exports.$getNodeByKeyOrThrow=Ni,exports.$getNodeFromDOMNode=Po,exports.$getPreviousSelection=ir,exports.$getRoot=Ko,exports.$getSelection=or,exports.$getSiblingCaret=os,exports.$getState=j,exports.$getStateChange=function(t,e,n){var r=j(t,n,"direct"),o=j(e,n,"direct");return n.isEqual(r,o)?null:[r,o];},exports.$getTextContent=function(){var t=or();return null===t?"":t.getTextContent();},exports.$getTextNodeOffset=ss,exports.$getTextPointCaret=is,exports.$getTextPointCaretSlice=ls,exports.$getWritableNodeState=G,exports.$hasAncestor=gi,exports.$hasUpdateTag=function(t){return kr()._updateTags.has(t);},exports.$insertNodes=function(t){var e=or()||ir();null===e&&(e=Ko().selectEnd()),e.insertNodes(t);},exports.$isBlockElementNode=function(t){return $r(t)&&!t.isInline();},exports.$isChildCaret=ts,exports.$isDecoratorNode=Jr,exports.$isEditorState=function(t){return t instanceof _qr;},exports.$isElementNode=$r,exports.$isExtendableTextPointCaret=Ds,exports.$isInlineElementOrDecoratorNode=function(t){return $r(t)&&t.isInline()||Jr(t)&&t.isInline();},exports.$isLeafNode=function(t){return Dn(t)||gn(t)||Jr(t);},exports.$isLineBreakNode=gn,exports.$isNodeCaret=function(t){return t instanceof _Yi4;},exports.$isNodeSelection=Jn,exports.$isParagraphNode=io,exports.$isRangeSelection=Wn,exports.$isRootNode=jr,exports.$isRootOrShadowRoot=mi,exports.$isSiblingCaret=Zi,exports.$isTabNode=Fn,exports.$isTextNode=Dn,exports.$isTextPointCaret=Qi,exports.$isTextPointCaretSlice=function(t){return t instanceof _ds;},exports.$isTokenOrSegmented=No,exports.$isTokenOrTab=So,exports.$nodesOfType=function(t){var e=t.getType(),n=vr();if(n._readOnly){var _t190=Fi(n).get(e);return _t190?Array.from(_t190.values()):[];}var r=n._nodeMap,o=[];for(var _ref27 of r){var _n85=_ref27[1];_n85 instanceof t&&_n85.__type===e&&_n85.isAttached()&&o.push(_n85);}return o;},exports.$normalizeCaret=ws,exports.$normalizeSelection__EXPERIMENTAL=it,exports.$onUpdate=hi,exports.$parseSerializedNode=function(t){return wr(t,kr()._nodes);},exports.$removeTextFromCaretRange=As,exports.$rewindSiblingCaret=bs,exports.$selectAll=function(t){var e=Ko();if(Wn(t)){var _e118=t.anchor,_n86=t.focus,_r68=_e118.getNode().getTopLevelElementOrThrow().getParentOrThrow();return _e118.set(_r68.getKey(),0,"element"),_n86.set(_r68.getKey(),_r68.getChildrenSize(),"element"),it(t),t;}{var _t191=e.select(0,e.getChildrenSize());return zo(it(_t191)),_t191;}},exports.$setCompositionKey=Ao,exports.$setPointFromCaret=Ts,exports.$setSelection=zo,exports.$setSelectionFromCaretRange=vs,exports.$setState=function(t,e,n){var r;if(Nr(),"function"==typeof n){var _o55=t.getLatest(),_i28=j(_o55,e);if(r=n(_i28),e.isEqual(_i28,r))return _o55;}else r=n;var o=t.getWritable();return G(o).updateFromKnown(e,r),o;},exports.$splitAtPointCaretNext=function(t,_temp){var _ref28=_temp===void 0?{}:_temp,_ref28$$copyElementNo=_ref28.$copyElementNode,e=_ref28$$copyElementNo===void 0?xi:_ref28$$copyElementNo,_ref28$$splitTextPoin=_ref28.$splitTextPointCaretNext,n=_ref28$$splitTextPoin===void 0?Fs:_ref28$$splitTextPoin,_ref28$rootMode=_ref28.rootMode,r=_ref28$rootMode===void 0?"shadowRoot":_ref28$rootMode,_ref28$$shouldSplit=_ref28.$shouldSplit,o=_ref28$$shouldSplit===void 0?Rs:_ref28$$shouldSplit;if(Qi(t))return n(t);var i=t.getParentCaret(r);if(i){var _n87=i.origin;if(ts(t)&&(!_n87.canBeEmpty()||!o(_n87,"first")))return bs(i);var _r69=function(t){var e=[];for(var _n88=t.getAdjacentCaret();_n88;_n88=_n88.getAdjacentCaret())e.push(_n88.origin);return e;}(t);(_r69.length>0||_n87.canBeEmpty()&&o(_n87,"last"))&&i.insert(e(_n87).splice(0,0,_r69));}return i;},exports.$splitNode=function(e,n){var r=e.getChildAtIndex(n);null==r&&(r=e),mi(e)&&t(102);var _o58=function o(e){var n=e.getParentOrThrow(),i=mi(n),s=e!==r||i?xi(e):e;if(i)return $r(e)&&$r(s)||t(133),e.insertAfter(s),[e,s,s];{var _o57=_o58(n),_t192=_o57[0],_r70=_o57[1],_i29=_o57[2],_l10=e.getNextSiblings();return _i29.append.apply(_i29,[s].concat(_l10)),[_t192,_r70,s];}},_o56=_o58(r),i=_o56[0],s=_o56[1];return[i,s];},exports.$updateRangeSelectionFromCaretRange=ks,exports.ArtificialNode__DO_NOT_USE=_eo,exports.BLUR_COMMAND=we,exports.CAN_REDO_COMMAND=Oe,exports.CAN_UNDO_COMMAND=Me,exports.CLEAR_EDITOR_COMMAND=Ee,exports.CLEAR_HISTORY_COMMAND=be,exports.CLICK_COMMAND=Jt,exports.COLLABORATION_TAG=Qr,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=Vt,exports.COPY_COMMAND=Te,exports.CUT_COMMAND=ve,exports.DELETE_CHARACTER_COMMAND=Yt,exports.DELETE_LINE_COMMAND=Qt,exports.DELETE_WORD_COMMAND=Xt,exports.DRAGEND_COMMAND=Ne,exports.DRAGOVER_COMMAND=Se,exports.DRAGSTART_COMMAND=Ce,exports.DROP_COMMAND=me,exports.DecoratorNode=_Ur,exports.ElementNode=_zr4,exports.FOCUS_COMMAND=Ae,exports.FORMAT_ELEMENT_COMMAND=xe,exports.FORMAT_TEXT_COMMAND=Zt,exports.HISTORIC_TAG="historic",exports.HISTORY_MERGE_TAG=Xr,exports.HISTORY_PUSH_TAG="history-push",exports.INDENT_CONTENT_COMMAND=pe,exports.INSERT_LINE_BREAK_COMMAND=jt,exports.INSERT_PARAGRAPH_COMMAND=Ht,exports.INSERT_TAB_COMMAND=_e,exports.INTERNAL_$isBlock=Di,exports.IS_ALL_FORMATTING=2047,exports.IS_BOLD=1,exports.IS_CODE=16,exports.IS_HIGHLIGHT=y,exports.IS_ITALIC=2,exports.IS_STRIKETHROUGH=4,exports.IS_SUBSCRIPT=32,exports.IS_SUPERSCRIPT=64,exports.IS_UNDERLINE=8,exports.KEY_ARROW_DOWN_COMMAND=ce,exports.KEY_ARROW_LEFT_COMMAND=ie,exports.KEY_ARROW_RIGHT_COMMAND=re,exports.KEY_ARROW_UP_COMMAND=le,exports.KEY_BACKSPACE_COMMAND=fe,exports.KEY_DELETE_COMMAND=he,exports.KEY_DOWN_COMMAND=ne,exports.KEY_ENTER_COMMAND=ae,exports.KEY_ESCAPE_COMMAND=de,exports.KEY_MODIFIER_COMMAND=De,exports.KEY_SPACE_COMMAND=ue,exports.KEY_TAB_COMMAND=ge,exports.LineBreakNode=_fn,exports.MOVE_TO_END=oe,exports.MOVE_TO_START=se,exports.NODE_STATE_KEY="$",exports.OUTDENT_CONTENT_COMMAND=ye,exports.PASTE_COMMAND=Gt,exports.PASTE_TAG="paste",exports.ParagraphNode=_no,exports.REDO_COMMAND=ee,exports.REMOVE_TEXT_COMMAND=qt,exports.RootNode=_Yr,exports.SELECTION_CHANGE_COMMAND=Wt,exports.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND=Ut,exports.SELECT_ALL_COMMAND=ke,exports.SKIP_COLLAB_TAG="skip-collab",exports.SKIP_DOM_SELECTION_TAG=to,exports.SKIP_SCROLL_INTO_VIEW_TAG=Zr,exports.TEXT_TYPE_TO_FORMAT=b,exports.TabNode=_In,exports.TextNode=_Nn2,exports.UNDO_COMMAND=te,exports.buildImportMap=function(t){return t;},exports.configExtension=function(){for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}return t;},exports.createCommand=$t,exports.createEditor=function(t){var e=t||{},n=br(),r=e.theme||{},o=void 0===t?n:e.parentEditor||null,i=e.disableEvents||!1,s=Vr(),l=e.namespace||(null!==o?o._config.namespace:Jo()),c=e.editorState,a=[_Yr,_Nn2,_fn,_In,_no,_eo].concat(e.nodes||[]),u=e.onError,f=e.html,d=void 0===e.editable||e.editable;var h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map();for(var _t193=0;_t193<a.length;_t193++){var _e119=a[_t193],_n89=null,_r71=null;if("function"!=typeof _e119){var _t194=_e119;_e119=_t194.replace,_n89=_t194["with"],_r71=_t194.withKlass||null;}var _Wi3=Wi(_e119),_o59=_Wi3.ownNodeConfig,_i30=_e119.getType(),_s18=_e119.transform(),_l11=new Set();_o59&&_o59.$transform&&_l11.add(_o59.$transform),null!==_s18&&_l11.add(_s18),h.set(_i30,{exportDOM:f&&f["export"]?f["export"].get(_e119):void 0,klass:_e119,replace:_n89,replaceWithKlass:_r71,sharedNodeState:H(a[_t193]),transforms:_l11});}}var g=new _lo(s,o,h,{disableEvents:i,namespace:l,theme:r},u||console.error,function(t,e){var n=new Map(),r=new Set(),o=function o(t){Object.keys(t).forEach(function(e){var r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e]);});};return t.forEach(function(t){var e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);var n=e.call(t.klass);null!==n&&o(n);}),e&&o(e),n;}(h,f?f["import"]:void 0),d,t);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g;},exports.createSharedNodeState=H,exports.createState=function(t,e){return new Y(t,e);},exports.declarePeerDependency=function(t,e){return[t,e];},exports.defineExtension=function(t){return t;},exports.flipDirection=Vi,exports.getDOMOwnerDocument=fi,exports.getDOMSelection=ki,exports.getDOMSelectionFromTarget=Ei,exports.getDOMTextNode=ko,exports.getEditorPropertyFromDOMNode=Co,exports.getNearestEditorFromDOMNode=xo,exports.getRegisteredNode=ho,exports.getRegisteredNodeOrThrow=fo,exports.getStaticNodeConfig=Wi,exports.isBlockDomNode=wi,exports.isCurrentlyReadOnlyMode=Sr,exports.isDOMDocumentNode=vo,exports.isDOMNode=Oi,exports.isDOMTextNode=To,exports.isDOMUnmanaged=Bi,exports.isDocumentFragment=Mi,exports.isExactShortcutMatch=Xo,exports.isHTMLAnchorElement=function(t){return bi(t)&&"A"===t.tagName;},exports.isHTMLElement=bi,exports.isInlineDomNode=Ai,exports.isLexicalEditor=mo,exports.isModifierMatch=qo,exports.isSelectionCapturedInDecoratorInput=po,exports.isSelectionWithinEditor=yo,exports.makeStepwiseIterator=ps,exports.removeFromParent=Oo,exports.resetRandomKey=function(){uo=1;},exports.safeCast=function(t){return t;},exports.setDOMUnmanaged=function(t){t.__lexicalUnmanaged=!0;},exports.setNodeIndentFromDOM=Ki,exports.shallowMergeConfig=function(t,e){if(!e||t===e)return t;for(var _n90 in e)if(t[_n90]!==e[_n90])return babelHelpers["extends"]({},t,e);return t;};}),null);
__d("LexicalClipboard",["cr:862"],(function(a,b,c,d,e,f){e.exports=b("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(a,b,c,d,e,f){e.exports=b("cr:1497")}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<edfec760f827b1283c0cf409e2f45160>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function r(e){var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function i(t,n){if(n===void 0){n=require("Lexical").$getSelection();}return null==n&&r(166),require("Lexical").$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(t,n);}function l(e,t){if(t===void 0){t=require("Lexical").$getSelection();}return null==t&&r(166),require("Lexical").$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t));}function s(e,t,n){e.dispatchCommand(require("Lexical").SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(require("Lexical").$isRangeSelection(e)&&e.isCollapsed()){var _t=e.anchor;var _n=null;var _r=require("Lexical").$caretFromPoint(_t,"previous");if(_r)if(require("Lexical").$isTextPointCaret(_r))_n=_r.origin;else{var _e2=require("Lexical").$getCaretRange(_r,require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"next").getFlipped());for(var _t2 of _e2){if(require("Lexical").$isTextNode(_t2.origin)){_n=_t2.origin;break;}if(require("Lexical").$isElementNode(_t2.origin)&&!_t2.origin.isInline())break;}}if(_n&&require("Lexical").$isTextNode(_n)){var _t3=_n.getFormat(),_o=_n.getStyle();e.format===_t3&&e.style===_o||(e.format=_t3,e.style=_o,e.dirty=!0);}}}(n));}function a(e,n,i,l){if(l===void 0){l=[];}var s=null===n||i.isSelected(n);var c=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var d=i;if(null!==n){var _e3=require("Lexical").$cloneWithProperties(i);_e3=require("Lexical").$isTextNode(_e3)&&null!==n?require("LexicalSelection").$sliceSelectedTextNodeContent(n,_e3):_e3,d=_e3;}var u=require("Lexical").$isElementNode(d)?d.getChildren():[],f=function(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&r(58,n.name),require("Lexical").$isElementNode(e)){var _e4=t.children;Array.isArray(_e4)||r(59,n.name);}return t;}(d);if(require("Lexical").$isTextNode(d)){var _e5=d.__text;_e5.length>0?f.text=_e5:s=!1;}for(var _t4=0;_t4<u.length;_t4++){var _r2=u[_t4],_l=a(e,n,_r2,f.children);!s&&require("Lexical").$isElementNode(i)&&_l&&i.extractWithChild(_r2,n,"clone")&&(s=!0);}if(s&&!c)l.push(f);else if(Array.isArray(f.children))for(var _e6=0;_e6<f.children.length;_e6++){var _t5=f.children[_e6];l.push(_t5);}return s;}function c(e,t){var n=[],r=require("Lexical").$getRoot().getChildren();for(var _o2=0;_o2<r.length;_o2++){a(e,t,r[_o2],n);}return{namespace:e._config.namespace,nodes:n};}function d(e){var n=[];for(var _r3=0;_r3<e.length;_r3++){var _i=e[_r3],_l2=require("Lexical").$parseSerializedNode(_i);require("Lexical").$isTextNode(_l2)&&require("LexicalSelection").$addNodeStyle(_l2),n.push(_l2);}return n;}var u=null;function f(e,t,n){if(void 0===n){var _t6=require("Lexical").getDOMSelection(e._window);if(!_t6)return!1;var _r4=_t6.anchorNode,_i2=_t6.focusNode;if(null!==_r4&&null!==_i2&&!require("Lexical").isSelectionWithinEditor(e,_r4,_i2))return!1;var _l3=require("Lexical").$getSelection();if(null===_l3)return!1;n=g(_l3);}t.preventDefault();var r=t.clipboardData;return null!==r&&(x(r,n),!0);}var p=[["text/html",i],["application/x-lexical-editor",l]];function g(e){if(e===void 0){e=require("Lexical").$getSelection();}var t={"text/plain":e?e.getTextContent():""};if(e){var _n2=require("Lexical").$getEditor();for(var _ref2 of p){var _o3=_ref2[0];var _r5=_ref2[1];{var _i3=_r5(_n2,e);null!==_i3&&(t[_o3]=_i3);}}}return t;}function x(e,t){for(var _ref4 of p){var _n3=_ref4[0];void 0===t[_n3]&&e.setData(_n3,"");}for(var _n4 in t){var _o4=t[_n4];void 0!==_o4&&e.setData(_n4,_o4);}}exports.$generateJSONFromSelectedNodes=c,exports.$generateNodesFromSerializedNodes=d,exports.$getClipboardDataFromSelection=g,exports.$getHtmlContent=i,exports.$getLexicalContent=l,exports.$insertDataTransferForPlainText=function(e,t){var n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n);},exports.$insertDataTransferForRichText=function(t,n,r){var i=t.getData("application/x-lexical-editor");if(i)try{var _e7=JSON.parse(i);if(_e7.namespace===r._config.namespace&&Array.isArray(_e7.nodes)){return s(r,d(_e7.nodes),n);}}catch(e){}var l=t.getData("text/html"),a=t.getData("text/plain");if(l&&a!==l)try{var _t7=new DOMParser().parseFromString(function(e){if(window.trustedTypes&&window.trustedTypes.createPolicy){return window.trustedTypes.createPolicy("Lexical",{createHTML:function createHTML(e){return e;}}).createHTML(e);}return e;}(l),"text/html");return s(r,require("LexicalHtml").$generateNodesFromDOM(r,_t7),n);}catch(e){}var c=a||t.getData("text/uri-list");if(null!=c)if(require("Lexical").$isRangeSelection(n)){var _e8=c.split(/(\r?\n|\t)/);""===_e8[_e8.length-1]&&_e8.pop();for(var _t8=0;_t8<_e8.length;_t8++){var _n5=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_n5)){var _r6=_e8[_t8];"\n"===_r6||"\r\n"===_r6?_n5.insertParagraph():"\t"===_r6?_n5.insertNodes([require("Lexical").$createTabNode()]):_n5.insertText(_r6);}}}else n.insertRawText(c);},exports.$insertGeneratedNodes=s,exports.copyToClipboard=async function(e,t,r){if(null!==u)return!1;if(null!==t)return new Promise(function(n,o){e.update(function(){n(f(e,t,r));});});var i=e.getRootElement(),l=e._window||window,s=l.document,a=require("Lexical").getDOMSelection(l);if(null===i||null===a)return!1;var c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),i.append(c);var d=new Range();return d.setStart(c,0),d.setEnd(c,1),a.removeAllRanges(),a.addRange(d),new Promise(function(t,i){var a=e.registerCommand(require("Lexical").COPY_COMMAND,function(o){return require("LexicalUtils").objectKlassEquals(o,ClipboardEvent)&&(a(),null!==u&&(l.clearTimeout(u),u=null),t(f(e,o,r))),!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);u=l.setTimeout(function(){a(),u=null,t(!1);},50),s.execCommand("copy"),c.remove();});},exports.setLexicalClipboardDataTransfer=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n)r.append("v",_e);throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
__d("LexicalContentEditable",["cr:2483"],(function(a,b,c,d,e,f){e.exports=b("cr:2483")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<4ba13524308c1dd46ac5b44adf0aeab2>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalContentEditable.prod",["LexicalComposerContext","LexicalText","LexicalUtils","react"],(function $module_LexicalContentEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["editor","ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaErrorMessage","ariaExpanded","ariaInvalid","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"],_excluded2=["placeholder"];var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react")),a=_require_closure_react;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function o(_ref,q){var e=_ref.editor,i=_ref.ariaActiveDescendant,r=_ref.ariaAutoComplete,o=_ref.ariaControls,l=_ref.ariaDescribedBy,s=_ref.ariaErrorMessage,d=_ref.ariaExpanded,u=_ref.ariaInvalid,c=_ref.ariaLabel,f=_ref.ariaLabelledBy,b=_ref.ariaMultiline,m=_ref.ariaOwns,x=_ref.ariaRequired,E=_ref.autoCapitalize,p=_ref.className,C=_ref.id,_ref$role=_ref.role,v=_ref$role===void 0?"textbox":_ref$role,_ref$spellCheck=_ref.spellCheck,w=_ref$spellCheck===void 0?!0:_ref$spellCheck,y=_ref.style,L=_ref.tabIndex,g=_ref["data-testid"],h=babelHelpers.objectWithoutPropertiesLoose(_ref,_excluded);var _t$useState=t.useState(e.isEditable()),R=_t$useState[0],j=_t$useState[1],S=t.useCallback(function(t){t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null);},[e]),D=t.useMemo(function(){return function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(t){for(var _a of e)"function"==typeof _a?_a(t):null!=_a&&(_a.current=t);};}(q,S);},[S,q]);return n(function(){return j(e.isEditable()),e.registerEditableListener(function(e){j(e);});},[e]),a.jsx("div",babelHelpers["extends"]({"aria-activedescendant":R?i:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?o:void 0,"aria-describedby":l},null!=s?{"aria-errormessage":s}:{},{"aria-expanded":R&&"combobox"===v?!!d:void 0},null!=u?{"aria-invalid":u}:{},{"aria-label":c,"aria-labelledby":f,"aria-multiline":b,"aria-owns":R?m:void 0,"aria-readonly":!R||void 0,"aria-required":x,autoCapitalize:E,className:p,contentEditable:R,"data-testid":g,id:C,ref:D,role:v,spellCheck:w,style:y,tabIndex:L},h));}var l=t.forwardRef(o);function s(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}var d=t.forwardRef(u);function u(t,i){var r=t.placeholder,n=babelHelpers.objectWithoutPropertiesLoose(t,_excluded2),_e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer[0];return a.jsxs(a.Fragment,{children:[a.jsx(l,babelHelpers["extends"]({editor:o},n,{ref:i})),null!=r&&a.jsx(c,{editor:o,content:r})]});}function c(_ref2){var e=_ref2.content,i=_ref2.editor;var o=function(e){var _t$useState3=t.useState(function(){return s(e);}),a=_t$useState3[0],i=_t$useState3[1];return n(function(){function t(){var t=s(e);i(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),a;}(i),_t$useState2=t.useState(i.isEditable()),l=_t$useState2[0],d=_t$useState2[1];if(t.useLayoutEffect(function(){return d(i.isEditable()),i.registerEditableListener(function(e){d(e);});},[i]),!o)return null;var u=null;return"function"==typeof e?u=e(l):null!==e&&(u=e),null===u?null:a.jsx("div",{"aria-hidden":!0,children:u});}exports.ContentEditable=d,exports.ContentEditableElement=l;}),null);
__d("LexicalDragon",["cr:2903"],(function(a,b,c,d,e,f){e.exports=b("cr:2903")}),null);
__d("LexicalExtension",["cr:13727"],(function(a,b,c,d,e,f){e.exports=b("cr:13727")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<f2466b099757848c03fec2201199ae0e>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalDragon.prod",["Lexical","LexicalExtension"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=window.location.origin,o=function o(_o){if(_o.origin!==n)return;var i=e.getRootElement();if(document.activeElement!==i)return;var s=_o.data;if("string"==typeof s){var _n;try{_n=JSON.parse(s);}catch(e){return;}if(_n&&"nuanria_messaging"===_n.protocol&&"request"===_n.type){var _i=_n.payload;if(_i&&"makeChanges"===_i.functionId){var _n2=_i.args;if(_n2){var _i2=_n2[0],_s=_n2[1],a=_n2[2],r=_n2[3],d=_n2[4];e.update(function(){var e=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(e)){var _n3=e.anchor;var c=_n3.getNode(),g=0,u=0;if(require("Lexical").$isTextNode(c)&&_i2>=0&&_s>=0&&(g=_i2,u=_i2+_s,e.setTextNodeRange(c,g,c,u)),g===u&&""===a||(e.insertRawText(a),c=_n3.getNode()),require("Lexical").$isTextNode(c)){g=r,u=r+d;var _t=c.getTextContentSize();g=g>_t?_t:g,u=u>_t?_t:u,e.setTextNodeRange(c,g,c,u);}_o.stopImmediatePropagation();}});}}}}};return window.addEventListener("message",o,!0),function(){window.removeEventListener("message",o,!0);};}var o=require("Lexical").defineExtension({build:function build(t,n,o){return require("LexicalExtension").namedSignals(n);},config:require("Lexical").safeCast({disabled:"undefined"==typeof window}),name:"LexicalDragon",register:function register(t,o,i){return require("LexicalExtension").effect(function(){return i.getOutput().disabled.value?void 0:n(t);});}});exports.DragonExtension=o,exports.registerDragonSupport=n;}),null);
__d("LexicalErrorBoundary",["cr:2260"],(function(a,b,c,d,e,f){e.exports=b("cr:2260")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d590ff2ad017346a92057f379cd1818d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react")),e=_require_closure_react;var t=r.createContext(null),o={didCatch:!1,error:null};var _s4=function(_r$Component){function s(r){var _this;_this=_r$Component.call(this,r)||this,_this.resetErrorBoundary=_this.resetErrorBoundary.bind(babelHelpers.assertThisInitialized(_this)),_this.state=o;return _this;}babelHelpers.inheritsLoose(s,_r$Component);s.getDerivedStateFromError=function getDerivedStateFromError(r){return{didCatch:!0,error:r};};var _proto=s.prototype;_proto.resetErrorBoundary=function resetErrorBoundary(){var r=this.state.error;if(null!==r){for(var e,t,_s=arguments.length,n=new Array(_s),i=0;i<_s;i++)n[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:n,reason:"imperative-api"}),this.setState(o);}};_proto.componentDidCatch=function componentDidCatch(r,e){var t,o;null===(t=(o=this.props).onError)||void 0===t||t.call(o,r,e);};_proto.componentDidUpdate=function componentDidUpdate(r,e){var t=this.state.didCatch,_s2=this.props.resetKeys;var n,i;t&&null!==e.error&&function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.length!==e.length||r.some(function(r,t){return!Object.is(r,e[t]);});}(r.resetKeys,_s2)&&(null===(n=(i=this.props).onReset)||void 0===n||n.call(i,{next:_s2,prev:r.resetKeys,reason:"keys"}),this.setState(o));};_proto.render=function render(){var _this$props=this.props,e=_this$props.children,o=_this$props.fallbackRender,_s3=_this$props.FallbackComponent,n=_this$props.fallback,_this$state=this.state,i=_this$state.didCatch,a=_this$state.error;var l=e;if(i){var _e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof o)l=o(_e);else if(_s3)l=r.createElement(_s3,_e);else{if(void 0===n)throw a;l=n;}}return r.createElement(t.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},l);};return s;}(r.Component);exports.LexicalErrorBoundary=function(_ref){var r=_ref.children,t=_ref.onError;return e.jsx(_s4,{fallback:e.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:r});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<1364882a0342e50e87bdf4c23dda9573>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalExtension.prod",["Lexical","LexicalUtils"],(function $module_LexicalExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["$initialEditorState","onError"];var _require_Lexical;var n=Symbol["for"]("preact-signals");function i(){if(a>1)return void a--;var e,t=!1;for(;void 0!==r;){var _n=r;for(r=void 0,c++;void 0!==_n;){var _i=_n.o;if(_n.o=void 0,_n.f&=-3,!(8&_n.f)&&g(_n))try{_n.c();}catch(n){t||(e=n,t=!0);}_n=_i;}}if(c=0,a--,t)throw e;}function o(e){if(a>0)return e();a++;try{return e();}finally{i();}}var s,r;function d(e){var t=s;s=void 0;try{return e();}finally{s=t;}}var a=0,c=0,l=0;function u(e){if(void 0===s)return;var t=e.n;return void 0===t||t.t!==s?(t={i:0,S:e,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:t},void 0!==s.s&&(s.s.n=t),s.s=t,e.n=t,32&s.f&&e.S(t),t):-1===t.i?(t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=s.s,t.n=void 0,s.s.n=t,s.s=t),t):void 0;}function f(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function h(e,t){return new f(e,t);}function g(e){for(var _t=e.s;void 0!==_t;_t=_t.n)if(_t.S.i!==_t.i||!_t.S.h()||_t.S.i!==_t.i)return!0;return!1;}function p(e){for(var _t2=e.s;void 0!==_t2;_t2=_t2.n){var _n2=_t2.S.n;if(void 0!==_n2&&(_t2.r=_n2),_t2.S.n=_t2,_t2.i=-1,void 0===_t2.n){e.s=_t2;break;}}}function x(e){var t,n=e.s;for(;void 0!==n;){var _e=n.p;-1===n.i?(n.S.U(n),void 0!==_e&&(_e.n=n.n),void 0!==n.n&&(n.n.p=_e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=_e;}e.s=t;}function m(e,t){f.call(this,void 0),this.x=e,this.s=void 0,this.g=l-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function E(e,t){return new m(e,t);}function v(e){var t=e.u;if(e.u=void 0,"function"==typeof t){a++;var _n3=s;s=void 0;try{t();}catch(t){throw e.f&=-2,e.f|=8,y(e),t;}finally{s=_n3,i();}}}function y(e){for(var _t3=e.s;void 0!==_t3;_t3=_t3.n)_t3.S.U(_t3);e.x=void 0,e.s=void 0,v(e);}function S(e){if(s!==this)throw new Error("Out-of-order effect");x(this),s=e,this.f&=-2,8&this.f&&y(this),i();}function N(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name;}function b(e,t){var n=new N(e,t);try{n.c();}catch(e){throw n.d(),e;}var i=n.d.bind(n);return i[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=i,i;}function R(e,t){if(t===void 0){t={};}var n={};for(var _i2 in e){var _o=t[_i2],_s=h(void 0===_o?e[_i2]:_o);n[_i2]=_s;}return n;}f.prototype.brand=n,f.prototype.h=function(){return!0;},f.prototype.S=function(e){var _this=this;var t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:d(function(){var e;null==(e=_this.W)||e.call(_this);}));},f.prototype.U=function(e){var _this2=this;if(void 0!==this.t){var _t4=e.e,_n4=e.x;void 0!==_t4&&(_t4.x=_n4,e.e=void 0),void 0!==_n4&&(_n4.e=_t4,e.x=void 0),e===this.t&&(this.t=_n4,void 0===_n4&&d(function(){var e;null==(e=_this2.Z)||e.call(_this2);}));}},f.prototype.subscribe=function(e){var _this3=this;return b(function(){var t=_this3.value,n=s;s=void 0;try{e(t);}finally{s=n;}},{name:"sub"});},f.prototype.valueOf=function(){return this.value;},f.prototype.toString=function(){return this.value+"";},f.prototype.toJSON=function(){return this.value;},f.prototype.peek=function(){var e=s;s=void 0;try{return this.value;}finally{s=e;}},Object.defineProperty(f.prototype,"value",{get:function get(){var e=u(this);return void 0!==e&&(e.i=this.i),this.v;},set:function set(e){if(e!==this.v){if(c>100)throw new Error("Cycle detected");this.v=e,this.i++,l++,a++;try{for(var _e2=this.t;void 0!==_e2;_e2=_e2.x)_e2.t.N();}finally{i();}}}}),m.prototype=new f(),m.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===l)return!0;if(this.g=l,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var e=s;try{p(this),s=this;var _e3=this.x();(16&this.f||this.v!==_e3||0===this.i)&&(this.v=_e3,this.f&=-17,this.i++);}catch(e){this.v=e,this.f|=16,this.i++;}return s=e,x(this),this.f&=-2,!0;},m.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var _e4=this.s;void 0!==_e4;_e4=_e4.n)_e4.S.S(_e4);}f.prototype.S.call(this,e);},m.prototype.U=function(e){if(void 0!==this.t&&(f.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var _e5=this.s;void 0!==_e5;_e5=_e5.n)_e5.S.U(_e5);}},m.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var _e6=this.t;void 0!==_e6;_e6=_e6.x)_e6.t.N();}},Object.defineProperty(m.prototype,"value",{get:function get(){if(1&this.f)throw new Error("Cycle detected");var e=u(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v;}}),N.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var _e7=this.x();"function"==typeof _e7&&(this.u=_e7);}finally{e();}},N.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,v(this),p(this),a++;var e=s;return s=this,S.bind(this,e);},N.prototype.N=function(){2&this.f||(this.f|=2,this.o=r,r=this);},N.prototype.d=function(){this.f|=8,1&this.f||y(this);},N.prototype.dispose=function(){this.d();};var w=(_require_Lexical=require("Lexical")).defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register:function register(e,t,n){var i=n.getOutput();return b(function(){return i.disabled.value?void 0:e.registerRootListener(function(t){e.focus(function(){var e=document.activeElement;null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0});},{defaultSelection:i.defaultSelection.peek()});});});}});function $(){var t=require("Lexical").$getRoot(),n=require("Lexical").$getSelection(),i=require("Lexical").$createParagraphNode();t.clear(),t.append(i),null!==n&&i.select(),require("Lexical").$isRangeSelection(n)&&(n.format=0);}function O(t,n){if(n===void 0){n=$;}return t.registerCommand(require("Lexical").CLEAR_EDITOR_COMMAND,function(e){return t.update(n),!0;},require("Lexical").COMMAND_PRIORITY_EDITOR);}var C=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({$onClear:$}),name:"@lexical/extension/ClearEditor",register:function register(e,t,n){var _n$getOutput=n.getOutput(),i=_n$getOutput.$onClear;return b(function(){return O(e,i.value);});}});function M(e,t){var n;return h(e(),{unwatched:function unwatched(){n&&(n(),n=void 0);},watched:function watched(){this.value=e(),n=t(this);}});}var D=_require_Lexical.defineExtension({build:function build(e){return M(function(){return e.getEditorState();},function(t){return e.registerUpdateListener(function(e){t.value=e.editorState;});});},name:"@lexical/extension/EditorState"});function _(e){throw new Error(e);}function I(e,t){if(e&&t&&!Array.isArray(t)&&"object"==typeof e&&"object"==typeof t){var _n5=e,_i3=t;for(var _e8 in _i3)_n5[_e8]=I(_n5[_e8],_i3[_e8]);return e;}return t;}var T=0,A=1,L=2,B=3,P=4,j=5,k=6,K=7;function z(e){return e.id===T;}function F(e){return e.id===L;}function U(e){return function(e){return e.id===A;}(e)||_("LexicalBuilder: Can not apply a permanent mark from state id "+String(e.id)+" (expected "+String(A)+" temporary)"),Object.assign(e,{id:L});}var H=new Set();var _Y=function(){function Y(e,t){this.builder=e,this.extension=t,this.configs=new Set(),this.state={id:T};}var _proto=Y.prototype;_proto.mergeConfigs=function mergeConfigs(){var t=this.extension.config||{};var n=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):require("Lexical").shallowMergeConfig;for(var _e9 of this.configs)t=n(t,_e9);return t;};_proto.init=function init(e){var t=this.state;F(t)||_("ExtensionRep: Can not configure from state id "+String(t.id));var n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i=babelHelpers["extends"]({},n,{getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)}),o=function(e,t,n){return Object.assign(e,{config:t,id:B,registerState:n});}(t,this.mergeConfigs(),n);var s;this.state=o,this.extension.init&&(s=this.extension.init(e,o.config,n)),this.state=function(e,t,n){return Object.assign(e,{id:P,initResult:t,registerState:n});}(o,s,i);};_proto.build=function build(e){var t=this.state;var n;t.id!==P&&_("ExtensionRep: register called in state id "+String(t.id)+" (expected "+String(j)+" initialized)"),this.extension.build&&(n=this.extension.build(e,t.config,t.registerState));var i=babelHelpers["extends"]({},t.registerState,{getOutput:function getOutput(){return n;},getSignal:this.getSignal.bind(this)});this.state=function(e,t,n){return Object.assign(e,{id:j,output:t,registerState:n});}(t,n,i);};_proto.register=function register(e,t){var _this4=this;this._signal=t;var n=this.state;n.id!==j&&_("ExtensionRep: register called in state id "+String(n.id)+" (expected "+String(j)+" built)");var i=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=function(e){return Object.assign(e,{id:k});}(n),function(){var e=_this4.state;e.id!==K&&_("ExtensionRep: rollbackToBuiltState called in state id "+String(n.id)+" (expected "+String(K)+" afterRegistration)"),_this4.state=function(e){return Object.assign(e,{id:j});}(e),i&&i();};};_proto.afterRegistration=function afterRegistration(e){var t=this.state;var n;return t.id!==k&&_("ExtensionRep: afterRegistration called in state id "+String(t.id)+" (expected "+String(k)+" registered)"),this.extension.afterRegistration&&(n=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=function(e){return Object.assign(e,{id:K});}(t),n;};_proto.getSignal=function getSignal(){return void 0===this._signal&&_("ExtensionRep.getSignal() called before register"),this._signal;};_proto.getInitResult=function getInitResult(){void 0===this.extension.init&&_("ExtensionRep: getInitResult() called for Extension "+this.extension.name+" that does not define init");var e=this.state;return function(e){return e.id>=P;}(e)||_("ExtensionRep: getInitResult() called for ExtensionRep in state id "+String(e.id)+" < "+String(P)+" (initialized)"),e.initResult;};_proto.getInitPeer=function getInitPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0;};_proto.getExtensionInitDependency=function getExtensionInitDependency(){var e=this.state;return function(e){return e.id>=B;}(e)||_("ExtensionRep: getExtensionInitDependency called in state id "+String(e.id)+" (expected >= "+String(B)+" configured)"),{config:e.config};};_proto.getPeer=function getPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0;};_proto.getInitDependency=function getInitDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionInitDependency();};_proto.getDependency=function getDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionDependency();};_proto.getState=function getState(){var e=this.state;return function(e){return e.id>=K;}(e)||_("ExtensionRep getState called in state id "+String(e.id)+" (expected "+String(K)+" afterRegistration)"),e;};_proto.getDirectDependentNames=function getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||H;};_proto.getPeerNameSet=function getPeerNameSet(){var e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(function(_ref){var e=_ref[0];return e;})),this._peerNameSet=e),e;};_proto.getExtensionDependency=function getExtensionDependency(){if(!this._dependency){var _e0=this.state;(function(e){return e.id>=j;})(_e0)||_("Extension "+this.extension.name+" used as a dependency before build"),this._dependency={config:_e0.config,init:_e0.initResult,output:_e0.output};}return this._dependency;};return Y;}();var G={tag:_require_Lexical.HISTORY_MERGE_TAG};function W(){var t=require("Lexical").$getRoot();t.isEmpty()&&t.append(require("Lexical").$createParagraphNode());}var Z=_require_Lexical.defineExtension({config:_require_Lexical.safeCast({setOptions:G,updateOptions:G}),init:function init(_ref2){var _ref2$$initialEditorS=_ref2.$initialEditorState,e=_ref2$$initialEditorS===void 0?W:_ref2$$initialEditorS;return{$initialEditorState:e,initialized:!1};},afterRegistration:function afterRegistration(t,_ref3,o){var n=_ref3.updateOptions,i=_ref3.setOptions;var s=o.getInitResult();if(!s.initialized){s.initialized=!0;var _o2=s.$initialEditorState;if(require("Lexical").$isEditorState(_o2))t.setEditorState(_o2,i);else if("function"==typeof _o2)t.update(function(){_o2(t);},n);else if(_o2&&("string"==typeof _o2||"object"==typeof _o2)){var _e1=t.parseEditorState(_o2);t.setEditorState(_e1,i);}}return function(){};},name:"@lexical/extension/InitialState",nodes:[_require_Lexical.RootNode,_require_Lexical.TextNode,_require_Lexical.LineBreakNode,_require_Lexical.TabNode,_require_Lexical.ParagraphNode]}),V=Symbol["for"]("@lexical/extension/LexicalBuilder");function q(){}function J(e){throw e;}function X(e){return Array.isArray(e)?e:[e];}var Q="0.35.0+prod.cjs";var _ee=function(){function ee(e){this.outgoingConfigEdges=new Map(),this.incomingEdges=new Map(),this.extensionNameMap=new Map(),this.conflicts=new Map(),this.PACKAGE_VERSION=Q,this.roots=e;for(var _t5 of e)this.addExtension(_t5);}ee.fromExtensions=function fromExtensions(e){var t=[X(Z)];for(var _n6 of e)t.push(X(_n6));return new ee(t);};ee.maybeFromEditor=function maybeFromEditor(e){var t=e[V];return t&&(t.PACKAGE_VERSION!==Q&&_("LexicalBuilder.fromEditor: The given editor was created with LexicalBuilder "+t.PACKAGE_VERSION+" but this version is "+Q+". A project should have exactly one copy of LexicalBuilder"),t instanceof ee||_("LexicalBuilder.fromEditor: There are multiple copies of the same version of LexicalBuilder in your project, and this editor was created with another one. Your project, or one of its dependencies, has its package.json and/or bundler configured incorrectly.")),t;};ee.fromEditor=function fromEditor(e){var t=ee.maybeFromEditor(e);return void 0===t&&_("LexicalBuilder.fromEditor: The given editor was not created with LexicalBuilder"),t;};var _proto2=ee.prototype;_proto2.constructEditor=function constructEditor(){var _Object$assign;var _this$buildCreateEdit=this.buildCreateEditorArgs(),t=_this$buildCreateEdit.$initialEditorState,n=_this$buildCreateEdit.onError,i=babelHelpers.objectWithoutPropertiesLoose(_this$buildCreateEdit,_excluded),o=Object.assign(require("Lexical").createEditor(babelHelpers["extends"]({},i,n?{onError:function onError(e){n(e,o);}}:{})),(_Object$assign={},_Object$assign[V]=this,_Object$assign));for(var _e10 of this.sortedExtensionReps())_e10.build(o);return o;};_proto2.buildEditor=function buildEditor(){var _Object$assign2;var e=q;function n(){try{e();}finally{e=q;}}var i=Object.assign(this.constructEditor(),(_Object$assign2={dispose:n},_Object$assign2[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=n,_Object$assign2));return e=require("LexicalUtils").mergeRegister(this.registerEditor(i),function(){return i.setRootElement(null);}),i;};_proto2.hasExtensionByName=function hasExtensionByName(e){return this.extensionNameMap.has(e);};_proto2.getExtensionRep=function getExtensionRep(e){var t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&_("LexicalBuilder: A registered extension with name "+e.name+" exists but does not match the given extension"),t;};_proto2.addEdge=function addEdge(e,t,n){var i=this.outgoingConfigEdges.get(e);i?i.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));var o=this.incomingEdges.get(t);o?o.add(e):this.incomingEdges.set(t,new Set([e]));};_proto2.addExtension=function addExtension(e){void 0!==this._sortedExtensionReps&&_("LexicalBuilder: addExtension called after finalization");var t=X(e),n=t[0];"string"!=typeof n.name&&_("LexicalBuilder: extension name must be string, not "+typeof n.name);var i=this.extensionNameMap.get(n.name);if(void 0!==i&&i.extension!==n&&_("LexicalBuilder: Multiple extensions registered with name "+n.name+", names must be unique"),!i){i=new _Y(this,n),this.extensionNameMap.set(n.name,i);var _e11=this.conflicts.get(n.name);"string"==typeof _e11&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e11);for(var _e12 of n.conflictsWith||[])this.extensionNameMap.has(_e12)&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e12),this.conflicts.set(_e12,n.name);for(var _e13 of n.dependencies||[]){var _t6=X(_e13);this.addEdge(n.name,_t6[0].name,_t6.slice(1)),this.addExtension(_t6);}for(var _ref5 of n.peerDependencies||[]){var _e14=_ref5[0];var _t7=_ref5[1];this.addEdge(n.name,_e14,_t7?[_t7]:[]);}}};_proto2.sortedExtensionReps=function sortedExtensionReps(){var _this5=this;if(this._sortedExtensionReps)return this._sortedExtensionReps;var e=[],_t8=function t(n,i){var o=n.state;if(F(o))return;var s=n.extension.name;var r;z(o)||_("LexicalBuilder: Circular dependency detected for Extension "+s+" from "+(i||"[unknown]")),z(r=o)||_("LexicalBuilder: Can not apply a temporary mark from state id "+String(r.id)+" (expected "+String(T)+" unmarked)"),o=Object.assign(r,{id:A}),n.state=o;var d=_this5.outgoingConfigEdges.get(s);if(d)for(var _e15 of d.keys()){var _n7=_this5.extensionNameMap.get(_e15);_n7&&_t8(_n7,s);}o=U(o),n.state=o,e.push(n);};for(var _e16 of this.extensionNameMap.values())z(_e16.state)&&_t8(_e16);for(var _t9 of e)for(var _ref7 of this.outgoingConfigEdges.get(_t9.extension.name)||[]){var _e17=_ref7[0];var _n8=_ref7[1];if(_n8.length>0){var _t0=this.extensionNameMap.get(_e17);if(_t0)for(var _e18 of _n8)_t0.configs.add(_e18);}}for(var _ref9 of this.roots){var _e19=_ref9[0];var _t1=_ref9.slice(1);if(_t1.length>0){var _n9=this.extensionNameMap.get(_e19.name);void 0===_n9&&_("LexicalBuilder: Expecting existing ExtensionRep for "+_e19.name);for(var _e20 of _t1)_n9.configs.add(_e20);}}return this._sortedExtensionReps=e,this._sortedExtensionReps;};_proto2.registerEditor=function registerEditor(e){var n=this.sortedExtensionReps(),i=new AbortController(),o=[function(){return i.abort();}],s=i.signal;for(var _t10 of n){var _n0=_t10.register(e,s);_n0&&o.push(_n0);}for(var _t11 of n){var _n1=_t11.afterRegistration(e);_n1&&o.push(_n1);}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),o);};_proto2.buildCreateEditorArgs=function buildCreateEditorArgs(){var e={},t=new Set(),n=new Map(),i=new Map(),o={},s={},r=this.sortedExtensionReps();for(var _d of r){var _r=_d.extension;if(void 0!==_r.onError&&(e.onError=_r.onError),void 0!==_r.disableEvents&&(e.disableEvents=_r.disableEvents),void 0!==_r.parentEditor&&(e.parentEditor=_r.parentEditor),void 0!==_r.editable&&(e.editable=_r.editable),void 0!==_r.namespace&&(e.namespace=_r.namespace),void 0!==_r.$initialEditorState&&(e.$initialEditorState=_r.$initialEditorState),_r.nodes)for(var _e21 of _r.nodes){if("function"!=typeof _e21){var _t12=n.get(_e21.replace);_t12&&_("LexicalBuilder: Extension "+_r.name+" can not register replacement for node "+_e21.replace.name+" because "+_t12.extension.name+" already did"),n.set(_e21.replace,_d);}t.add(_e21);}if(_r.html){if(_r.html["export"])for(var _ref1 of _r.html["export"].entries()){var _e22=_ref1[0];var _t13=_ref1[1];i.set(_e22,_t13);}_r.html["import"]&&Object.assign(o,_r.html["import"]);}_r.theme&&I(s,_r.theme);}Object.keys(s).length>0&&(e.theme=s),t.size&&(e.nodes=[].concat(t));var d=Object.keys(o).length>0,a=i.size>0;(d||a)&&(e.html={},d&&(e.html["import"]=o),a&&(e.html["export"]=i));for(var _t14 of r)_t14.init(e);return e.onError||(e.onError=J),e;};return ee;}();function te(e,t){var n=_ee.fromEditor(e).extensionNameMap.get(t);return n?n.getExtensionDependency():void 0;}var ne=new Set(),ie=_require_Lexical.defineExtension({build:function build(t,n,i){var o=i.getDependency(D).output,s=h({watchedNodeKeys:new Map()}),r=M(function(){},function(){return b(function(){var t=r.peek(),n=s.value.watchedNodeKeys;var i,d=!1;o.value.read(function(){if(require("Lexical").$getSelection())for(var _ref11 of n.entries()){var _o3=_ref11[0];var _s2=_ref11[1];{if(0===_s2.size){n["delete"](_o3);continue;}var _r2=require("Lexical").$getNodeByKey(_o3),_a=_r2&&_r2.isSelected()||!1;d=d||_a!==(!!t&&t.has(_o3)),_a&&(i=i||new Set(),i.add(_o3));}}}),!d&&i&&t&&i.size===t.size||(r.value=i);});});return{watchNodeKey:function watchNodeKey(e){var t=E(function(){return(r.value||ne).has(e);}),_s$peek=s.peek(),n=_s$peek.watchedNodeKeys;var i=n.get(e);var o=void 0!==i;return i=i||new Set(),i.add(t),o||(n.set(e,i),s.value={watchedNodeKeys:n}),t;}};},dependencies:[D],name:"@lexical/extension/NodeSelection"}),oe=_require_Lexical.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");var _se=function(_e$DecoratorNode){function se(){return _e$DecoratorNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(se,_e$DecoratorNode);se.getType=function getType(){return"horizontalrule";};se.clone=function clone(e){return new se(e.__key);};se.importJSON=function importJSON(e){return de().updateFromJSON(e);};se.importDOM=function importDOM(){return{hr:function hr(){return{conversion:re,priority:0};}};};var _proto3=se.prototype;_proto3.exportDOM=function exportDOM(){return{element:document.createElement("hr")};};_proto3.createDOM=function createDOM(e){var n=document.createElement("hr");return require("LexicalUtils").addClassNamesToElement(n,e.theme.hr),n;};_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.isInline=function isInline(){return!1;};_proto3.updateDOM=function updateDOM(){return!1;};return se;}(_require_Lexical.DecoratorNode);function re(){return{node:de()};}function de(){return require("Lexical").$create(_se);}function ae(e){return e instanceof _se;}var ce=_require_Lexical.defineExtension({dependencies:[D,ie],name:"@lexical/extension/HorizontalRule",nodes:[_se],register:function register(n,i,s){var _n$_config$theme$hrSe;var r=s.getDependency(ie).output.watchNodeKey,d=h({nodeSelections:new Map()}),a=(_n$_config$theme$hrSe=n._config.theme.hrSelected)!=null?_n$_config$theme$hrSe:"selected";return require("LexicalUtils").mergeRegister(n.registerCommand(require("Lexical").CLICK_COMMAND,function(t){if(require("Lexical").isDOMNode(t.target)){var _n10=require("Lexical").$getNodeFromDOMNode(t.target);if(ae(_n10))return function(t,n){if(n===void 0){n=!1;}var i=require("Lexical").$getSelection(),o=t.isSelected(),s=t.getKey();var r;n&&require("Lexical").$isNodeSelection(i)?r=i:(r=require("Lexical").$createNodeSelection(),require("Lexical").$setSelection(r)),o?r["delete"](s):r.add(s);}(_n10,t.shiftKey),!0;}return!1;},require("Lexical").COMMAND_PRIORITY_LOW),n.registerMutationListener(_se,function(e,t){o(function(){var t=!1;var _d$peek=d.peek(),i=_d$peek.nodeSelections;for(var _ref13 of e.entries()){var _o4=_ref13[0];var _s3=_ref13[1];if("destroyed"===_s3)i["delete"](_o4),t=!0;else{var _e23=i.get(_o4),_s4=n.getElementByKey(_o4);_e23?_e23.domNode.value=_s4:(t=!0,i.set(_o4,{domNode:h(_s4),selectedSignal:r(_o4)}));}}t&&(d.value={nodeSelections:i});});}),b(function(){var e=[];var _loop=function _loop(){var n=_ref15.domNode;var i=_ref15.selectedSignal;e.push(b(function(){var e=n.value;if(e){i.value?require("LexicalUtils").addClassNamesToElement(e,a):require("LexicalUtils").removeClassNamesFromElement(e,a);}}));};for(var _ref15 of d.value.nodeSelections.values()){_loop();}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),e);}));}});function le(n,i){var _require_Lexical;return require("LexicalUtils").mergeRegister(n.registerCommand((_require_Lexical=require("Lexical")).KEY_TAB_COMMAND,function(i){var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;i.preventDefault();var s=function(n){var i=n.getNodes();if(require("LexicalUtils").$filter(i,function(t){return require("Lexical").$isBlockElementNode(t)&&t.canIndent()?t:null;}).length>0)return!0;var o=n.anchor,s=n.focus,r=s.isBefore(o)?s:o,d=r.getNode(),a=require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(d);if(a.canIndent()){var _t15=a.getKey();var _n11=require("Lexical").$createRangeSelection();if(_n11.anchor.set(_t15,0,"element"),_n11.focus.set(_t15,0,"element"),_n11=require("Lexical").$normalizeSelection__EXPERIMENTAL(_n11),_n11.anchor.is(r))return!0;}return!1;}(o)?i.shiftKey?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INDENT_CONTENT_COMMAND:require("Lexical").INSERT_TAB_COMMAND;return n.dispatchCommand(s,void 0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.INDENT_CONTENT_COMMAND,function(){var n="number"==typeof i?i:i?i.peek():null;if(null==n)return!1;var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;var s=o.getNodes().map(function(e){return require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(e).getIndent();});return Math.max.apply(Math,s)+1>=n;},_require_Lexical.COMMAND_PRIORITY_CRITICAL));}var ue=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register:function register(e,t,n){var _n$getOutput2=n.getOutput(),i=_n$getOutput2.disabled,o=_n$getOutput2.maxIndent;return b(function(){if(!i.value)return le(e,o);});}});exports.configExtension=_require_Lexical.configExtension,exports.declarePeerDependency=_require_Lexical.declarePeerDependency,exports.defineExtension=_require_Lexical.defineExtension,exports.safeCast=_require_Lexical.safeCast,exports.shallowMergeConfig=_require_Lexical.shallowMergeConfig,exports.$createHorizontalRuleNode=de,exports.$isHorizontalRuleNode=ae,exports.AutoFocusExtension=w,exports.ClearEditorExtension=C,exports.EditorStateExtension=D,exports.HorizontalRuleExtension=ce,exports.HorizontalRuleNode=_se,exports.INSERT_HORIZONTAL_RULE_COMMAND=oe,exports.InitialStateExtension=Z,exports.LexicalBuilder=_ee,exports.NodeSelectionExtension=ie,exports.TabIndentationExtension=ue,exports.batch=o,exports.buildEditorFromExtensions=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return _ee.fromExtensions(e).buildEditor();},exports.computed=E,exports.effect=b,exports.getExtensionDependencyFromEditor=function(e,t){var n=_ee.fromEditor(e).getExtensionRep(t);return void 0===n&&_("getExtensionDependencyFromEditor: Extension "+t.name+" was not built when creating this editor"),n.getExtensionDependency();},exports.getKnownTypesAndNodes=function(e){var t=new Set(),n=new Set();for(var _i4 of(_e$nodes=e.nodes)!=null?_e$nodes:[]){var _e$nodes;var _e24="function"==typeof _i4?_i4:_i4.replace;t.add(_e24.getType()),n.add(_e24);}return{nodes:n,types:t};},exports.getPeerDependencyFromEditor=te,exports.getPeerDependencyFromEditorOrThrow=function(e,t){var n=te(e,t);return void 0===n&&_("getPeerDependencyFromEditorOrThrow: Editor was not built with Extension "+t),n;},exports.namedSignals=R,exports.registerClearEditor=O,exports.registerTabIndentation=le,exports.signal=h,exports.untracked=d,exports.watchedSignal=M;}),null);
__d("LexicalHistory",["cr:2904"],(function(a,b,c,d,e,f){e.exports=b("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<3e6f1172f8335546252f6af2b7254906>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistory.prod",["Lexical","LexicalExtension","LexicalUtils"],(function $module_LexicalHistory_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_Lexical;function r(e,t,r,o,i){if(null===e||0===r.size&&0===o.size&&!i)return 0;var s=t._selection,a=e._selection;if(i)return 1;if(!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(a)&&a.isCollapsed()&&s.isCollapsed()))return 0;var c=function(e,t,r){var o=e._nodeMap,i=[];for(var _e of t){var _t=o.get(_e);void 0!==_t&&i.push(_t);}for(var _ref2 of r){var _e2=_ref2[0];var _t2=_ref2[1];{if(!_t2)continue;var _r=o.get(_e2);void 0===_r||require("Lexical").$isRootNode(_r)||i.push(_r);}}return i;}(t,r,o);if(0===c.length)return 0;if(c.length>1){var _r2=t._nodeMap,_o=_r2.get(s.anchor.key),_i=_r2.get(a.anchor.key);return _o&&_i&&!e._nodeMap.has(_o.__key)&&require("Lexical").$isTextNode(_o)&&1===_o.__text.length&&1===s.anchor.offset?2:0;}var d=c[0],u=e._nodeMap.get(d.__key);if(!require("Lexical").$isTextNode(u)||!require("Lexical").$isTextNode(d)||u.__mode!==d.__mode)return 0;var l=u.__text,_=d.__text;if(l===_)return 0;var f=s.anchor,p=a.anchor;if(f.key!==p.key||"text"!==f.type)return 0;var h=f.offset,O=p.offset,S=_.length-l.length;return 1===S&&O===h-1?2:-1===S&&O===h+1?3:-1===S&&O===h?4:0;}function o(e,t){var o=Date.now(),i=0;return function(s,a,c,d,u,l){var _=Date.now();if(l.has(require("Lexical").HISTORIC_TAG))return i=0,o=_,2;var f=r(s,a,d,u,e.isComposing()),p=function(){var r=null===c||c.editor===e,p=l.has(require("Lexical").HISTORY_PUSH_TAG);if(!p&&r&&l.has(require("Lexical").HISTORY_MERGE_TAG))return 0;if(null===s)return 1;var h=a._selection;if(!(d.size>0||u.size>0))return null!==h?0:2;var O="number"==typeof t?t:t.peek();if(!1===p&&0!==f&&f===i&&_<o+O&&r)return 0;if(1===d.size){if(function(e,t,r){var o=t._nodeMap.get(e),i=r._nodeMap.get(e),s=t._selection,a=r._selection;return!(require("Lexical").$isRangeSelection(s)&&require("Lexical").$isRangeSelection(a)&&"element"===s.anchor.type&&"element"===s.focus.type&&"text"===a.anchor.type&&"text"===a.focus.type||!require("Lexical").$isTextNode(o)||!require("Lexical").$isTextNode(i)||o.__parent!==i.__parent)&&JSON.stringify(t.read(function(){return o.exportJSON();}))===JSON.stringify(r.read(function(){return i.exportJSON();}));}(Array.from(d)[0],s,a))return 0;}return 1;}();return o=_,i=f,p;};}function i(e){e.undoStack=[],e.redoStack=[],e.current=null;}function s(e,r,s){var _require_Lexical;var a=o(e,s),c=require("LexicalUtils").mergeRegister(e.registerCommand((_require_Lexical=require("Lexical")).UNDO_COMMAND,function(){return function(e,t){var r=t.redoStack,o=t.undoStack;if(0!==o.length){var _i2=t.current,_s=o.pop();null!==_i2&&(r.push(_i2),e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!0)),0===o.length&&e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),t.current=_s||null,_s&&_s.editor.setEditorState(_s.editorState,{tag:require("Lexical").HISTORIC_TAG});}}(e,r),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.REDO_COMMAND,function(){return function(e,t){var r=t.redoStack,o=t.undoStack;if(0!==r.length){var _i3=t.current;null!==_i3&&(o.push(_i3),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));var _s2=r.pop();0===r.length&&e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),t.current=_s2||null,_s2&&_s2.editor.setEditorState(_s2.editorState,{tag:require("Lexical").HISTORIC_TAG});}}(e,r),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.CLEAR_EDITOR_COMMAND,function(){return i(r),!1;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerCommand(_require_Lexical.CLEAR_HISTORY_COMMAND,function(){return i(r),e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!1),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(function(_ref3){var t=_ref3.editorState,o=_ref3.prevEditorState,i=_ref3.dirtyLeaves,s=_ref3.dirtyElements,c=_ref3.tags;var d=r.current,u=r.redoStack,l=r.undoStack,_=null===d?null:d.editorState;if(null!==d&&t===_)return;var f=a(o,t,d,i,s,c);if(1===f)0!==u.length&&(r.redoStack=[],e.dispatchCommand(require("Lexical").CAN_REDO_COMMAND,!1)),null!==d&&(l.push(babelHelpers["extends"]({},d)),e.dispatchCommand(require("Lexical").CAN_UNDO_COMMAND,!0));else if(2===f)return;r.current={editor:e,editorState:t};}));return c;}function a(){return{current:null,redoStack:[],undoStack:[]};}var c=(_require_Lexical=require("Lexical")).defineExtension({build:function build(t,_ref4){var n=_ref4.delay,r=_ref4.createInitialHistoryState,o=_ref4.disabled;return require("LexicalExtension").namedSignals({delay:n,disabled:o,historyState:r(t)});},config:_require_Lexical.safeCast({createInitialHistoryState:a,delay:300,disabled:"undefined"==typeof window}),name:"@lexical/history/History",register:function register(t,n,r){var o=r.getOutput();return require("LexicalExtension").effect(function(){return o.disabled.value?void 0:s(t,o.historyState.value,o.delay);});}});var d=_require_Lexical.defineExtension({dependencies:[_require_Lexical.configExtension(c,{createInitialHistoryState:function createInitialHistoryState(){throw new Error("SharedHistory did not inherit parent history");},disabled:!0})],name:"@lexical/history/SharedHistory",register:function register(t,n,r){var _r$getDependency=r.getDependency(c),o=_r$getDependency.output,i=function(t){return t?require("LexicalExtension").getPeerDependencyFromEditor(t,c.name):null;}(t._parentEditor);if(!i)return function(){};var s=i.output;return require("LexicalExtension").effect(function(){return require("LexicalExtension").batch(function(){o.delay.value=s.delay.value,o.historyState.value=s.historyState.value,o.disabled.value=s.disabled.value;});});}});exports.HistoryExtension=c,exports.SharedHistoryExtension=d,exports.createEmptyHistoryState=a,exports.registerHistory=s;}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(a,b,c,d,e,f){e.exports=b("cr:293")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<a4e75d98d5c200f319ab621ceecc265d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react"));exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState,exports.HistoryPlugin=function(_ref){var o=_ref.delay,s=_ref.externalHistoryState;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0];return function(e,o,s){if(s===void 0){s=1e3;}var i=r.useMemo(function(){return o||require("LexicalHistory").createEmptyHistoryState();},[o]);r.useEffect(function(){return require("LexicalHistory").registerHistory(e,i,s);},[s,e,i]);}(i,s,o),null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<59d0b568da0d95113481c4525402e522>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHtml.prod",["Lexical","LexicalSelection","LexicalUtils"],(function $module_LexicalHtml_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function o(l,i,r,s){if(s===void 0){s=null;}var c=null===s||i.isSelected(s);var d=require("Lexical").$isElementNode(i)&&i.excludeFromCopy("html");var u=i;if(null!==s){var _t=require("Lexical").$cloneWithProperties(i);_t=require("Lexical").$isTextNode(_t)&&null!==s?require("LexicalSelection").$sliceSelectedTextNodeContent(s,_t):_t,u=_t;}var a=require("Lexical").$isElementNode(u)?u.getChildren():[],f=require("Lexical").getRegisteredNode(l,u.getType());var m;m=f&&void 0!==f.exportDOM?f.exportDOM(l,u):u.exportDOM(l);var _m=m,h=_m.element,p=_m.after;if(!h)return!1;var g=document.createDocumentFragment();for(var _e=0;_e<a.length;_e++){var _t2=a[_e],_r=o(l,_t2,g,s);!c&&require("Lexical").$isElementNode(i)&&_r&&i.extractWithChild(_t2,s,"html")&&(c=!0);}if(c&&!d){if((require("LexicalUtils").isHTMLElement(h)||require("Lexical").isDocumentFragment(h))&&h.append(g),r.append(h),p){var _e2=p.call(u,h);_e2&&(require("Lexical").isDocumentFragment(h)?h.replaceChildren(_e2):h.replaceWith(_e2));}}else r.append(g);return c;}var l=new Set(["STYLE","SCRIPT"]);function i(e,o,s,c,d,u){var _f;if(d===void 0){d=new Map();}var a=[];if(l.has(e.nodeName))return a;var f=null;var m=function(e,t){var n=e.nodeName,o=t._htmlConversions.get(n.toLowerCase());var l=null;if(void 0!==o)for(var _t3 of o){var _n=_t3(e);null!==_n&&(null===l||(l.priority||0)<=(_n.priority||0))&&(l=_n);}return null!==l?l.conversion:null;}(e,o),h=m?m(e):null;var p=null;if(null!==h){p=h.after;var _t4=h.node;if(f=Array.isArray(_t4)?_t4[_t4.length-1]:_t4,null!==f){var _a;for(var _ref2 of d){var _e3=_ref2[1];if(f=_e3(f,u),!f)break;}f&&(_a=a).push.apply(_a,Array.isArray(_t4)?_t4:[f]);}null!=h.forChild&&d.set(e.nodeName,h.forChild);}var g=e.childNodes;var N=[];var $=(null==f||!require("Lexical").$isRootOrShadowRoot(f))&&(null!=f&&require("Lexical").$isBlockElementNode(f)||c);for(var _e4=0;_e4<g.length;_e4++){var _N;(_N=N).push.apply(_N,i(g[_e4],o,s,$,new Map(d),f));}return null!=p&&(N=p(N)),require("LexicalUtils").isBlockDomNode(e)&&(N=r(e,N,$?function(){var e=new(require("Lexical").ArtificialNode__DO_NOT_USE)();return s.push(e),e;}:require("Lexical").$createParagraphNode)),null==f?N.length>0?a=a.concat(N):require("LexicalUtils").isBlockDomNode(e)&&function(e){if(null==e.nextSibling||null==e.previousSibling)return!1;return require("Lexical").isInlineDomNode(e.nextSibling)&&require("Lexical").isInlineDomNode(e.previousSibling);}(e)&&(a=a.concat(require("Lexical").$createLineBreakNode())):require("Lexical").$isElementNode(f)&&(_f=f).append.apply(_f,N),a;}function r(e,t,o){var l=e.style.textAlign,i=[];var r=[];for(var _e5=0;_e5<t.length;_e5++){var s=t[_e5];if(require("Lexical").$isBlockElementNode(s))l&&!s.getFormat()&&s.setFormat(l),i.push(s);else if(r.push(s),_e5===t.length-1||_e5<t.length-1&&require("Lexical").$isBlockElementNode(t[_e5+1])){var _e6=o();_e6.setFormat(l),_e6.append.apply(_e6,r),i.push(_e6),r=[];}}return i;}exports.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");var l=document.createElement("div"),i=require("Lexical").$getRoot().getChildren();for(var _n2=0;_n2<i.length;_n2++){o(e,i[_n2],l,t);}return l.innerHTML;},exports.$generateNodesFromDOM=function(e,t){var o=t.body?t.body.childNodes:[];var r=[];var s=[];for(var _t5=0;_t5<o.length;_t5++){var _n3=o[_t5];if(!l.has(_n3.nodeName)){var _t6=i(_n3,e,s,!1);null!==_t6&&(r=r.concat(_t6));}}return function(e){for(var _t7 of e)_t7.getNextSibling()instanceof require("Lexical").ArtificialNode__DO_NOT_USE&&_t7.insertAfter(require("Lexical").$createLineBreakNode());for(var _t8 of e){var _e7=_t8.getChildren();for(var _n4 of _e7)_t8.insertBefore(_n4);_t8.remove();}}(s),r;};}),null);
__d("LexicalPlainText",["cr:2909"],(function(a,b,c,d,e,f){e.exports=b("cr:2909")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<aa4a6059c3cdec228423e12dd943a882>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainText.prod",["Lexical","LexicalClipboard","LexicalDragon","LexicalSelection","LexicalUtils"],(function $module_LexicalPlainText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,a=o&&"documentMode"in document?document.documentMode:null,s=!(!o||!("InputEvent"in window)||a)&&"getTargetRanges"in new window.InputEvent("input"),l=o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,R=o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),D=o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!R;function O(t,n){n.update(function(){if(null!==t){var _o=require("LexicalUtils").objectKlassEquals(t,KeyboardEvent)?null:t.clipboardData,_a=require("Lexical").$getSelection();if(null!==_a&&null!=_o){t.preventDefault();var _i=require("LexicalClipboard").$getHtmlContent(n);null!==_i&&_o.setData("text/html",_i),_o.setData("text/plain",_a.getTextContent());}}});}function C(t){var _require_Lexical;return require("LexicalUtils").mergeRegister(t.registerCommand((_require_Lexical=require("Lexical")).DELETE_CHARACTER_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteCharacter(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DELETE_WORD_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteWord(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DELETE_LINE_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.deleteLine(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.CONTROLLED_TEXT_INSERTION_COMMAND,function(t){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;if("string"==typeof t)n.insertText(t);else{var _i2=t.dataTransfer;if(null!=_i2)require("LexicalClipboard").$insertDataTransferForPlainText(_i2,n);else{var _e=t.data;_e&&n.insertText(_e);}}return!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.REMOVE_TEXT_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.removeText(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.INSERT_LINE_BREAK_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(t.insertLineBreak(e),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.INSERT_PARAGRAPH_COMMAND,function(){var e=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(e)&&(e.insertLineBreak(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ARROW_LEFT_COMMAND,function(e){var t=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(t))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(t,!0)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(t,o,!0),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ARROW_RIGHT_COMMAND,function(e){var t=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(t))return!1;var i=e,o=i.shiftKey;return!!require("LexicalSelection").$shouldOverrideDefaultCharacterSelection(t,!1)&&(i.preventDefault(),require("LexicalSelection").$moveCharacter(t,o,!1),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_BACKSPACE_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(!c||"ko-KR"!==navigator.language)&&(e.preventDefault(),t.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!0));},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_DELETE_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(e.preventDefault(),t.dispatchCommand(require("Lexical").DELETE_CHARACTER_COMMAND,!1));},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.KEY_ENTER_COMMAND,function(e){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return!1;if(null!==e){if((c||l||D)&&s)return!1;e.preventDefault();}return t.dispatchCommand(require("Lexical").INSERT_LINE_BREAK_COMMAND,!1);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.SELECT_ALL_COMMAND,function(){return require("Lexical").$selectAll(),!0;},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.COPY_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(O(e,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.CUT_COMMAND,function(e){var n=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(n)&&(function(e,t){O(e,t),t.update(function(){var e=require("Lexical").$getSelection();require("Lexical").$isRangeSelection(e)&&e.removeText();});}(e,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.PASTE_COMMAND,function(n){var o=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(o)&&(function(t,n){t.preventDefault(),n.update(function(){var n=require("Lexical").$getSelection(),o=require("LexicalUtils").objectKlassEquals(t,ClipboardEvent)?t.clipboardData:null;null!=o&&require("Lexical").$isRangeSelection(n)&&require("LexicalClipboard").$insertDataTransferForPlainText(o,n);},{tag:require("Lexical").PASTE_TAG});}(n,t),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DROP_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),t.registerCommand(_require_Lexical.DRAGSTART_COMMAND,function(e){var t=require("Lexical").$getSelection();return!!require("Lexical").$isRangeSelection(t)&&(e.preventDefault(),!0);},_require_Lexical.COMMAND_PRIORITY_EDITOR));}var M=require("Lexical").defineExtension({conflictsWith:["LexicalRichText"],dependencies:[require("LexicalDragon").DragonExtension],name:"LexicalPlainText",register:C});exports.PlainTextExtension=M,exports.registerPlainText=C;}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(a,b,c,d,e,f){e.exports=b("cr:739")}),null);
__d("LexicalReactProviderExtension",["cr:13740"],(function(a,b,c,d,e,f){e.exports=b("cr:13740")}),null);
__d("useLexicalEditable",["cr:4793"],(function(a,b,c,d,e,f){e.exports=b("cr:4793")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<756b0469135a8bebf674ad8b470f15b0>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalExtension","LexicalPlainText","LexicalReactProviderExtension","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),c=_require_closure_react;function x(e){throw new Error(e);}var d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function f(_ref){var e=_ref.editor,r=_ref.ErrorBoundary;return function(e,r){var _o$useState=o.useState(function(){return e.getDecorators();}),t=_o$useState[0],n=_o$useState[1];return d(function(){return e.registerDecoratorListener(function(e){require("ReactDOM").flushSync(function(){n(e);});});},[e]),o.useEffect(function(){n(e.getDecorators());},[e]),o.useMemo(function(){var n=[],u=Object.keys(t);for(var _a=0;_a<u.length;_a++){var _s=u[_a],_l=c.jsx(r,{onError:function onError(r){return e._onError(r);},children:c.jsx(o.Suspense,{fallback:null,children:t[_s]})}),_x=e.getElementByKey(_s);null!==_x&&n.push(require("ReactDOM").createPortal(_l,_x,_s));}return n;},[r,t,e]);}(e,r);}function g(_ref2){var e=_ref2.editor,r=_ref2.ErrorBoundary;return function(e){var r=require("LexicalExtension").LexicalBuilder.maybeFromEditor(e);if(r&&r.hasExtensionByName(require("LexicalReactProviderExtension").ReactProviderExtension.name)){for(var _e of["LexicalPlainText","LexicalRichText"])r.hasExtensionByName(_e)&&x("LexicalBuilder: @lexical/react legacy text plugins conflict with the "+_e+" extension. Remove the legacy <RichTextPlugin/> or <PlainTextPlugin/> component.");return!0;}return!1;}(e)?null:c.jsx(f,{editor:e,ErrorBoundary:r});}function E(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}function m(_ref3){var t=_ref3.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),n=_e$useLexicalComposer[0],i=function(e){var _o$useState2=o.useState(function(){return E(e);}),r=_o$useState2[0],t=_o$useState2[1];return d(function(){function r(){var r=E(e);t(r);}return r(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){r();}),e.registerEditableListener(function(){r();}));},[e]),r;}(n),c=require("useLexicalEditable").useLexicalEditable();return i?"function"==typeof t?t(c):t:null;}exports.PlainTextPlugin=function(_ref4){var r=_ref4.contentEditable,_ref4$placeholder=_ref4.placeholder,t=_ref4$placeholder===void 0?null:_ref4$placeholder,n=_ref4.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer2[0];return function(e){d(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(e),require("LexicalDragon").registerDragonSupport(e));},[e]);}(o),c.jsxs(c.Fragment,{children:[r,c.jsx(m,{content:t}),c.jsx(g,{editor:o,ErrorBoundary:n})]});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<053a5941068424ecbe5402a89ba938cf>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalReactProviderExtension.prod",["Lexical"],(function $module_LexicalReactProviderExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var e=require("Lexical").defineExtension({name:"@lexical/react/ReactProvider"});exports.ReactProviderExtension=e;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<eebf19b97441ba1e2c77e85666d5af9f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n=new Map();function o(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function s(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _e2 of n)if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}return t;}function i(e){var t=n.get(e);return void 0===t&&(t=r(e),n.set(e,t)),t;}function l(e){var t="";for(var _n2 in e)_n2&&(t+=_n2+": "+e[_n2]+";");return t;}function c(t){var n=require("Lexical").$getEditor().getElementByKey(t.getKey());if(null===n)return null;var o=n.ownerDocument.defaultView;return null===o?null:o.getComputedStyle(n);}function f(t){return c(require("Lexical").$isRootNode(t)?t:t.getParentOrThrow());}function d(t,n,o){var s=n.getNode(),r=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}var _loop=function _loop(){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var o=s.getPreviousSibling(),i=0;if(null===o){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){o=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(i=_e5.isInline()?0:2,o=_t);}var l=s.getTextContent();""===l&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(l="\n\n");var c=l.length;if(!require("Lexical").$isTextNode(s)||r>=c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),r-=c+i,s=o;}else{var _o2=s.getKey(),_i=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(_o2);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),_f=c-r,_d=l.slice(0,_f);if(null!==_i&&_i!==l){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(_i);else{var _t4=require("Lexical").$createTextNode(_i);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===_o2;var _t5=n.offset;_t5<r&&(_t5=c);var _i2=_e7?_t5-r:0,_l=_e7?_t5:_f;if(_e7&&0===_i2){var _s$splitText=s.splitText(_i2,_l),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_i2,_l),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(_d);s.replace(_t6);}r=0;}};for(;r>0&&null!==s;){_loop();}}function a(o,s){(require("Lexical").$isRangeSelection(o)?o.isCollapsed():require("Lexical").$isTextNode(o)||require("Lexical").$isElementNode(o))||t(280);var r=i(require("Lexical").$isRangeSelection(o)?o.style:require("Lexical").$isTextNode(o)?o.getStyle():o.getTextStyle()),c=Object.entries(s).reduce(function(e,_ref){var t=_ref[0],n=_ref[1];return"function"==typeof n?e[t]=n(r[t],o):null===n?delete e[t]:e[t]=n,e;},babelHelpers["extends"]({},r)),f=l(c);require("Lexical").$isRangeSelection(o)||require("Lexical").$isTextNode(o)?o.setStyle(f):o.setTextStyle(f),n.set(f,c);}function u(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map(),s=function s(e){return o.get(e.getKey())||[0,e.getTextContentSize()];};if(require("Lexical").$isRangeSelection(n))for(var _t7 of require("Lexical").$caretRangeFromSelection(n).getTextSlices())_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());var r=n.getNodes();for(var _n4 of r){if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _s=s(_n4),_o3=_s[0],_r=_s[1];if(_r!==_o3)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_o3&&_r===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_o3,_r)[0===_o3?0:1]);}}require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&g(n);}function g(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o4=_t8.key,_s2=_t8.offset,_r2=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o4,_s2,_r2);}}function p(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function $(e){return e.getNode().isAttached();}function h(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e0=n.getLatest(),_t9=n.getParent();0===_e0.getChildrenSize()&&n.remove(!0),n=_t9;}}function y(n,o,s,r,i){if(i===void 0){i=null;}if(0===o.length)return;var l=o[0],c=new Map(),f=[];var d=require("Lexical").$isElementNode(l)?l:l.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());var a=!1;for(;null!==d;){var _t0=d.getPreviousSibling();if(null!==_t0){d=_t0,a=!0;break;}if(d=d.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(d))break;}var u=new Set();for(var _t1=0;_t1<s;_t1++){var _n6=o[_t1];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&u.add(_n6.getKey());}var g=new Set();var _loop2=function _loop2(){var s=o[_n7];var i=s.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&require("Lexical").$isLeafNode(s)&&!g.has(s.getKey())){var _t15=i.getKey();if(void 0===c.get(_t15)){var _n9=r();_n9.setFormat(i.getFormatType()),_n9.setIndent(i.getIndent()),f.push(_n9),c.set(_t15,_n9),i.getChildren().forEach(function(t){_n9.append(t),g.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return g.add(e);});}),h(i);}}else if(u.has(s.getKey())){require("Lexical").$isElementNode(s)||t(179);var _n0=r();_n0.setFormat(s.getFormatType()),_n0.setIndent(s.getIndent()),f.push(_n0),s.remove(!0);}};for(var _n7=0;_n7<s;_n7++){_loop2();}if(null!==i)for(var _e1=0;_e1<f.length;_e1++){var _t10=f[_e1];i.append(_t10);}var p=null;if(require("Lexical").$isRootOrShadowRoot(d)){if(a){if(null!==i)d.insertAfter(i);else for(var _e10=f.length-1;_e10>=0;_e10--){var _t11=f[_e10];d.insertAfter(_t11);}}else{var _t12=d.getFirstChild();if(require("Lexical").$isElementNode(_t12)&&(d=_t12),null===_t12){if(i)d.append(i);else for(var _e11=0;_e11<f.length;_e11++){var _t13=f[_e11];d.append(_t13),p=_t13;}}else if(null!==i)_t12.insertBefore(i);else for(var _e12=0;_e12<f.length;_e12++){var _n8=f[_e12];_t12.insertBefore(_n8),p=_n8;}}}else if(i)d.insertAfter(i);else for(var _e13=f.length-1;_e13>=0;_e13--){var _t14=f[_e13];d.insertAfter(_t14),p=_t14;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&$(y.anchor)&&$(y.focus)?require("Lexical").$setSelection(y.clone()):null!==p?p.selectEnd():n.dirty=!0;}function S(e){var t=m(e);return null!==t&&"vertical-rl"===t.writingMode;}function m(t){var n=t.anchor.getNode();return require("Lexical").$isElementNode(n)?c(n):f(n);}function x(e,t,n,o){e.modify(t?"extend":"move",n,o);}function N(e){var t=m(e);return null!==t&&"rtl"===t.direction;}function T(e,t,n){var o=i(e.getStyle());return null!==o&&o[t]||n;}var E=d;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),o=r(t);n.set(t,o);},exports.$copyBlockFormatIndent=p,exports.$ensureForwardRangeSelection=g,exports.$forEachSelectedTextNode=u,exports.$getComputedStyleForElement=c,exports.$getComputedStyleForParent=f,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var r=t.getNodes(),l=t.anchor,c=t.focus,f=t.isBackward(),d=f?c.offset:l.offset,a=f?c.getNode():l.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e14=i(t.style);if(null!==_e14&&n in _e14)return _e14[n];}for(var _t16=0;_t16<r.length;_t16++){var _i3=r[_t16];if((0===_t16||0!==d||!_i3.is(a))&&require("Lexical").$isTextNode(_i3)){var _e15=T(_i3,n,o);if(null===s)s=_e15;else if(s!==_e15){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(n){if("text"===n.type)return n.offset===n.getNode().getTextContentSize();var o=n.getNode();return require("Lexical").$isElementNode(o)||t(177),n.offset===o.getChildrenSize();},exports.$isParentElementRTL=N,exports.$isParentRTL=function(e){var t=f(e);return null!==t&&"rtl"===t.direction;},exports.$moveCaretSelection=x,exports.$moveCharacter=function(e,t,n){var o=N(e);var s;s=S(e)||o?!n:n,x(e,t,s,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){a(t,n);var _o5=t.anchor.getNode();require("Lexical").$isElementNode(_o5)&&_o5.isEmpty()&&a(_o5,n);}u(function(e){a(e,n);});},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=p;}if(null===t)return;var s=t.getStartEndPoints(),r=new Map();var i=null;if(s){var _require_Lexical;var _t17=s[0],_n1=s[1];i=(_require_Lexical=require("Lexical")).$createRangeSelection(),i.anchor.set(_t17.key,_t17.offset,_t17.type),i.focus.set(_n1.key,_n1.offset,_n1.type);var _o6=_require_Lexical.$findMatchingParent(_t17.getNode(),_require_Lexical.INTERNAL_$isBlock),_l2=_require_Lexical.$findMatchingParent(_n1.getNode(),_require_Lexical.INTERNAL_$isBlock);require("Lexical").$isElementNode(_o6)&&r.set(_o6.getKey(),_o6),require("Lexical").$isElementNode(_l2)&&r.set(_l2.getKey(),_l2);}for(var _n10 of t.getNodes())if(require("Lexical").$isElementNode(_n10)&&require("Lexical").INTERNAL_$isBlock(_n10))r.set(_n10.getKey(),_n10);else if(null===s){var _t18=require("Lexical").$findMatchingParent(_n10,require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_t18)&&r.set(_t18.getKey(),_t18);}for(var _ref3 of r){var _e16=_ref3[0];var _t19=_ref3[1];{var _s3=n();o(_t19,_s3),_t19.replace(_s3,!0),i&&(_e16===i.anchor.key&&i.anchor.set(_s3.getKey(),i.anchor.offset,i.anchor.type),_e16===i.focus.key&&i.focus.set(_s3.getKey(),i.focus.offset,i.focus.type));}}i&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(i);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=S(t)?!n:n;N(t)&&(o=!o);var s=require("Lexical").$caretFromPoint(t.focus,o?"previous":"next");if(require("Lexical").$isExtendableTextPointCaret(s))return!1;for(var _t20 of require("Lexical").$extendCaretToRange(s)){if(require("Lexical").$isChildCaret(_t20))return!_t20.origin.isInline();if(!require("Lexical").$isElementNode(_t20.origin)){if(require("Lexical").$isDecoratorNode(_t20.origin))return!0;break;}}return!1;},exports.$sliceSelectedTextNodeContent=function(t,n){var o=t.getStartEndPoints();if(n.isSelected(t)&&!require("Lexical").$isTokenOrSegmented(n)&&null!==o){var _s4=o[0],_r3=o[1],_i4=t.isBackward(),_l3=_s4.getNode(),_c=_r3.getNode(),_f2=n.is(_l3),_d2=n.is(_c);if(_f2||_d2){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_o7=_e$$getCharacterOffse[0],_s5=_e$$getCharacterOffse[1],_r4=_l3.is(_c),_f3=n.is(_i4?_c:_l3),_d3=n.is(_i4?_l3:_c);var _a,_u=0;if(_r4)_u=_o7>_s5?_s5:_o7,_a=_o7>_s5?_o7:_s5;else if(_f3){_u=_i4?_s5:_o7,_a=void 0;}else if(_d3){_u=0,_a=_i4?_o7:_s5;}n.__text=n.__text.slice(_u,_a);}}return n;},exports.$trimTextContentFromAnchor=d,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),r=s?s[0]:null,i=t.getNodes(),l=i.length;if(null!==r&&(0===l||1===l&&"element"===r.type&&0===r.getNode().getChildrenSize())){var _e17="text"===r.type?r.getNode().getParentOrThrow():r.getNode(),_t21=_e17.getChildren();var _s6=n();return _s6.setFormat(_e17.getFormatType()),_s6.setIndent(_e17.getIndent()),_t21.forEach(function(e){return _s6.append(e);}),o&&(_s6=o.append(_s6)),void _e17.replace(_s6);}var c=null,f=[];for(var _s7=0;_s7<l;_s7++){var _r5=i[_s7];require("Lexical").$isRootOrShadowRoot(_r5)?(y(t,f,f.length,n,o),f=[],c=_r5):null===c||null!==c&&require("Lexical").$hasAncestor(_r5,c)?f.push(_r5):(y(t,f,f.length,n,o),f=[_r5]);}y(t,f,f.length,n,o);},exports.createDOMRange=function(t,n,r,i,l){var _s8,_s9;var c=n.getKey(),f=i.getKey(),d=document.createRange();var a=t.getElementByKey(c),u=t.getElementByKey(f),g=r,p=l;if(require("Lexical").$isTextNode(n)&&(a=o(a)),require("Lexical").$isTextNode(i)&&(u=o(u)),void 0===n||void 0===i||null===a||null===u)return null;"BR"===a.nodeName&&(_s8=s(a),a=_s8[0],g=_s8[1],_s8),"BR"===u.nodeName&&(_s9=s(u),u=_s9[0],p=_s9[1],_s9);var $=a.firstChild;a===u&&null!=$&&"BR"===$.nodeName&&0===g&&0===p&&(p=1);try{d.setStart(a,g),d.setEnd(u,p);}catch(e){return null;}return!d.collapsed||g===p&&c===f||(d.setStart(u,p),d.setEnd(a,g)),d;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),r=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i=Array.from(t.getClientRects());var l,c=i.length;i.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e18=0;_e18<c;_e18++){var _t22=i[_e18],_n11=l&&l.top<=_t22.top&&l.top+l.height>_t22.top&&l.left+l.width>_t22.left,_s0=_t22.width+r===o.width;_n11||_s0?(i.splice(_e18--,1),c--):l=_t22;}return i;},exports.getCSSFromStyleObject=l,exports.getStyleObjectFromCSS=i,exports.trimTextContentFromAnchor=E;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7dcdb223bf348832203cf99dbbd5db05>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function e(){return require("Lexical").$getRoot().getTextContent();}function n(t,n){if(n===void 0){n=!0;}if(t)return!1;var r=e();return n&&(r=r.trim()),""===r;}function r(e){if(!n(e,!1))return!1;var r=require("Lexical").$getRoot().getChildren(),o=r.length;if(o>1)return!1;for(var _e=0;_e<o;_e++){var _n=r[_e];if(require("Lexical").$isDecoratorNode(_n))return!1;if(require("Lexical").$isElementNode(_n)){if(!require("Lexical").$isParagraphNode(_n))return!1;if(0!==_n.__indent)return!1;var _r=_n.getChildren(),_o=_r.length;for(var _n2=0;_n2<_o;_n2++){var _n3=_r[_e];if(!require("Lexical").$isTextNode(_n3))return!1;}}}return!0;}function o(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t of e)r.append("v",_t);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}exports.$canShowPlaceholder=r,exports.$canShowPlaceholderCurry=function(t){return function(){return r(t);};},exports.$findTextIntersectionFromCharacters=function(e,n){var r=e.getFirstChild(),o=0;t:for(;null!==r;){if(require("Lexical").$isElementNode(r)){var _t2=r.getFirstChild();if(null!==_t2){r=_t2;continue;}}else if(require("Lexical").$isTextNode(r)){var _t3=r.getTextContentSize();if(o+_t3>n)return{node:r,offset:n-o};o+=_t3;}var _e2=r.getNextSibling();if(null!==_e2){r=_e2;continue;}var i=r.getParent();for(;null!==i;){var _t4=i.getNextSibling();if(null!==_t4){r=_t4;continue t;}i=i.getParent();}break;}return null;},exports.$isRootTextContentEmpty=n,exports.$isRootTextContentEmptyCurry=function(t,e){return function(){return n(t,e);};},exports.$rootTextContent=e,exports.registerLexicalTextEntity=function(e,n,r,i){var s=function s(t){return t instanceof r;},l=function l(e){var n=require("Lexical").$createTextNode(e.getTextContent());n.setFormat(e.getFormat()),e.replace(n);};return[e.registerNodeTransform(require("Lexical").TextNode,function(e){if(!e.isSimpleText())return;var r,u=e.getPreviousSibling(),c=e.getTextContent(),f=e;if(require("Lexical").$isTextNode(u)){var _t5=u.getTextContent(),_r2=n(_t5+c);if(s(u)){if(null===_r2||0!==function(t){return t.getLatest().__mode;}(u))return void l(u);{var _n4=_r2.end-_t5.length;if(_n4>0){var _r3=_t5+c.slice(0,_n4);if(u.select(),u.setTextContent(_r3),_n4===c.length)e.remove();else{var _t6=c.slice(_n4);e.setTextContent(_t6);}return;}}}else if(null===_r2||_r2.start<_t5.length)return;}var d=0;for(;;){var _f$splitText,_f$splitText2;r=n(c);var _e3=void 0,a=null===r?"":c.slice(r.end);if(c=a,""===a){var _e4=f.getNextSibling();if(require("Lexical").$isTextNode(_e4)){a=f.getTextContent()+_e4.getTextContent();var _t7=n(a);if(null===_t7)return void(s(_e4)?l(_e4):_e4.markDirty());if(0!==_t7.start)return;}}if(null===r)return;if(0===r.start&&require("Lexical").$isTextNode(u)&&u.isTextEntity()){d+=r.end;continue;}0===r.start?(_f$splitText=f.splitText(r.end),_e3=_f$splitText[0],f=_f$splitText[1],_f$splitText):(_f$splitText2=f.splitText(r.start+d,r.end+d),_e3=_f$splitText2[1],f=_f$splitText2[2],_f$splitText2),void 0===_e3&&o(165,"nodeToReplace");var x=i(_e3);if(x.setFormat(_e3.getFormat()),_e3.replace(x),null==f)return;d=0,u=x;}}),e.registerNodeTransform(r,function(e){var r=e.getTextContent(),o=n(r);if(null===o||0!==o.start)return void l(e);if(r.length>o.end)return void e.splitText(o.end);var i=e.getPreviousSibling();require("Lexical").$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e));var u=e.getNextSibling();require("Lexical").$isTextNode(u)&&u.isTextEntity()&&(l(u),s(e)&&l(e));})];};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<6db94066404cad9ecfa2611d70034cd1>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)r.append("v",_e);throw n.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=r&&"documentMode"in document?document.documentMode:null,i=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!r||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),a=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=r&&/Android/.test(navigator.userAgent),d=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=r&&u&&d,f=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!d;function p(){var t=[];for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}for(var _n of e)if(_n&&"string"==typeof _n)for(var _ref2 of _n.matchAll(/\S+/g)){var _e2=_ref2[0];t.push(_e2);}return t;}function m(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return function(){for(var _t=e.length-1;_t>=0;_t--)e[_t]();e.length=0;};}function h(e){return e+"px";}var $={attributes:!0,characterData:!0,childList:!0,subtree:!0};function x(r,o,i){var s=null,l=null,a=null,c=[];var u=document.createElement("div");function d(){null===s&&n(182),null===l&&n(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(r,o);var g,f;u.isConnected||(f=u,(g=l).insertBefore(f,g.firstChild));var p=!1;for(var _t2=0;_t2<d.length;_t2++){var _n2=d[_t2],_r=c[_t2]||document.createElement("div"),_o=_r.style;"absolute"!==_o.position&&(_o.position="absolute",p=!0);var _i=h(_n2.left-e);_o.left!==_i&&(_o.left=_i,p=!0);var _s=h(_n2.top-a);_o.top!==_s&&(_r.style.top=_s,p=!0);var _l=h(_n2.width);_o.width!==_l&&(_r.style.width=_l,p=!0);var _g=h(_n2.height);_o.height!==_g&&(_r.style.height=_g,p=!0),_r.parentNode!==u&&(u.append(_r),p=!0),c[_t2]=_r;}for(;c.length>d.length;)c.pop();p&&i(c);}function g(){l=null,s=null,null!==a&&a.disconnect(),a=null,u.remove();for(var _e3 of c)_e3.remove();c=[];}u.style.position="relative";var f=r.registerRootListener(function t(){var n=r.getRootElement();if(null===n)return g();var o=n.parentElement;if(!require("Lexical").isHTMLElement(o))return g();g(),s=n,l=o,a=new MutationObserver(function(e){var n=r.getRootElement(),o=n&&n.parentElement;if(n!==s||o!==l)return t();for(var _t3 of e)if(!u.contains(_t3.target))return d();}),a.observe(o,$),d();});return function(){f(),g();};}function S(t,n,r){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e4=n.getDOMSlot(r);return[_e4.element,_e4.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(r)||r,t.offset];}function C(t,n){var r=null,o=null,i=null,s=null,l=null,a=null,c=function c(){};function u(u){u.read(function(){var u=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(u))return r=null,i=null,s=null,a=null,c(),void(c=function c(){});var _ref3=function(e){var t=e.getStartEndPoints();return e.isBackward()?[t[1],t[0]]:t;}(u),d=_ref3[0],g=_ref3[1],f=d.getNode(),p=f.getKey(),m=d.offset,$=g.getNode(),C=$.getKey(),E=g.offset,v=t.getElementByKey(p),N=t.getElementByKey(C),A=null===r||v!==o||m!==i||p!==r.getKey(),w=null===s||N!==l||E!==a||C!==s.getKey();if((A||w)&&null!==v&&null!==N){var _e5=function(e,t,n,r,o,i,s){var l=(e._window?e._window.document:document).createRange();return l.setStart.apply(l,S(t,n,r)),l.setEnd.apply(l,S(o,i,s)),l;}(t,d,f,v,g,$,N);c(),c=x(t,_e5,function(e){if(void 0===n)for(var _t4 of e){var _e6=_t4.style;"Highlight"!==_e6.background&&(_e6.background="Highlight"),"HighlightText"!==_e6.color&&(_e6.color="HighlightText"),_e6.marginTop!==h(-1.5)&&(_e6.marginTop=h(-1.5)),_e6.paddingTop!==h(4)&&(_e6.paddingTop=h(4)),_e6.paddingBottom!==h(0)&&(_e6.paddingBottom=h(0));}else n(e);});}r=f,o=v,i=m,s=$,l=N,a=E;});}return u(t.getEditorState()),m(t.registerUpdateListener(function(_ref4){var e=_ref4.editorState;return u(e);}),function(){c();});}var E=l,v=r,N=u,A=g,w=i,b=f,y=d,P=s,R=c,I=a;function O(e,t){for(var _n3 of t)if(e.type.startsWith(_n3))return!0;return!1;}function L(e,t){return M("next",e,t);}function M(t,n,r){var o=require("Lexical").$getRoot(),i=n||o,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=T(i),a=r?require("Lexical").$getAdjacentChildCaret(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(r,t))):function(t,n){var r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,n));return r&&r[0];}(i,t);var c=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:c,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&c++;var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(t);return!n||n[0].isSameNodeCaret(a)?null:(c+=n[1],n[0]);}});}function T(e){var t=-1;for(var _n4=e;null!==_n4;_n4=_n4.getParent())t++;return t;}function _(e,t){return M("previous",e,t);}function D(t,r,o){var i=require("Lexical").$getCaretInDirection(r,"next");for(var _t5=i;_t5;_t5=require("Lexical").$splitAtPointCaretNext(_t5,o))i=_t5;return require("Lexical").$isTextPointCaret(i)&&n(283),i.insert(t.isInline()?require("Lexical").$createParagraphNode().append(t):t),require("Lexical").$getCaretInDirection(require("Lexical").$getSiblingCaret(t.getLatest(),"next"),r.direction);}var F=!(P||!v)&&void 0;function B(t,n,r){var o=!1;var _loop=function _loop(_i2){n(_i2)?null!==r&&r(_i2):(o=!0,require("Lexical").$isElementNode(_i2)&&B(_i2,n,r||function(e){return _i2.insertAfter(e);}),_i2.remove());};for(var _i2 of j(t)){_loop(_i2);}return o;}function j(t){return k(require("Lexical").$getChildCaret(t,"previous"));}function k(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}exports.$findMatchingParent=require("Lexical").$findMatchingParent,exports.$getAdjacentSiblingOrParentSiblingCaret=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret,exports.$splitNode=require("Lexical").$splitNode,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.$descendantsMatching=function(t,n){var r=[],o=Array.from(t).reverse();for(var _t6=o.pop();void 0!==_t6;_t6=o.pop())if(n(_t6))r.push(_t6);else if(require("Lexical").$isElementNode(_t6))for(var _e7 of j(_t6))o.push(_e7);return r;},exports.$dfs=function(e,t){return Array.from(L(e,t));},exports.$dfsIterator=L,exports.$filter=function(e,t){var n=[];for(var _r2=0;_r2<e.length;_r2++){var _o2=t(e[_r2]);null!==_o2&&n.push(_o2);}return n;},exports.$firstToLastIterator=function(t){return k(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getDepth=T,exports.$getNearestBlockElementAncestorOrThrow=function(t){var r=require("Lexical").$findMatchingParent(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(r)||n(4,t.__key),r;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(n,"root");return r&&r[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();var r;if(require("Lexical").$isRangeSelection(n))r=require("Lexical").$caretFromPoint(n.focus,"next");else{if(null!=n){var _t7=n.getNodes(),_o3=_t7[_t7.length-1];_o3&&(r=require("Lexical").$getSiblingCaret(_o3,"next"));}r=r||require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"previous").getFlipped().insert(require("Lexical").$createParagraphNode());}var o=D(t,r),i=require("Lexical").$getAdjacentChildCaret(o),s=require("Lexical").$isChildCaret(i)?require("Lexical").$normalizeCaret(i):o;return require("Lexical").$setSelectionFromCaretRange(require("Lexical").$getCollapsedCaretRange(s)),t.getLatest();},exports.$insertNodeToNearestRootAtCaret=D,exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=j,exports.$restoreEditorState=function(t,n){var r=new Map(),o=t._pendingEditorState;for(var _ref6 of n._nodeMap){var _t8=_ref6[0];var _o4=_ref6[1];r.set(_t8,require("Lexical").$cloneWithProperties(_o4));}o&&(o._nodeMap=r),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(_(e,t));},exports.$reverseDfsIterator=_,exports.$unwrapAndFilterDescendants=function(e,t){return B(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=E,exports.CAN_USE_DOM=v,exports.IS_ANDROID=N,exports.IS_ANDROID_CHROME=A,exports.IS_APPLE=w,exports.IS_APPLE_WEBKIT=b,exports.IS_CHROME=y,exports.IS_FIREFOX=P,exports.IS_IOS=R,exports.IS_SAFARI=I,exports.addClassNamesToElement=function(e){var _e$classList;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}var n=p.apply(void 0,t);n.length>0&&(_e$classList=e.classList).add.apply(_e$classList,n);},exports.calculateZoomLevel=function(e){var t=1;if(function(){if(void 0===F){var _e8=document.createElement("div");_e8.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e8);var _t9=_e8.getBoundingClientRect();_e8.style.setProperty("zoom","2"),F=_e8.getBoundingClientRect().width===_t9.width,document.body.removeChild(_e8);}return F;}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t;},exports.isMimeType=O,exports.makeStateWrapper=function(t){var n=function n(_n5){return require("Lexical").$getState(_n5,t);},r=function r(n,_r3){return require("Lexical").$setState(n,t,_r3);};return{$get:n,$set:r,accessors:[n,r],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return r(this,e);};},stateConfig:t};},exports.markSelection=C,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,r){var o=[],_i3=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(o);var a=new FileReader();a.addEventListener("error",r),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&o.push({file:l,result:e}),_i3();}),O(l,t)?a.readAsDataURL(l):_i3();};_i3();});},exports.mergeRegister=m,exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=x,exports.registerNestedElementResolver=function(e,t,n,r){var o=function o(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e9=0;_e9<t.length;_e9++){var _n6=t[_e9];if(o(_n6))return null;}var n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),o(n))return{child:r,parent:n};return null;}(e);if(null!==t){var _o5=t.child,_i4=t.parent;if(_o5.is(e)){r(_i4,e);var _t0=_o5.getNextSiblings(),_s2=_t0.length;if(_i4.insertAfter(_o5),0!==_s2){var _e0=n(_i4);_o5.insertAfter(_e0);for(var _n7=0;_n7<_s2;_n7++)_e0.append(_t0[_n7]);}_i4.canBeEmpty()||0!==_i4.getChildrenSize()||_i4.remove();}}});},exports.removeClassNamesFromElement=function(e){var _e$classList2;for(var _len5=arguments.length,t=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){t[_key5-1]=arguments[_key5];}var n=p.apply(void 0,t);n.length>0&&(_e$classList2=e.classList).remove.apply(_e$classList2,n);},exports.selectionAlwaysOnDisplay=function(e){var t=null;var n=function n(){var n=getSelection(),r=n&&n.anchorNode,o=e.getRootElement();null!==r&&null!==o&&o.contains(r)?null!==t&&(t(),t=null):null===t&&(t=C(e));};return document.addEventListener("selectionchange",n),function(){null!==t&&t(),document.removeEventListener("selectionchange",n);};};}),null);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function a(a){var b=c("useDeferredModuleOnReady")(j);return b==null?null:i.jsx(b,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getPrivacyAwareEditorState",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{nodes:h(a),selection:j(a)}}function h(a){var b=[],c=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(a of a._nodeMap){a[0];var d=a[1],e={};for(var f of c){var g="__"+f;g=d[g];if(g==null||i(f,g))continue;e[f]=g}b.push(e)}return b}function i(a,b){var c=new Set(["detail","format"]);if(c.has(a)&&b===0)return!0;return a==="mode"&&b==="normal"?!0:!1}function j(a){a=a._selection;if(!d("Lexical").$isRangeSelection(a))return null;var b=a.anchor;a=a.focus;return{anchor:{key:b.key,offset:b.offset,type:b.type},focus:{key:a.key,offset:a.offset,type:a.type}}}g["default"]=a}),98);
__d("mlcErrorHandler__INTERNAL",["getPrivacyAwareEditorState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=document.activeElement,f=null;e!=null&&(f={activeElement:e.nodeName,rootSelected:e===b.getRootElement()});e=window.event;var g=null;e!=null&&(g={altKey:e.altKey,ctrlKey:e.ctrlKey,data:e.data,inputType:e.inputType,isComposing:e.isComposing,keyCode:e.keyCode,metaKey:e.metaKey,shiftKey:e.shiftKey,type:e.type});e=null;try{e=c("getPrivacyAwareEditorState")(b.getEditorState())}catch(a){}d(JSON.stringify({activeElement:f,editorState:e,error:a,event:g}))}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7436c8dc7367c270e1db7b9c3652e01f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalEditable.prod",["LexicalComposerContext","react"],(function $module_useLexicalEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react"));var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function i(e){return{initialValueFn:function initialValueFn(){return e.isEditable();},subscribe:function subscribe(t){return e.registerEditableListener(t);}};}exports.useLexicalEditable=function(){return function(i){var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),r=_e$useLexicalComposer[0],u=t.useMemo(function(){return i(r);},[r,i]),_t$useState=t.useState(function(){return u.initialValueFn();}),o=_t$useState[0],s=_t$useState[1],c=t.useRef(o);return n(function(){var e=u.initialValueFn,t=u.subscribe,n=e();return c.current!==n&&(c.current=n,s(n)),t(function(e){c.current=e,s(e);});},[u,i]),o;}(i);};}),null);